var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function o(){return Object.create(null)}function c(t){t.forEach(s)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function a(t){let e;return i(t,t=>e=t)(),e}function u(t,e,n){t.$$.on_destroy.push(i(e,n))}function f(t,e,n,s){if(t){const o=d(t,e,n,s);return t[0](o)}}function d(t,e,s,o){return t[1]&&o?n(s.ctx.slice(),t[1](o(e))):s.ctx}function p(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}function m(e){return e&&r(e.destroy)?e.destroy:t}const h="undefined"!=typeof window;let $=h?()=>window.performance.now():()=>Date.now(),g=h?t=>requestAnimationFrame(t):t;const v=new Set;function y(t){v.forEach(e=>{e.c(t)||(v.delete(e),e.f())}),0!==v.size&&g(y)}function x(t){let e;return 0===v.size&&g(y),{promise:new Promise(n=>{v.add(e={c:t,f:n})}),abort(){v.delete(e)}}}function w(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode.removeChild(t)}function q(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function L(){return E(" ")}function j(){return E("")}function A(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function N(t){return function(e){return e.preventDefault(),t.call(this,e)}}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){e=""+e,t.data!==e&&(t.data=e)}function S(t,e){(null!=e||t.value)&&(t.value=e)}function M(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}}function O(t,e,n){t.classList[n?"add":"remove"](e)}function H(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class I{constructor(t,e=null){this.e=_("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)b(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(k)}}let z,P,R=0,D={};function F(t,e,n,s,o,c,r,l=0){const i=16.666/s;let a="{\n";for(let t=0;t<=1;t+=i){const s=e+(n-e)*c(t);a+=100*t+`%{${r(s,1-s)}}\n`}const u=a+`100% {${r(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`;if(!D[f]){if(!z){const t=_("style");document.head.appendChild(t),z=t.sheet}D[f]=!0,z.insertRule(`@keyframes ${f} ${u}`,z.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${f} ${s}ms linear ${o}ms 1 both`,R+=1,f}function U(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--R&&g(()=>{if(R)return;let t=z.cssRules.length;for(;t--;)z.deleteRule(t);D={}})}function B(t){P=t}function J(){if(!P)throw new Error("Function called outside component initialization");return P}function W(t){J().$$.on_mount.push(t)}function Y(){const t=J();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=H(e,n);s.slice().forEach(e=>{e.call(t,o)})}}}function Q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const G=[],K=[],V=[],X=[],Z=Promise.resolve();let tt=!1;function et(t){V.push(t)}let nt=!1;const st=new Set;function ot(){if(!nt){nt=!0;do{for(let t=0;t<G.length;t+=1){const e=G[t];B(e),ct(e.$$)}for(G.length=0;K.length;)K.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];st.has(e)||(st.add(e),e())}V.length=0}while(G.length);for(;X.length;)X.pop()();tt=!1,nt=!1,st.clear()}}function ct(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}let rt;function lt(){return rt||(rt=Promise.resolve()).then(()=>{rt=null}),rt}function it(t,e,n){t.dispatchEvent(H(`${e?"intro":"outro"}${n}`))}const at=new Set;let ut;function ft(){ut={r:0,c:[],p:ut}}function dt(){ut.r||c(ut.c),ut=ut.p}function pt(t,e){t&&t.i&&(at.delete(t),t.i(e))}function mt(t,e,n,s){if(t&&t.o){if(at.has(t))return;at.add(t),ut.c.push(()=>{at.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}const ht={duration:0};function $t(n,s,o){let c,l,i=s(n,o),a=!1,u=0;function f(){c&&U(n,c)}function d(){const{delay:s=0,duration:o=300,easing:r=e,tick:d=t,css:p}=i||ht;p&&(c=F(n,0,1,o,s,r,p,u++)),d(0,1);const m=$()+s,h=m+o;l&&l.abort(),a=!0,et(()=>it(n,!0,"start")),l=x(t=>{if(a){if(t>=h)return d(1,0),it(n,!0,"end"),f(),a=!1;if(t>=m){const e=r((t-m)/o);d(e,1-e)}}return a})}let p=!1;return{start(){p||(U(n),r(i)?(i=i(),lt().then(d)):d())},invalidate(){p=!1},end(){a&&(f(),a=!1)}}}function gt(n,s,o,l){let i=s(n,o),a=l?0:1,u=null,f=null,d=null;function p(){d&&U(n,d)}function m(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(s){const{delay:o=0,duration:r=300,easing:l=e,tick:h=t,css:g}=i||ht,v={start:$()+o,b:s};s||(v.group=ut,ut.r+=1),u?f=v:(g&&(p(),d=F(n,a,s,r,o,l,g)),s&&h(0,1),u=m(v,r),et(()=>it(n,s,"start")),x(t=>{if(f&&t>f.start&&(u=m(f,r),f=null,it(n,u.b,"start"),g&&(p(),d=F(n,a,u.b,u.duration,0,l,i.css))),u)if(t>=u.end)h(a=u.b,1-a),it(n,u.b,"end"),f||(u.b?p():--u.group.r||c(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*l(e/u.duration),h(a,1-a)}return!(!u&&!f)}))}return{run(t){r(i)?lt().then(()=>{i=i(),h(t)}):h(t)},end(){p(),u=f=null}}}function vt(t,e){t.d(1),e.delete(t.key)}function yt(t){t&&t.c()}function xt(t,e,n){const{fragment:o,on_mount:l,on_destroy:i,after_update:a}=t.$$;o&&o.m(e,n),et(()=>{const e=l.map(s).filter(r);i?i.push(...e):c(e),t.$$.on_mount=[]}),a.forEach(et)}function wt(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bt(t,e){-1===t.$$.dirty[0]&&(G.push(t),tt||(tt=!0,Z.then(ot)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(e,n,s,r,l,i,a=[-1]){const u=P;B(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a};let p=!1;var m;d.ctx=s?s(e,f,(t,n,...s)=>{const o=s.length?s[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),p&&bt(e,t)),n}):[],d.update(),p=!0,c(d.before_update),d.fragment=!!r&&r(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l((m=n.target,Array.from(m.childNodes))):d.fragment&&d.fragment.c(),n.intro&&pt(e.$$.fragment),xt(e,n.target,n.anchor),ot()),B(u)}class qt{$destroy(){wt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const _t=[];function Et(t,e){return{subscribe:Lt(t,e).subscribe}}function Lt(e,n=t){let s;const o=[];function c(t){if(l(e,t)&&(e=t,s)){const t=!_t.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),_t.push(n,e)}if(t){for(let t=0;t<_t.length;t+=2)_t[t][0](_t[t+1]);_t.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,l=t){const i=[r,l];return o.push(i),1===o.length&&(s=n(c)||t),r(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}function jt(e,n,s){const o=!Array.isArray(e),l=o?[e]:e,a=n.length<2;return Et(s,e=>{let s=!1;const u=[];let f=0,d=t;const p=()=>{if(f)return;d();const s=n(o?u[0]:u,e);a?e(s):d=r(s)?s:t},m=l.map((t,e)=>i(t,t=>{u[e]=t,f&=~(1<<e),s&&p()},()=>{f|=1<<e}));return s=!0,p(),function(){c(m),d()}})}function At(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,o,c,r=[],l="",i=t.split("/");for(i[0]||i.shift();o=i.shift();)"*"===(n=o[0])?(r.push("wild"),l+="/(.*)"):":"===n?(s=o.indexOf("?",1),c=o.indexOf(".",1),r.push(o.substring(1,~s?s:~c?c:o.length)),l+=~s&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(l+=(~s?"?":"")+"\\"+o.substring(c))):l+="/"+o;return{keys:r,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}function Nt(t){let e,n;var s=t[0];function o(t){return{props:{params:t[1]}}}if(s)var c=new s(o(t));return{c(){c&&yt(c.$$.fragment),e=j()},m(t,s){c&&xt(c,t,s),b(t,e,s),n=!0},p(t,[n]){const r={};if(2&n&&(r.params=t[1]),s!==(s=t[0])){if(c){ft();const t=c;mt(t.$$.fragment,1,0,()=>{wt(t,1)}),dt()}s?(yt((c=new s(o(t))).$$.fragment),pt(c.$$.fragment,1),xt(c,e.parentNode,e)):c=null}else s&&c.$set(r)},i(t){n||(c&&pt(c.$$.fragment,t),n=!0)},o(t){c&&mt(c.$$.fragment,t),n=!1},d(t){t&&k(e),c&&wt(c,t)}}}function Ct(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let s="";return n>-1&&(s=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:s}}const Tt=Et(Ct(),function(t){const e=()=>{t(Ct())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}});jt(Tt,t=>t.location),jt(Tt,t=>t.querystring);function St(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash=("#"==t.charAt(0)?"":"#")+t},0)}function Mt(){setTimeout(()=>{window.history.back()},0)}function Ot(t){if(!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');const e=t.getAttribute("href");if(!e||e.length<1||"/"!=e.charAt(0))throw Error('Invalid value for "href" attribute');t.setAttribute("href","#"+e)}function Ht(e,n,s){let o,c=t;u(e,Tt,t=>s(4,o=t)),e.$$.on_destroy.push(()=>c());let{routes:r={}}=n,{prefix:l=""}=n;class i{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:s}=At(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.route,this.conditions=e.conditions||[],this.userData=e.userData):(this.component=e,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=s}match(t){l&&t.startsWith(l)&&(t=t.substr(l.length)||"/");const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let s=0;for(;s<this._keys.length;)n[this._keys[s]]=e[++s]||null;return n}checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!this.conditions[e](t))return!1;return!0}}const a=r instanceof Map?r:Object.entries(r),f=[];for(const[t,e]of a)f.push(new i(t,e));let d=null,p={};const m=Y(),h=(t,e)=>{setTimeout(()=>{m(t,e)},0)};return e.$set=(t=>{"routes"in t&&s(2,r=t.routes),"prefix"in t&&s(3,l=t.prefix)}),e.$$.update=(()=>{if(17&e.$$.dirty){s(0,d=null);let t=0;for(;!d&&t<f.length;){const e=f[t].match(o.location);if(e){const n={component:f[t].component,name:f[t].component.name,location:o.location,querystring:o.querystring,userData:f[t].userData};if(!f[t].checkConditions(n)){h("conditionsFailed",n);break}s(0,d=f[t].component),s(1,p=e),h("routeLoaded",n)}t++}}}),[d,p,r,l]}class It extends qt{constructor(t){super(),kt(this,t,Ht,Nt,l,{routes:2,prefix:3})}}function zt(t){let e,n,s,o;const c=t[3].default,r=f(c,t,t[2],null);return{c(){e=_("button"),r&&r.c(),C(e,"class",n="btn btn-"+t[1]+" svelte-1i6msxy"),e.disabled=t[0]},m(n,c){b(n,e,c),r&&r.m(e,null),s=!0,o=A(e,"click",t[4])},p(t,[o]){r&&r.p&&4&o&&r.p(d(c,t,t[2],null),p(c,t[2],o,null)),(!s||2&o&&n!==(n="btn btn-"+t[1]+" svelte-1i6msxy"))&&C(e,"class",n),(!s||1&o)&&(e.disabled=t[0])},i(t){s||(pt(r,t),s=!0)},o(t){mt(r,t),s=!1},d(t){t&&k(e),r&&r.d(t),o()}}}function Pt(t,e,n){let{disabled:s=!1}=e,{type:o="primary"}=e,{$$slots:c={},$$scope:r}=e;return t.$set=(t=>{"disabled"in t&&n(0,s=t.disabled),"type"in t&&n(1,o=t.type),"$$scope"in t&&n(2,r=t.$$scope)}),[s,o,r,c,function(e){Q(t,e)}]}class Rt extends qt{constructor(t){super(),kt(this,t,Pt,zt,l,{disabled:0,type:1})}}function Dt(t){const e=t-1;return e*e*e+1}function Ft(t,{delay:n=0,duration:s=400,easing:o=e}){const c=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:o,css:t=>`opacity: ${t*c}`}}function Ut(t,{delay:e=0,duration:n=400,easing:s=Dt,x:o=0,y:c=0,opacity:r=0}){const l=getComputedStyle(t),i=+l.opacity,a="none"===l.transform?"":l.transform,u=i*(1-r);return{delay:e,duration:n,easing:s,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*o}px, ${(1-t)*c}px);\n\t\t\topacity: ${i-u*e}`}}function Bt(t,e,n={}){n={path:"/",...n};let s=encodeURIComponent(t)+"="+encodeURIComponent(e);for(let t in n)s+="; "+t,s+="="+n[t];document.cookie=s}const Jt=(t,e)=>{const n=localStorage.getItem(t);return(e=Lt(n?JSON.parse(n):e)).subscribe(e=>{void 0!==e&&localStorage.setItem(t,JSON.stringify(e))}),e},Wt=()=>{localStorage.clear()},Yt=Jt("app-user"),Qt=Jt("app-lessons-active",{}),Gt=Jt("app-lessons-completed",{}),Kt="./data/journal.json",Vt="./data/users/";async function Xt(t){const e=Vt+t+".json",n=await fetch(e);if(!n.ok)throw new Error(n.status);return await n.json()}async function Zt(t){try{const e=await Xt(t);Qt.set({user:t,lesson:e.lesson||[],hometask:e.hometask||[]})}catch(t){Qt.set({user:" ",lesson:[],hometask:[]}),console.log(t)}}const te=()=>(function(t){if(!document.cookie)return null;const e=document.cookie.split(";").map(t=>t.trim()).filter(e=>e.startsWith(t+"="));return 0===e.length?null:decodeURIComponent(e[0].split("=")[1])})("user");function ee(){Wt(),Bt("user","",{"max-age":-1}),St("/")}function ne(e){let n,s,o;return{c(){n=_("div"),s=E(e[2]),C(n,"class","mb-4 text-red-600")},m(t,e){b(t,n,e),w(n,s)},p(t,e){4&e&&T(s,t[2])},i(t){o||et(()=>{(o=$t(n,Ft,{duration:300})).start()})},o:t,d(t){t&&k(n)}}}function se(t){let e;return{c(){e=E("Enter")},m(t,n){b(t,e,n)},d(t){t&&k(e)}}}function oe(t){let e,n,s,o,r,l,i,a,u,f,d,p,m,h,$,g,v,y,x,q,E,j,N,T,M,H,I=t[2]&&ne(t);const z=new Rt({props:{type:"primary",$$slots:{default:[se]},$$scope:{ctx:t}}});return z.$on("click",t[5]),{c(){e=_("div"),n=_("div"),(s=_("div")).textContent="Log in",o=L(),r=_("form"),l=_("div"),(i=_("span")).innerHTML='<i class="icon-login"></i>',a=L(),u=_("input"),f=L(),d=_("span"),p=L(),m=_("div"),(h=_("span")).innerHTML='<i class="icon-password"></i>',$=L(),g=_("input"),v=L(),y=_("span"),x=L(),I&&I.c(),q=L(),yt(z.$$.fragment),E=L(),j=_("br"),N=L(),(T=_("span")).innerHTML="test 1 <br> teacher 123456",C(s,"class","text-black text-2xl mb-8"),C(i,"class","icon"),C(u,"type","text"),C(u,"class","input svelte-1ii8cay"),u.autofocus=!0,C(u,"maxlength","15"),C(u,"autocomplete","nickname"),C(u,"placeholder","Login"),C(d,"class","focus svelte-1ii8cay"),C(l,"class","custom-input mb-8 svelte-1ii8cay"),O(l,"error",!t[3]),C(h,"class","icon"),C(g,"type","password"),C(g,"class","input svelte-1ii8cay"),C(g,"maxlength","15"),C(g,"autocomplete","current-password"),C(g,"placeholder","Password"),C(y,"class","focus svelte-1ii8cay"),C(m,"class","custom-input mb-8 svelte-1ii8cay"),O(m,"error",!t[4]),C(r,"action",""),C(n,"class","rounded border bg-white py-12 px-16 inline-block text-center"),C(e,"class","flex flex-col justify-center items-center min-h-screen py-16")},m(c,k){b(c,e,k),w(e,n),w(n,s),w(n,o),w(n,r),w(r,l),w(l,i),w(l,a),w(l,u),S(u,t[0]),w(l,f),w(l,d),w(r,p),w(r,m),w(m,h),w(m,$),w(m,g),S(g,t[1]),w(m,v),w(m,y),w(r,x),I&&I.m(r,null),w(r,q),xt(z,r,null),w(e,E),w(e,j),w(e,N),w(e,T),M=!0,u.focus(),H=[A(u,"input",t[7]),A(g,"input",t[8]),A(r,"submit",t[5])]},p(t,[e]){1&e&&u.value!==t[0]&&S(u,t[0]),8&e&&O(l,"error",!t[3]),2&e&&g.value!==t[1]&&S(g,t[1]),16&e&&O(m,"error",!t[4]),t[2]?I?(I.p(t,e),pt(I,1)):((I=ne(t)).c(),pt(I,1),I.m(r,q)):I&&(I.d(1),I=null);const n={};512&e&&(n.$$scope={dirty:e,ctx:t}),z.$set(n)},i(t){M||(pt(I),pt(z.$$.fragment,t),M=!0)},o(t){mt(z.$$.fragment,t),M=!1},d(t){t&&k(e),I&&I.d(),wt(z),c(H)}}}function ce(t,e,n){let s="",o="",c="",r=!0,l=!0;function i(){return n(0,s=s.trim()),n(1,o=o.trim()),n(3,r=0!==s.length),n(4,l=0!==o.length),r&&l}return[s,o,c,r,l,async function(t){if(t.preventDefault(),i())try{await async function(t,e){const n=await Xt(t);if(n.password!==e)throw new Error("Password not correct");Yt.set({name:n.name,login:n.login,role:n.role}),Bt("user",1)}(s,o),St("/lesson")}catch(t){if("404"===t.message)return n(3,r=!1),void n(2,c=`User '${s}' not found`);if("Password not correct"===t.message)return n(4,l=!1),void n(2,c=t.message)}},i,function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)}]}const re=t=>({}),le=t=>({}),ie=t=>({}),ae=t=>({});function ue(t){let e,n,s,o,c;const r=t[1].sidebar,l=f(r,t,t[0],ae),i=t[1].main,a=f(i,t,t[0],le);return{c(){e=_("div"),n=_("div"),l&&l.c(),s=L(),o=_("main"),a&&a.c(),C(n,"class","sidebar flex-none w-1/4 hidden xl:block pr-4"),C(o,"class","main flex-1 px-4"),C(e,"class","container flex py-12")},m(t,r){b(t,e,r),w(e,n),l&&l.m(n,null),w(e,s),w(e,o),a&&a.m(o,null),c=!0},p(t,[e]){l&&l.p&&1&e&&l.p(d(r,t,t[0],ae),p(r,t[0],e,ie)),a&&a.p&&1&e&&a.p(d(i,t,t[0],le),p(i,t[0],e,re))},i(t){c||(pt(l,t),pt(a,t),c=!0)},o(t){mt(l,t),mt(a,t),c=!1},d(t){t&&k(e),l&&l.d(t),a&&a.d(t)}}}function fe(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$set=(t=>{"$$scope"in t&&n(0,o=t.$$scope)}),[o,s]}class de extends qt{constructor(t){super(),kt(this,t,fe,ue,l,{})}}function pe(t,e,n){const s=t.slice();return s[5]=e[n],s}function me(t){let e,n=t[2],s=[];for(let e=0;e<n.length;e+=1)s[e]=$e(pe(t,n,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);b(t,e,n)},p(t,o){if(30&o){let c;for(n=t[2],c=0;c<n.length;c+=1){const r=pe(t,n,c);s[c]?s[c].p(r,o):(s[c]=$e(r),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}},d(t){q(s,t),t&&k(e)}}}function he(t){let e,n;return{c(){e=E("No "),n=E(t[0])},m(t,s){b(t,e,s),b(t,n,s)},p(t,e){1&e&&T(n,t[0])},d(t){t&&k(e),t&&k(n)}}}function $e(t){let e,n,s,o,l,i,a,u,f,d,p,m,h=t[5].title+"",$=t[4](t[5].date)+"";return{c(){e=_("div"),n=_("button"),s=E(h),o=L(),(l=_("button")).textContent="Start",i=L(),a=_("br"),u=L(),f=_("span"),d=E($),p=L(),C(n,"class","text-lg"),C(l,"class","text-primary px-2"),C(e,"class","py-4 border-b last:border-b-0")},m(c,h){b(c,e,h),w(e,n),w(n,s),w(e,o),w(e,l),w(e,i),w(e,a),w(e,u),w(e,f),w(f,d),w(e,p),m=[A(n,"click",function(){r(St(`/${t[1]}/${t[3](t[5].title)}`))&&St(`/${t[1]}/${t[3](t[5].title)}`).apply(this,arguments)}),A(l,"click",function(){r(St(`/${t[1]}/${t[3](t[5].title)}`))&&St(`/${t[1]}/${t[3](t[5].title)}`).apply(this,arguments)})]},p(e,n){t=e,4&n&&h!==(h=t[5].title+"")&&T(s,h),4&n&&$!==($=t[4](t[5].date)+"")&&T(d,$)},d(t){t&&k(e),c(m)}}}function ge(e){let n,s,o,c,r;function l(t,e){return t[2].length?me:he}let i=l(e),a=i(e);return{c(){n=_("div"),s=_("h2"),o=E(e[0]),c=L(),r=_("div"),a.c(),C(s,"class","title pb-4 px-6"),C(r,"class","rounded border bg-white p-6"),C(n,"class","pb-4")},m(t,e){b(t,n,e),w(n,s),w(s,o),w(n,c),w(n,r),a.m(r,null)},p(t,[e]){1&e&&T(o,t[0]),i===(i=l(t))&&a?a.p(t,e):(a.d(1),(a=i(t))&&(a.c(),a.m(r,null)))},i:t,o:t,d(t){t&&k(n),a.d()}}}function ve(t,e,n){let{title:s=""}=e,{params:o=""}=e,{lessons:c=[]}=e;return t.$set=(t=>{"title"in t&&n(0,s=t.title),"params"in t&&n(1,o=t.params),"lessons"in t&&n(2,c=t.lessons)}),[s,o,c,t=>t.toLowerCase().replace(/\s/g,"-"),t=>new Date(t).toLocaleDateString("en-US")]}class ye extends qt{constructor(t){super(),kt(this,t,ve,ge,l,{title:0,params:1,lessons:2})}}const xe=[];let we;function be(t){t.node.classList.remove(t.className),t.pattern.test(we)&&t.node.classList.add(t.className)}function ke(t,e){if(!(e=e&&"string"==typeof e?{path:e}:e||{}).path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&"#"==e.path.charAt(0)&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||e.path.length<1||"/"!=e.path.charAt(0)&&"*"!=e.path.charAt(0))throw Error('Invalid value for "path" argument');const{pattern:n}=At(e.path),s={node:t,className:e.className,pattern:n};return xe.push(s),be(s),{destroy(){xe.splice(xe.indexOf(s),1)}}}function qe(t,e,n){const s=t.slice();return s[2]=e[n],s}function _e(t){let e,n,s;return{c(){e=_("span"),C(n=_("i"),"class",s="icon-"+t[2]),C(e,"class","icon pr-2")},m(t,s){b(t,e,s),w(e,n)},p(t,e){1&e&&s!==(s="icon-"+t[2])&&C(n,"class",s)},d(t){t&&k(e)}}}function Ee(t){let e,n,s,o,r,l,i,a,u,f=t[2]+"",d=t[1]&&_e(t);return{c(){e=_("li"),n=_("a"),d&&d.c(),s=L(),o=E(f),a=L(),C(n,"href",r="/"+t[2])},m(t,c){b(t,e,c),w(e,n),d&&d.m(n,null),w(n,s),w(n,o),w(e,a),u=[m(l=Ot.call(null,n)),m(i=ke.call(null,n))]},p(t,e){t[1]?d?d.p(t,e):((d=_e(t)).c(),d.m(n,s)):d&&(d.d(1),d=null),1&e&&f!==(f=t[2]+"")&&T(o,f),1&e&&r!==(r="/"+t[2])&&C(n,"href",r)},d(t){t&&k(e),d&&d.d(),c(u)}}}function Le(e){let n,s,o=e[0],c=[];for(let t=0;t<o.length;t+=1)c[t]=Ee(qe(e,o,t));return{c(){n=_("nav"),s=_("ul");for(let t=0;t<c.length;t+=1)c[t].c()},m(t,e){b(t,n,e),w(n,s);for(let t=0;t<c.length;t+=1)c[t].m(s,null)},p(t,[e]){if(3&e){let n;for(o=t[0],n=0;n<o.length;n+=1){const r=qe(t,o,n);c[n]?c[n].p(r,e):(c[n]=Ee(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=o.length}},i:t,o:t,d(t){t&&k(n),q(c,t)}}}function je(t,e,n){let{links:s=[]}=e,{icon:o=!1}=e;return t.$set=(t=>{"links"in t&&n(0,s=t.links),"icon"in t&&n(1,o=t.icon)}),[s,o]}Tt.subscribe(t=>{we=t.location+(t.querystring?"?"+t.querystring:""),xe.map(be)});class Ae extends qt{constructor(t){super(),kt(this,t,je,Le,l,{links:0,icon:1})}}function Ne(t,e,n){const s=t.slice();return s[6]=e[n],s}function Ce(t){let e,n,s,o,c=t[6]+"";return{c(){e=_("option"),n=E(c),s=L(),e.__value=o=t[6],e.value=e.__value},m(t,o){b(t,e,o),w(e,n),w(e,s)},p(t,s){2&s&&c!==(c=t[6]+"")&&T(n,c),2&s&&o!==(o=t[6])&&(e.__value=o),e.value=e.__value},d(t){t&&k(e)}}}function Te(e){let n,s,o,r,l,i=e[1],a=[];for(let t=0;t<i.length;t+=1)a[t]=Ce(Ne(e,i,t));return{c(){n=_("div"),s=_("select"),o=_("option"),r=E(e[2]);for(let t=0;t<a.length;t+=1)a[t].c();o.__value="",o.value=o.__value,C(s,"class","custom-select svelte-jz78dw"),void 0===e[0]&&et(()=>e[5].call(s)),C(n,"class","pb-4")},m(t,c){b(t,n,c),w(n,s),w(s,o),w(o,r);for(let t=0;t<a.length;t+=1)a[t].m(s,null);M(s,e[0]),l=[A(s,"change",e[5]),A(s,"change",e[3])]},p(t,[e]){if(4&e&&T(r,t[2]),2&e){let n;for(i=t[1],n=0;n<i.length;n+=1){const o=Ne(t,i,n);a[n]?a[n].p(o,e):(a[n]=Ce(o),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}1&e&&M(s,t[0])},i:t,o:t,d(t){t&&k(n),q(a,t),c(l)}}}function Se(t,e,n){let{options:s}=e,{placeholder:o="Select..."}=e,{selected:c=""}=e;const r=Y();return t.$set=(t=>{"options"in t&&n(1,s=t.options),"placeholder"in t&&n(2,o=t.placeholder),"selected"in t&&n(0,c=t.selected)}),[c,s,o,function(){r("select",{selected:c})},r,function(){c=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,c),n(1,s)}]}class Me extends qt{constructor(t){super(),kt(this,t,Se,Te,l,{options:1,placeholder:2,selected:0})}}function Oe(t){let e;return{c(){(e=_("span")).innerHTML='<i class="icon-logout"></i>',C(e,"class","icon")},m(t,n){b(t,e,n)},d(t){t&&k(e)}}}function He(t){let e,n,s,o,c,r,l,i,a,u=t[1].name+"";const f=new Rt({props:{type:"link",$$slots:{default:[Oe]},$$scope:{ctx:t}}});f.$on("click",ee);const d=new Ae({props:{links:["lesson","hometask"],icon:!0}});return{c(){e=_("div"),n=_("div"),(s=_("span")).innerHTML='<i class="icon-girl"></i>',o=E("\n      Welcome, "),c=E(u),r=E("!\n      "),l=_("span"),yt(f.$$.fragment),i=L(),yt(d.$$.fragment),C(s,"class","icon pr-2"),C(l,"class","ml-auto"),C(n,"class","flex items-center text-lg leading-loose pb-4 px-2"),C(e,"slot","sidebar")},m(t,u){b(t,e,u),w(e,n),w(n,s),w(n,o),w(n,c),w(n,r),w(n,l),xt(f,l,null),w(e,i),xt(d,e,null),a=!0},p(t,e){(!a||2&e)&&u!==(u=t[1].name+"")&&T(c,u);const n={};32&e&&(n.$$scope={dirty:e,ctx:t}),f.$set(n)},i(t){a||(pt(f.$$.fragment,t),pt(d.$$.fragment,t),a=!0)},o(t){mt(f.$$.fragment,t),mt(d.$$.fragment,t),a=!1},d(t){t&&k(e),wt(f),wt(d)}}}function Ie(t){let e,n,s,o={ctx:t,current:null,token:null,pending:Re,then:Pe,catch:ze,value:4,blocks:[,,,]};return function(t,e){const n=e.token={};function s(t,s,o,c){if(e.token!==n)return;e.resolved=c;let r=e.ctx;void 0!==o&&((r=r.slice())[o]=c);const l=t&&(e.current=t)(r);let i=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==s&&t&&(ft(),mt(t,1,1,()=>{e.blocks[n]=null}),dt())}):e.block.d(1),l.c(),pt(l,1),l.m(e.mount(),e.anchor),i=!0),e.block=l,e.blocks&&(e.blocks[s]=l),i&&ot()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=J();if(t.then(t=>{B(n),s(e.then,1,e.value,t),B(null)},t=>{B(n),s(e.catch,2,e.error,t),B(null)}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}var o}(n=t[3],o),{c(){e=j(),o.block.c()},m(t,n){b(t,e,n),o.block.m(t,o.anchor=n),o.mount=(()=>e.parentNode),o.anchor=e,s=!0},p(e,n){{const s=(t=e).slice();s[4]=o.resolved,o.block.p(s,n)}},i(t){s||(pt(o.block),s=!0)},o(t){for(let t=0;t<3;t+=1){mt(o.blocks[t])}s=!1},d(t){t&&k(e),o.block.d(t),o.token=null,o=null}}}function ze(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Pe(t){let e;const n=new Me({props:{placeholder:"Select student",options:t[4],selected:t[2].user}});return n.$on("select",Be),{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,e){const s={};4&e&&(s.selected=t[2].user),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function Re(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function De(t){let e,n,s,o,c="teacher"===t[1].role&&Ie(t);const r=new ye({props:{title:"Active",lessons:t[2][t[0].lesson],params:t[0].lesson}}),l=new ye({props:{title:"Completed",lessons:Gt,params:t[0].lesson}});return{c(){e=_("div"),c&&c.c(),n=L(),yt(r.$$.fragment),s=L(),yt(l.$$.fragment),C(e,"slot","main")},m(t,i){b(t,e,i),c&&c.m(e,null),w(e,n),xt(r,e,null),w(e,s),xt(l,e,null),o=!0},p(t,s){"teacher"===t[1].role?c?(c.p(t,s),pt(c,1)):((c=Ie(t)).c(),pt(c,1),c.m(e,n)):c&&(ft(),mt(c,1,1,()=>{c=null}),dt());const o={};5&s&&(o.lessons=t[2][t[0].lesson]),1&s&&(o.params=t[0].lesson),r.$set(o);const i={};1&s&&(i.params=t[0].lesson),l.$set(i)},i(t){o||(pt(c),pt(r.$$.fragment,t),pt(l.$$.fragment,t),o=!0)},o(t){mt(c),mt(r.$$.fragment,t),mt(l.$$.fragment,t),o=!1},d(t){t&&k(e),c&&c.d(),wt(r),wt(l)}}}function Fe(e){let n;return{c(){n=L()},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}function Ue(t){let e;const n=new de({props:{$$slots:{default:[Fe],main:[De],sidebar:[He]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,[e]){const s={};39&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function Be({detail:t}){Zt(t.selected)}function Je(t,e,n){let s,o;u(t,Yt,t=>n(1,s=t)),u(t,Qt,t=>n(2,o=t));let{params:c={}}=e;W(()=>{"student"===s.role&&Zt(s.login)});const r="teacher"===s.role?async function(){try{const t=await fetch(Kt);return(await t.json()).users}catch(t){console.log(t)}}():[];return t.$set=(t=>{"params"in t&&n(0,c=t.params)}),[c,s,o,r]}function We(t){let e,n,s,o;const c=t[1].default,r=f(c,t,t[0],null);return{c(){e=_("div"),n=_("div"),r&&r.c(),C(n,"class","flex items-center"),C(e,"class","notification svelte-nk3wtf")},m(t,s){b(t,e,s),w(e,n),r&&r.m(n,null),o=!0},p(t,[e]){r&&r.p&&1&e&&r.p(d(c,t,t[0],null),p(c,t[0],e,null))},i(t){o||(pt(r,t),et(()=>{s||(s=gt(e,Ut,{y:-200,duration:500},!0)),s.run(1)}),o=!0)},o(t){mt(r,t),s||(s=gt(e,Ut,{y:-200,duration:500},!1)),s.run(0),o=!1},d(t){t&&k(e),r&&r.d(t),t&&s&&s.end()}}}function Ye(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$set=(t=>{"$$scope"in t&&n(0,o=t.$$scope)}),[o,s]}class Qe extends qt{constructor(t){super(),kt(this,t,Ye,We,l,{})}}function Ge(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function Ke(t){let e;return{c(){C(e=_("span"),"class","correct-variant")},m(t,n){b(t,e,n)},d(t){t&&k(e)}}}function Ve(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m=t[6].variant+"";function h(...e){return t[5](t[8],...e)}let $=t[6].answer&&Ke();return{c(){e=_("label"),n=_("span"),s=_("input"),r=L(),l=_("span"),i=L(),a=_("span"),u=E(m),f=L(),$&&$.c(),C(s,"class","radio-input svelte-ni0fuj"),C(s,"id",o=t[8]),s.value=c=t[8],C(s,"type","radio"),C(l,"class","custom-radio-inner svelte-ni0fuj"),C(n,"class","custom-radio pr-2 svelte-ni0fuj"),O(n,"checked",t[8]===t[0]),C(a,"class","variant"),C(e,"for",d=t[8]),C(e,"class","label py-2 svelte-ni0fuj")},m(t,o){b(t,e,o),w(e,n),w(n,s),w(n,r),w(n,l),w(e,i),w(e,a),w(a,u),w(a,f),$&&$.m(a,null),p=A(s,"click",h)},p(e,s){t=e,1&s&&O(n,"checked",t[8]===t[0]),2&s&&m!==(m=t[6].variant+"")&&T(u,m),t[6].answer?$||(($=Ke()).c(),$.m(a,null)):$&&($.d(1),$=null)},d(t){t&&k(e),$&&$.d(),p()}}}function Xe(e){let n,s,o=e[1],c=[];for(let t=0;t<o.length;t+=1)c[t]=Ve(Ge(e,o,t));return{c(){for(let t=0;t<c.length;t+=1)c[t].c();n=L(),C(s=_("div"),"class","mt-4 text-xl text-justify")},m(t,o){for(let e=0;e<c.length;e+=1)c[e].m(t,o);b(t,n,o),b(t,s,o),s.innerHTML=e[2]},p(t,[e]){if(11&e){let s;for(o=t[1],s=0;s<o.length;s+=1){const r=Ge(t,o,s);c[s]?c[s].p(r,e):(c[s]=Ve(r),c[s].c(),c[s].m(n.parentNode,n))}for(;s<c.length;s+=1)c[s].d(1);c.length=o.length}4&e&&(s.innerHTML=t[2])},i:t,o:t,d(t){q(c,t),t&&k(n),t&&k(s)}}}function Ze(t,e,n){let{selected:s}=e,{variants:o}=e,{context:c=" "}=e;const r=Y();function l(t){r("select",t)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"context"in t&&n(2,c=t.context)}),[s,o,c,l,r,t=>l(t)]}class tn extends qt{constructor(t){super(),kt(this,t,Ze,Xe,l,{selected:0,variants:1,context:2})}}const en=/<\/*\d+\w*>/g,nn=/<[0-9]+B>([0-9]+)(\w)<\/[0-9]+B>/g;function sn(t,e){let n=[];const s=t.replace(nn,(t,e,n)=>` <span class="slot hidden" data-index=${e-1}>${n}</span><span class="slot-sentence hidden" data-index=${e-1}>${n}</span> `);for(let t=1;t<=e;t++){const e=new RegExp("<"+t+">.*</"+t+">"),o=new RegExp("<"+t+"A>(.*)</"+t+"A>");let c=s.match(e);c?(c=(c=(c=c[0]).replace(o,' <span class="highlight-hidden">$1</span> ')).replace(en," "),n.push(c)):(console.log(`Question ${t}: No fragment or context was not markuped!`),n.push(null))}return n}function on(t,e){const n=new RegExp('-hidden(?=">'+e+")");return t.replace(n,"")}function cn(t){return t.replace(/slot hidden/g,"slot")}function rn(t,e,n){const s=t.slice();return s[7]=e[n],s[9]=n,s}function ln(t){let e;return{c(){C(e=_("span"),"class","correct-variant")},m(t,n){b(t,e,n)},d(t){t&&k(e)}}}function an(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m=t[7].variant+"";function h(...e){return t[6](t[9],...e)}let $=t[7].answer&&ln();return{c(){e=_("label"),n=_("span"),s=_("input"),r=L(),l=_("span"),i=L(),a=_("span"),u=E(m),f=L(),$&&$.c(),C(s,"class","radio-input svelte-fj1gr"),C(s,"id",o=t[9]),s.value=c=t[9],C(s,"type","radio"),C(l,"class","custom-radio-inner svelte-fj1gr"),C(n,"class","custom-radio pr-2 svelte-fj1gr"),O(n,"checked",t[9]===t[0]),C(a,"class","variant"),C(e,"for",d=t[9]),C(e,"class","label py-2 svelte-fj1gr")},m(t,o){b(t,e,o),w(e,n),w(n,s),w(n,r),w(n,l),w(e,i),w(e,a),w(a,u),w(a,f),$&&$.m(a,null),p=A(s,"click",h)},p(e,s){t=e,1&s&&O(n,"checked",t[9]===t[0]),2&s&&m!==(m=t[7].variant+"")&&T(u,m),t[7].answer?$||(($=ln()).c(),$.m(a,null)):$&&($.d(1),$=null)},d(t){t&&k(e),$&&$.d(),p()}}}function un(e){let n,s,o=on(e[2],e[3])+"",c=e[1],r=[];for(let t=0;t<c.length;t+=1)r[t]=an(rn(e,c,t));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=L(),C(s=_("div"),"class","mt-4 text-xl text-justify")},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);b(t,n,e),b(t,s,e),s.innerHTML=o},p(t,[e]){if(19&e){let s;for(c=t[1],s=0;s<c.length;s+=1){const o=rn(t,c,s);r[s]?r[s].p(o,e):(r[s]=an(o),r[s].c(),r[s].m(n.parentNode,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=c.length}12&e&&o!==(o=on(t[2],t[3])+"")&&(s.innerHTML=o)},i:t,o:t,d(t){q(r,t),t&&k(n),t&&k(s)}}}function fn(t,e,n){let{selected:s}=e,{variants:o=[]}=e,{context:c=""}=e,{word:r=""}=e;const l=Y();function i(t){l("select",t)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"context"in t&&n(2,c=t.context),"word"in t&&n(3,r=t.word)}),[s,o,c,r,i,l,t=>i(t)]}class dn extends qt{constructor(t){super(),kt(this,t,fn,un,l,{selected:0,variants:1,context:2,word:3})}}function pn(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function mn(t){let e;return{c(){C(e=_("span"),"class","correct-variant")},m(t,n){b(t,e,n)},d(t){t&&k(e)}}}function hn(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m=t[6].variant+"";function h(...e){return t[5](t[8],...e)}let $=t[6].answer&&mn();return{c(){e=_("label"),n=_("span"),s=_("input"),c=L(),r=_("span"),l=L(),i=_("span"),a=E(m),u=L(),$&&$.c(),f=L(),C(s,"class","checkbox-input svelte-l884s9"),C(s,"id",o=t[8]),C(s,"type","checkbox"),C(r,"class","custom-checkbox-inner svelte-l884s9"),C(n,"class","custom-checkbox pr-2 svelte-l884s9"),O(n,"checked",t[1](t[8])),C(i,"class","variant"),C(e,"for",d=t[8]),C(e,"class","flex cursor-pointer py-2")},m(t,o){b(t,e,o),w(e,n),w(n,s),w(n,c),w(n,r),w(e,l),w(e,i),w(i,a),w(i,u),$&&$.m(i,null),w(e,f),p=A(s,"click",h)},p(e,s){t=e,2&s&&O(n,"checked",t[1](t[8])),1&s&&m!==(m=t[6].variant+"")&&T(a,m),t[6].answer?$||(($=mn()).c(),$.m(i,null)):$&&($.d(1),$=null)},d(t){t&&k(e),$&&$.d(),p()}}}function $n(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=hn(pn(e,s,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=j()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);b(t,n,e)},p(t,[e]){if(7&e){let c;for(s=t[0],c=0;c<s.length;c+=1){const r=pn(t,s,c);o[c]?o[c].p(r,e):(o[c]=hn(r),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},i:t,o:t,d(t){q(o,t),t&&k(n)}}}function gn(t,e,n){let{selected:s}=e,{variants:o}=e;const c=Y();function r(t){void 0!==s?s.includes(t)?c("select",s.filter(e=>e!==t)):c("select",[...s,t]):c("select",[t])}let l;return t.$set=(t=>{"selected"in t&&n(3,s=t.selected),"variants"in t&&n(0,o=t.variants)}),t.$$.update=(()=>{8&t.$$.dirty&&n(1,l=(t=>void 0!==s&&s.includes(t)))}),[o,l,r,s,c,t=>r(t)]}class vn extends qt{constructor(t){super(),kt(this,t,gn,$n,l,{selected:3,variants:0})}}function yn(t,e,n){const s=t.slice();return s[11]=e[n],s[13]=n,s}function xn(t){let e;return{c(){C(e=_("span"),"class","correct-variant")},m(t,n){b(t,e,n)},d(t){t&&k(e)}}}function wn(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m,h=t[11].variant+"";function $(...e){return t[10](t[13],...e)}let g=t[11].answer&&xn();return{c(){e=_("label"),n=_("span"),s=_("input"),r=L(),l=_("span"),i=L(),a=_("span"),u=E(h),f=L(),g&&g.c(),d=L(),C(s,"class","radio-input svelte-1qwz5f0"),C(s,"id",o=t[13]),s.value=c=t[13],C(s,"type","radio"),C(l,"class","custom-radio-inner svelte-1qwz5f0"),C(n,"class","custom-radio pr-2 svelte-1qwz5f0"),O(n,"selected",t[13]===t[0]),C(a,"class","variant"),C(e,"for",p=t[13]),C(e,"class","label py-2 svelte-1qwz5f0")},m(t,o){b(t,e,o),w(e,n),w(n,s),w(n,r),w(n,l),w(e,i),w(e,a),w(a,u),w(a,f),g&&g.m(a,null),w(e,d),m=A(s,"click",$)},p(e,s){t=e,1&s&&O(n,"selected",t[13]===t[0]),2&s&&h!==(h=t[11].variant+"")&&T(u,h),t[11].answer?g||((g=xn()).c(),g.m(a,null)):g&&(g.d(1),g=null)},d(t){t&&k(e),g&&g.d(),m()}}}function bn(e){let n,s,o,c,r,l,i=cn(e[3],e[2])+"",a=e[1],u=[];for(let t=0;t<a.length;t+=1)u[t]=wn(yn(e,a,t));return{c(){n=_("div"),s=E(e[2]),o=L(),c=_("div");for(let t=0;t<u.length;t+=1)u[t].c();r=L(),l=_("div"),C(n,"class","sentence p-2"),C(c,"class","flex flex-col mt-6"),C(l,"class","mt-4 text-xl text-justify")},m(t,e){b(t,n,e),w(n,s),b(t,o,e),b(t,c,e);for(let t=0;t<u.length;t+=1)u[t].m(c,null);b(t,r,e),b(t,l,e),l.innerHTML=i},p(t,[e]){if(4&e&&T(s,t[2]),19&e){let n;for(a=t[1],n=0;n<a.length;n+=1){const s=yn(t,a,n);u[n]?u[n].p(s,e):(u[n]=wn(s),u[n].c(),u[n].m(c,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}12&e&&i!==(i=cn(t[3],t[2])+"")&&(l.innerHTML=i)},i:t,o:t,d(t){t&&k(n),t&&k(o),t&&k(c),q(u,t),t&&k(r),t&&k(l)}}}function kn(t,e,n){let{selected:s}=e,{variants:o}=e,{sentence:c}=e,{context:r=""}=e;const l=Y();let i=[],a=[];var u;function f(t){i.forEach((e,n)=>{t===n?(e.classList.add("active"),a[n].classList.remove("hidden"),setTimeout(()=>{a[n].style.opacity="1"},0)):(e.classList.remove("active"),a[n].classList.add("hidden"),a[n].style.opacity="0")})}function d(t){f(t),l("select",t)}function p(t){const e=parseInt(t.target.dataset.index);f(e),l("select",e)}W(()=>{i=document.querySelectorAll(".slot"),(a=document.querySelectorAll(".slot-sentence")).forEach(t=>t.innerHTML=c),i.forEach(t=>{t.addEventListener("click",p)}),s&&(i[s].classList.add("active"),a[s].classList.remove("hidden"),a[s].style.opacity="1")}),u=(()=>{i.forEach(t=>t.removeEventListener("click",p))}),J().$$.on_destroy.push(u);return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"sentence"in t&&n(2,c=t.sentence),"context"in t&&n(3,r=t.context)}),[s,o,c,r,d,i,a,l,f,p,t=>d(t)]}class qn extends qt{constructor(t){super(),kt(this,t,kn,bn,l,{selected:0,variants:1,sentence:2,context:3})}}function _n(t,e,n){const s=t.slice();return s[9]=e[n].column,s[11]=n,s}function En(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function Ln(t){let e;return{c(){C(e=_("span"),"class","correct-variant svelte-fzh823")},m(t,n){b(t,e,n)},d(t){t&&k(e)}}}function jn(t){let e,n,s,o,c,r,l,i,a,u,f,d=t[9]+"",p=t[6].answer===t[11]&&Ln();function m(...e){return t[5](t[8],t[11],...e)}return{c(){e=_("label"),p&&p.c(),n=L(),s=_("span"),o=_("input"),r=L(),l=_("span"),i=E(d),a=L(),C(o,"class","radio-input svelte-fzh823"),C(o,"id",c=t[8]+"-"+t[11]),C(o,"type","radio"),C(s,"class","custom-radio-button svelte-fzh823"),C(e,"class","label svelte-fzh823"),C(e,"for",u=t[8]+"-"+t[11]),O(e,"checked",t[0][t[8]]===t[11])},m(t,c){b(t,e,c),p&&p.m(e,null),w(e,n),w(e,s),w(s,o),w(s,r),w(s,l),w(l,i),w(e,a),f=A(o,"click",m)},p(s,o){(t=s)[6].answer===t[11]?p||((p=Ln()).c(),p.m(e,n)):p&&(p.d(1),p=null),4&o&&d!==(d=t[9]+"")&&T(i,d),1&o&&O(e,"checked",t[0][t[8]]===t[11])},d(t){t&&k(e),p&&p.d(),f()}}}function An(t){let e,n,s,o,c,r,l,i,a=t[8]+1+"",u=t[6].variant+"",f=t[2],d=[];for(let e=0;e<f.length;e+=1)d[e]=jn(_n(t,f,e));return{c(){e=_("div"),n=_("span"),s=E(a),o=E(". "),c=E(u),r=L(),l=_("div");for(let t=0;t<d.length;t+=1)d[t].c();i=L(),C(n,"class","pr-4"),C(l,"class","flex"),C(e,"class","lg:flex justify-between pb-4")},m(t,a){b(t,e,a),w(e,n),w(n,s),w(n,o),w(n,c),w(e,r),w(e,l);for(let t=0;t<d.length;t+=1)d[t].m(l,null);w(e,i)},p(t,e){if(2&e&&u!==(u=t[6].variant+"")&&T(c,u),15&e){let n;for(f=t[2],n=0;n<f.length;n+=1){const s=_n(t,f,n);d[n]?d[n].p(s,e):(d[n]=jn(s),d[n].c(),d[n].m(l,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}},d(t){t&&k(e),q(d,t)}}}function Nn(e){let n,s=e[1],o=[];for(let t=0;t<s.length;t+=1)o[t]=An(En(e,s,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=j()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);b(t,n,e)},p(t,[e]){if(15&e){let c;for(s=t[1],c=0;c<s.length;c+=1){const r=En(t,s,c);o[c]?o[c].p(r,e):(o[c]=An(r),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},i:t,o:t,d(t){q(o,t),t&&k(n)}}}function Cn(t,e,n){let{selected:s={}}=e,{variants:o}=e,{columns:c}=e;const r=Y();function l(t,e){n(0,s[t]=e,s),r("select",s)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"columns"in t&&n(2,c=t.columns)}),[s,o,c,l,r,(t,e)=>l(t,e)]}class Tn extends qt{constructor(t){super(),kt(this,t,Cn,Nn,l,{selected:0,variants:1,columns:2})}}function Sn(t){let e,s;const o=[{variants:t[0].variants},t[2],{selected:t[1]}];var c=t[3][t[0].type];function r(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}if(c){var l=new c(r());l.$on("select",t[7])}return{c(){l&&yt(l.$$.fragment),e=j()},m(t,n){l&&xt(l,t,n),b(t,e,n),s=!0},p(t,[n]){const s=7&n?function(t,e){const n={},s={},o={$$scope:1};let c=t.length;for(;c--;){const r=t[c],l=e[c];if(l){for(const t in r)t in l||(s[t]=1);for(const t in l)o[t]||(n[t]=l[t],o[t]=1);t[c]=l}else for(const t in r)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}(o,[1&n&&{variants:t[0].variants},4&n&&(i=t[2],"object"==typeof i&&null!==i?i:{}),2&n&&{selected:t[1]}]):{};var i;if(c!==(c=t[3][t[0].type])){if(l){ft();const t=l;mt(t.$$.fragment,1,0,()=>{wt(t,1)}),dt()}c?((l=new c(r())).$on("select",t[7]),yt(l.$$.fragment),pt(l.$$.fragment,1),xt(l,e.parentNode,e)):l=null}else c&&l.$set(s)},i(t){s||(l&&pt(l.$$.fragment,t),s=!0)},o(t){l&&mt(l.$$.fragment,t),s=!1},d(t){t&&k(e),l&&wt(l,t)}}}function Mn(t,e,n){let{question:s}=e,{selected:o}=e,{context:c}=e;const r={select:tn,word:dn,check:vn,insert:qn,column:Tn},l={word:"word",insert:"sentence",column:"columns"};function i(t){let e={};return null!==c&&(e.context=c),l[t]&&(e[l[t]]=s[l[t]]),e}let a;return t.$set=(t=>{"question"in t&&n(0,s=t.question),"selected"in t&&n(1,o=t.selected),"context"in t&&n(4,c=t.context)}),t.$$.update=(()=>{1&t.$$.dirty&&n(2,a=i(s.type))}),[s,o,a,r,c,l,i,function(e){Q(t,e)}]}class On extends qt{constructor(t){super(),kt(this,t,Mn,Sn,l,{question:0,selected:1,context:4})}}const Hn=Jt("app-test-answers",{}),In=([t,e])=>{Hn.update(n=>({...n,[t]:e}))},zn=(t,e)=>{a(Hn).testId!==t&&Hn.set({testId:t,lesson:e})},Pn=()=>{Hn.set({})},Rn=t=>{if(void 0===t)return void console.error("`questionsCount` is not defined");const e=a(Hn),n=[],s=o=>o===t?n:(e.hasOwnProperty(o)||n.push(o),s(o+1));return s(0)};function Dn(e){let n,s,o,c,r,l=e[4]&&Un(e);return{c(){(n=_("h1")).textContent="Finish test",s=L(),(o=_("p")).textContent="You are close to finish the test and send rezults.",c=L(),l&&l.c(),r=j(),C(n,"class","text-black text-xl mb-6"),C(o,"class","")},m(t,e){b(t,n,e),b(t,s,e),b(t,o,e),b(t,c,e),l&&l.m(t,e),b(t,r,e)},p(t,e){t[4]?l?l.p(t,e):((l=Un(t)).c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&k(n),t&&k(s),t&&k(o),t&&k(c),l&&l.d(t),t&&k(r)}}}function Fn(t){let e,n,s,o,c=t[0].title+"";const r=new On({props:{selected:t[5],question:t[0],context:t[2]}});return r.$on("select",t[12]),{c(){e=_("h1"),n=E(c),s=L(),yt(r.$$.fragment),C(e,"class","text-black text-xl mb-6")},m(t,c){b(t,e,c),w(e,n),b(t,s,c),xt(r,t,c),o=!0},p(t,e){(!o||1&e)&&c!==(c=t[0].title+"")&&T(n,c);const s={};32&e&&(s.selected=t[5]),1&e&&(s.question=t[0]),4&e&&(s.context=t[2]),r.$set(s)},i(t){o||(pt(r.$$.fragment,t),o=!0)},o(t){mt(r.$$.fragment,t),o=!1},d(t){t&&k(e),t&&k(s),wt(r,t)}}}function Un(t){let e,n,s;return{c(){e=_("p"),n=E("You did not answer the questions: "),s=E(t[4])},m(t,o){b(t,e,o),w(e,n),w(e,s)},p(t,e){16&e&&T(s,t[4])},d(t){t&&k(e)}}}function Bn(t){let e;return{c(){e=E("Previous")},m(t,n){b(t,e,n)},d(t){t&&k(e)}}}function Jn(t){let e,n=t[3]===t[1]?"Send":"Next";return{c(){e=E(n)},m(t,n){b(t,e,n)},p(t,s){10&s&&n!==(n=t[3]===t[1]?"Send":"Next")&&T(e,n)},d(t){t&&k(e)}}}function Wn(t){let e,n,s,o,c,l,i;const a=[Fn,Dn],u=[];function f(t,e){return t[3]<t[1]?0:1}n=f(t),s=u[n]=a[n](t);const d=new Rt({props:{type:"secondary",disabled:0===t[3],$$slots:{default:[Bn]},$$scope:{ctx:t}}});d.$on("click",t[8]);const p=new Rt({props:{type:"primary",$$slots:{default:[Jn]},$$scope:{ctx:t}}});return p.$on("click",function(){r(t[3]===t[1]?t[9]:t[7])&&(t[3]===t[1]?t[9]:t[7]).apply(this,arguments)}),{c(){e=_("div"),s.c(),o=L(),c=_("div"),yt(d.$$.fragment),l=L(),yt(p.$$.fragment),C(e,"class","container rounded border bg-white p-8"),C(c,"class","flex p-8 justify-center md:justify-end")},m(t,s){b(t,e,s),u[n].m(e,null),b(t,o,s),b(t,c,s),xt(d,c,null),w(c,l),xt(p,c,null),i=!0},p(o,[c]){let r=n;(n=f(t=o))===r?u[n].p(t,c):(ft(),mt(u[r],1,1,()=>{u[r]=null}),dt(),(s=u[n])||(s=u[n]=a[n](t)).c(),pt(s,1),s.m(e,null));const l={};8&c&&(l.disabled=0===t[3]),8192&c&&(l.$$scope={dirty:c,ctx:t}),d.$set(l);const i={};8202&c&&(i.$$scope={dirty:c,ctx:t}),p.$set(i)},i(t){i||(pt(s),pt(d.$$.fragment,t),pt(p.$$.fragment,t),i=!0)},o(t){mt(s),mt(d.$$.fragment,t),mt(p.$$.fragment,t),i=!1},d(t){t&&k(e),u[n].d(),t&&k(o),t&&k(c),wt(d),wt(p)}}}function Yn(t,e,n){let{question:s={}}=e,{questionsCount:o}=e,{context:c}=e,{active:r}=e,{answers:l}=e;const i=Y();let a;function u(t){i("select",{newAnswer:[r,t]})}let f;return t.$set=(t=>{"question"in t&&n(0,s=t.question),"questionsCount"in t&&n(1,o=t.questionsCount),"context"in t&&n(2,c=t.context),"active"in t&&n(3,r=t.active),"answers"in t&&n(10,l=t.answers)}),t.$$.update=(()=>{1032&t.$$.dirty&&n(5,f=l[r]),26&t.$$.dirty&&r===o&&(n(4,a=Rn(o)),n(4,a=a.map(t=>t+1).join(" , ")))}),[s,o,c,r,a,f,u,function(){i("click",{newActive:r+1})},function(){i("click",{newActive:r-1})},function(){i("send")},l,i,t=>u(t.detail)]}class Qn extends qt{constructor(t){super(),kt(this,t,Yn,Wn,l,{question:0,questionsCount:1,context:2,active:3,answers:10})}}function Gn(t,e,n){const s=t.slice();return s[10]=e[n],s[12]=n,s}function Kn(e){let n,s;return{c(){(n=_("span")).innerHTML='<i class="icon-check"></i>',C(n,"class","icon")},m(t,e){b(t,n,e)},i(t){s||et(()=>{(s=$t(n,Ft,{duration:300})).start()})},o:t,d(t){t&&k(n)}}}function Vn(e,n){let s,o,c,r,l,i,a,u,f,d,p,m=n[12]+1+"",h=n[4](n[10].title)+"",$=n[3](n[12]),g=$&&Kn();function v(...t){return n[8](n[12],...t)}return{key:e,first:null,c(){s=_("a"),o=_("span"),c=E(m),r=L(),l=_("span"),i=E(h),a=E("..."),u=L(),f=_("span"),g&&g.c(),C(o,"class","px-2"),C(f,"class","check mr-2 svelte-kx3qma"),C(s,"class","item svelte-kx3qma"),C(s,"href",d="/#"+n[12]),O(s,"active",n[12]===n[2]),this.first=s},m(t,e){b(t,s,e),w(s,o),w(o,c),w(s,r),w(s,l),w(l,i),w(l,a),w(s,u),w(s,f),g&&g.m(f,null),p=A(s,"click",N(v))},p(t,e){n=t,2&e&&m!==(m=n[12]+1+"")&&T(c,m),2&e&&h!==(h=n[4](n[10].title)+"")&&T(i,h),10&e&&($=n[3](n[12])),$?g?pt(g,1):((g=Kn()).c(),pt(g,1),g.m(f,null)):g&&(g.d(1),g=null),2&e&&d!==(d="/#"+n[12])&&C(s,"href",d),6&e&&O(s,"active",n[12]===n[2])},i(t){pt(g)},o:t,d(t){t&&k(s),g&&g.d(),p()}}}function Xn(e){let n,s,o,c,r,l,i,a,u=[],f=new Map,d=e[1];const p=t=>t[12];for(let t=0;t<d.length;t+=1){let n=Gn(e,d,t),s=p(n);f.set(s,u[t]=Vn(s,n))}return{c(){n=_("div"),s=_("div"),o=E(e[0]),c=L(),r=_("div");for(let t=0;t<u.length;t+=1)u[t].c();l=L(),(i=_("a")).innerHTML='<span class="pl-2">Finish test</span>',C(s,"class","border-t border-b px-4 py-2"),C(i,"class","item svelte-kx3qma"),C(i,"href","/#last"),O(i,"active",e[2]===e[1].length),C(r,"class","pr-2 pl-2 py-2"),C(n,"class","questions-list")},m(t,f){b(t,n,f),w(n,s),w(s,o),w(n,c),w(n,r);for(let t=0;t<u.length;t+=1)u[t].m(r,null);w(r,l),w(r,i),a=A(i,"click",N(e[9]))},p(t,[e]){1&e&&T(o,t[0]);const n=t[1];u=function(t,e,n,s,o,c,r,l,i,a,u,f){let d=t.length,p=c.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const $=[],g=new Map,v=new Map;for(m=p;m--;){const t=f(o,c,m),l=n(t);let i=r.get(l);i?s&&i.p(t,e):(i=a(l,t)).c(),g.set(l,$[m]=i),l in h&&v.set(l,Math.abs(m-h[l]))}const y=new Set,x=new Set;function w(t){pt(t,1),t.m(l,u),r.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=$[p-1],n=t[d-1],s=e.key,o=n.key;e===n?(u=e.first,d--,p--):g.has(o)?!r.has(s)||y.has(s)?w(e):x.has(o)?d--:v.get(s)>v.get(o)?(x.add(s),w(e)):(y.add(o),d--):(i(n,r),d--)}for(;d--;){const e=t[d];g.has(e.key)||i(e,r)}for(;p;)w($[p-1]);return $}(u,e,p,1,t,n,f,r,vt,Vn,l,Gn),6&e&&O(i,"active",t[2]===t[1].length)},i(t){for(let t=0;t<d.length;t+=1)pt(u[t])},o:t,d(t){t&&k(n);for(let t=0;t<u.length;t+=1)u[t].d();a()}}}function Zn(t,e,n){let{title:s}=e,{nav:o=[]}=e,{active:c}=e,{answers:r}=e;const l=Y();function i(t){l("click",{newActive:t})}let a;return t.$set=(t=>{"title"in t&&n(0,s=t.title),"nav"in t&&n(1,o=t.nav),"active"in t&&n(2,c=t.active),"answers"in t&&n(6,r=t.answers)}),t.$$.update=(()=>{64&t.$$.dirty&&n(3,a=(t=>r.hasOwnProperty(t)))}),[s,o,c,a,t=>t.split(" ").slice(0,6).join(" "),i,r,l,t=>i(t),()=>i(o.length)]}class ts extends qt{constructor(t){super(),kt(this,t,Zn,Xn,l,{title:0,nav:1,active:2,answers:6})}}const es="./data/tests/",ns="https://gila.cf/mvp/test";async function ss(t,e=!1){const n=es+t+".json",s=await fetch(n);if(!s.ok)throw new Error(s.status);let o=function(t){return{...t,fragments:sn(t.context,t.questions.length)}}(await s.json());return e||(o=function(t){let{questions:e}=t;return e=e.map(({variants:t,...e})=>({variants:t.map(({variant:t,answer:e})=>({variant:t})),...e})),{...t,questions:e}}(o)),o}function os(t){let e;const n=new de({props:{$$slots:{default:[is],main:[ls],sidebar:[rs]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,e){const s={};2087&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function cs(t){let e,n;return{c(){(e=_("span")).innerHTML='<i class="icon-arrow-left"></i>',n=E("  \n          Back"),C(e,"class","icon pr-2")},m(t,s){b(t,e,s),b(t,n,s)},d(t){t&&k(e),t&&k(n)}}}function rs(t){let e,n,s,o,c,r,l,i,a,u=t[0].lesson+"";const f=new Rt({props:{type:"link",$$slots:{default:[cs]},$$scope:{ctx:t}}});f.$on("click",Mt);const d=new ts({props:{active:t[2],answers:t[5],nav:t[1].questions,title:t[1].title}});return d.$on("click",t[6]),{c(){e=_("div"),n=_("div"),yt(f.$$.fragment),s=L(),o=_("div"),c=_("div"),r=E(u),l=E(" plan"),i=L(),yt(d.$$.fragment),C(n,"class","sidebar-panel px-4 py-2 mb-6"),C(c,"class","font-semibold capitalize text-black px-4 py-2"),C(o,"class","sidebar-panel"),C(e,"slot","sidebar")},m(t,u){b(t,e,u),w(e,n),xt(f,n,null),w(e,s),w(e,o),w(o,c),w(c,r),w(c,l),w(o,i),xt(d,o,null),a=!0},p(t,e){const n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),f.$set(n),(!a||1&e)&&u!==(u=t[0].lesson+"")&&T(r,u);const s={};4&e&&(s.active=t[2]),32&e&&(s.answers=t[5]),2&e&&(s.nav=t[1].questions),2&e&&(s.title=t[1].title),d.$set(s)},i(t){a||(pt(f.$$.fragment,t),pt(d.$$.fragment,t),a=!0)},o(t){mt(f.$$.fragment,t),mt(d.$$.fragment,t),a=!1},d(t){t&&k(e),wt(f),wt(d)}}}function ls(t){let e,n;const s=new Qn({props:{active:t[2],answers:t[5],question:t[1].questions[t[2]],context:t[1].fragments[t[2]],questionsCount:t[1].questions.length}});return s.$on("click",t[6]),s.$on("select",ds),s.$on("send",t[7]),{c(){e=_("div"),yt(s.$$.fragment),C(e,"slot","main")},m(t,o){b(t,e,o),xt(s,e,null),n=!0},p(t,e){const n={};4&e&&(n.active=t[2]),32&e&&(n.answers=t[5]),6&e&&(n.question=t[1].questions[t[2]]),6&e&&(n.context=t[1].fragments[t[2]]),2&e&&(n.questionsCount=t[1].questions.length),s.$set(n)},i(t){n||(pt(s.$$.fragment,t),n=!0)},o(t){mt(s.$$.fragment,t),n=!1},d(t){t&&k(e),wt(s)}}}function is(e){let n;return{c(){n=L()},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}function as(t){let e;const n=new Qe({props:{$$slots:{default:[us]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,e){const s={};2056&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function us(t){let e;return{c(){e=new I(t[3],null)},m(t,n){e.m(t,n)},p(t,n){8&n&&e.p(t[3])},d(t){t&&e.d()}}}function fs(t){let e,n,s,o=t[1]&&os(t),c=t[4]&&as(t);return{c(){o&&o.c(),e=L(),c&&c.c(),n=j()},m(t,r){o&&o.m(t,r),b(t,e,r),c&&c.m(t,r),b(t,n,r),s=!0},p(t,[s]){t[1]?o?(o.p(t,s),pt(o,1)):((o=os(t)).c(),pt(o,1),o.m(e.parentNode,e)):o&&(ft(),mt(o,1,1,()=>{o=null}),dt()),t[4]?c?(c.p(t,s),pt(c,1)):((c=as(t)).c(),pt(c,1),c.m(n.parentNode,n)):c&&(ft(),mt(c,1,1,()=>{c=null}),dt())},i(t){s||(pt(o),pt(c),s=!0)},o(t){mt(o),mt(c),s=!1},d(t){o&&o.d(t),t&&k(e),c&&c.d(t),t&&k(n)}}}function ds({detail:t}){In(t.newAnswer)}function ps(t,e,n){let s,o;u(t,Yt,t=>n(8,s=t)),u(t,Hn,t=>n(5,o=t));let c,r,{params:l={}}=e,i=0,a=!1;async function f(t){await new Promise(t=>{n(4,a=!1),setTimeout(t,300)}),await new Promise(e=>{n(3,r=t),n(4,a=!0),setTimeout(e,1500)})}async function d(){await new Promise(t=>{n(4,a=!1),setTimeout(t,300)})}return W(async()=>{const t="teacher"===s.role;n(1,c=await ss(l.test,t))}),zn(l.test,l.lesson),t.$set=(t=>{"params"in t&&n(0,l=t.params)}),[l,c,i,r,a,o,function({detail:t}){n(2,i=t.newActive)},async function(){document.body.classList.add("pointer-events-none");const t=Rn(c.questions.length);c.questions.length/t.length<2?f("Too early to send results").then(()=>{d(),document.body.classList.remove("pointer-events-none")}):(await f("<span class='icon'><i class='icon-loading'></i></span>Test is sending...").then(()=>(async function(t,e){const{testId:n,lesson:s,...o}=t,c={userId:e,testId:n,lesson:s,answers:o},r={method:"POST",redirect:"follow",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},l=await fetch(ns,r);if(!l.ok)throw console.log(l),new Error(l.status);const i=await l.text();return console.log(i),i})(o,s.login)).then(()=>f("Congratulations! Test results successfully send!")).then(()=>d()).then(()=>(async()=>{Pn(),Mt()})()).catch(()=>(async()=>{await f("Sending is failed! Please, try again."),await d()})()),document.body.classList.remove("pointer-events-none"))}]}function ms(t){let e,n,s,o,c,r,l;return{c(){e=_("div"),n=E("NotFound\n    "),s=_("br"),o=E("\n    Start "),(c=_("a")).textContent="here",C(c,"href","/home"),C(c,"class","text-primary"),C(e,"slot","main")},m(t,i){b(t,e,i),w(e,n),w(e,s),w(e,o),w(e,c),l=m(r=Ot.call(null,c))},d(t){t&&k(e),l()}}}function hs(e){return{c:t,m:t,p:t,d:t}}function $s(t){let e;const n=new de({props:{$$slots:{default:[hs],main:[ms]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,[e]){const s={};1&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}const gs={"/":class extends qt{constructor(t){super(),kt(this,t,ce,oe,l,{})}},"/:lesson":class extends qt{constructor(t){super(),kt(this,t,Je,Ue,l,{params:0})}},"/:lesson/:test":class extends qt{constructor(t){super(),kt(this,t,ps,fs,l,{params:0})}},"*":class extends qt{constructor(t){super(),kt(this,t,null,$s,l,{})}}};function vs(e){let n;const s=new It({props:{routes:gs}});return s.$on("routeLoaded",ys),{c(){yt(s.$$.fragment)},m(t,e){xt(s,t,e),n=!0},p:t,i(t){n||(pt(s.$$.fragment,t),n=!0)},o(t){mt(s.$$.fragment,t),n=!1},d(t){wt(s,t)}}}function ys(){te()||St("/")}function xs(t){return[]}return new class extends qt{constructor(t){super(),kt(this,t,xs,vs,l,{})}}({target:document.querySelector("#app")})}();
//# sourceMappingURL=bundle.js.map
