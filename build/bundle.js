var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function o(){return Object.create(null)}function c(t){t.forEach(s)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function a(t){let e;return i(t,t=>e=t)(),e}function u(t,e,n){t.$$.on_destroy.push(i(e,n))}function f(t,e,n,s){if(t){const o=d(t,e,n,s);return t[0](o)}}function d(t,e,s,o){return t[1]&&o?n(s.ctx.slice(),t[1](o(e))):s.ctx}function p(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}function m(e){return e&&r(e.destroy)?e.destroy:t}const h="undefined"!=typeof window;let $=h?()=>window.performance.now():()=>Date.now(),g=h?t=>requestAnimationFrame(t):t;const v=new Set;function y(t){v.forEach(e=>{e.c(t)||(v.delete(e),e.f())}),0!==v.size&&g(y)}function x(t){let e;return 0===v.size&&g(y),{promise:new Promise(n=>{v.add(e={c:t,f:n})}),abort(){v.delete(e)}}}function b(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode.removeChild(t)}function q(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function L(){return E(" ")}function j(){return E("")}function A(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function N(t){return function(e){return e.preventDefault(),t.call(this,e)}}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e){(null!=e||t.value)&&(t.value=e)}function M(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}}function O(t,e,n){t.classList[n?"add":"remove"](e)}function H(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}let I,z,R=0,D={};function P(t,e,n,s,o,c,r,l=0){const i=16.666/s;let a="{\n";for(let t=0;t<=1;t+=i){const s=e+(n-e)*c(t);a+=100*t+`%{${r(s,1-s)}}\n`}const u=a+`100% {${r(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`;if(!D[f]){if(!I){const t=_("style");document.head.appendChild(t),I=t.sheet}D[f]=!0,I.insertRule(`@keyframes ${f} ${u}`,I.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${f} ${s}ms linear ${o}ms 1 both`,R+=1,f}function F(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--R&&g(()=>{if(R)return;let t=I.cssRules.length;for(;t--;)I.deleteRule(t);D={}})}function U(t){z=t}function B(){if(!z)throw new Error("Function called outside component initialization");return z}function J(t){B().$$.on_mount.push(t)}function W(){const t=B();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=H(e,n);s.slice().forEach(e=>{e.call(t,o)})}}}function Y(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const Q=[],G=[],K=[],V=[],X=Promise.resolve();let Z=!1;function tt(t){K.push(t)}let et=!1;const nt=new Set;function st(){if(!et){et=!0;do{for(let t=0;t<Q.length;t+=1){const e=Q[t];U(e),ot(e.$$)}for(Q.length=0;G.length;)G.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];nt.has(e)||(nt.add(e),e())}K.length=0}while(Q.length);for(;V.length;)V.pop()();Z=!1,et=!1,nt.clear()}}function ot(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}let ct;function rt(){return ct||(ct=Promise.resolve()).then(()=>{ct=null}),ct}function lt(t,e,n){t.dispatchEvent(H(`${e?"intro":"outro"}${n}`))}const it=new Set;let at;function ut(){at={r:0,c:[],p:at}}function ft(){at.r||c(at.c),at=at.p}function dt(t,e){t&&t.i&&(it.delete(t),t.i(e))}function pt(t,e,n,s){if(t&&t.o){if(it.has(t))return;it.add(t),at.c.push(()=>{it.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}const mt={duration:0};function ht(n,s,o){let c,l,i=s(n,o),a=!1,u=0;function f(){c&&F(n,c)}function d(){const{delay:s=0,duration:o=300,easing:r=e,tick:d=t,css:p}=i||mt;p&&(c=P(n,0,1,o,s,r,p,u++)),d(0,1);const m=$()+s,h=m+o;l&&l.abort(),a=!0,tt(()=>lt(n,!0,"start")),l=x(t=>{if(a){if(t>=h)return d(1,0),lt(n,!0,"end"),f(),a=!1;if(t>=m){const e=r((t-m)/o);d(e,1-e)}}return a})}let p=!1;return{start(){p||(F(n),r(i)?(i=i(),rt().then(d)):d())},invalidate(){p=!1},end(){a&&(f(),a=!1)}}}function $t(n,s,o,l){let i=s(n,o),a=l?0:1,u=null,f=null,d=null;function p(){d&&F(n,d)}function m(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(s){const{delay:o=0,duration:r=300,easing:l=e,tick:h=t,css:g}=i||mt,v={start:$()+o,b:s};s||(v.group=at,at.r+=1),u?f=v:(g&&(p(),d=P(n,a,s,r,o,l,g)),s&&h(0,1),u=m(v,r),tt(()=>lt(n,s,"start")),x(t=>{if(f&&t>f.start&&(u=m(f,r),f=null,lt(n,u.b,"start"),g&&(p(),d=P(n,a,u.b,u.duration,0,l,i.css))),u)if(t>=u.end)h(a=u.b,1-a),lt(n,u.b,"end"),f||(u.b?p():--u.group.r||c(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*l(e/u.duration),h(a,1-a)}return!(!u&&!f)}))}return{run(t){r(i)?rt().then(()=>{i=i(),h(t)}):h(t)},end(){p(),u=f=null}}}function gt(t,e){t.d(1),e.delete(t.key)}function vt(t){t&&t.c()}function yt(t,e,n){const{fragment:o,on_mount:l,on_destroy:i,after_update:a}=t.$$;o&&o.m(e,n),tt(()=>{const e=l.map(s).filter(r);i?i.push(...e):c(e),t.$$.on_mount=[]}),a.forEach(tt)}function xt(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bt(t,e){-1===t.$$.dirty[0]&&(Q.push(t),Z||(Z=!0,X.then(st)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function wt(e,n,s,r,l,i,a=[-1]){const u=z;U(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a};let p=!1;var m;d.ctx=s?s(e,f,(t,n,...s)=>{const o=s.length?s[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),p&&bt(e,t)),n}):[],d.update(),p=!0,c(d.before_update),d.fragment=!!r&&r(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l((m=n.target,Array.from(m.childNodes))):d.fragment&&d.fragment.c(),n.intro&&dt(e.$$.fragment),yt(e,n.target,n.anchor),st()),U(u)}class kt{$destroy(){xt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const qt=[];function _t(t,e){return{subscribe:Et(t,e).subscribe}}function Et(e,n=t){let s;const o=[];function c(t){if(l(e,t)&&(e=t,s)){const t=!qt.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),qt.push(n,e)}if(t){for(let t=0;t<qt.length;t+=2)qt[t][0](qt[t+1]);qt.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,l=t){const i=[r,l];return o.push(i),1===o.length&&(s=n(c)||t),r(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}function Lt(e,n,s){const o=!Array.isArray(e),l=o?[e]:e,a=n.length<2;return _t(s,e=>{let s=!1;const u=[];let f=0,d=t;const p=()=>{if(f)return;d();const s=n(o?u[0]:u,e);a?e(s):d=r(s)?s:t},m=l.map((t,e)=>i(t,t=>{u[e]=t,f&=~(1<<e),s&&p()},()=>{f|=1<<e}));return s=!0,p(),function(){c(m),d()}})}function jt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,o,c,r=[],l="",i=t.split("/");for(i[0]||i.shift();o=i.shift();)"*"===(n=o[0])?(r.push("wild"),l+="/(.*)"):":"===n?(s=o.indexOf("?",1),c=o.indexOf(".",1),r.push(o.substring(1,~s?s:~c?c:o.length)),l+=~s&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(l+=(~s?"?":"")+"\\"+o.substring(c))):l+="/"+o;return{keys:r,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}function At(t){let e,n;var s=t[0];function o(t){return{props:{params:t[1]}}}if(s)var c=new s(o(t));return{c(){c&&vt(c.$$.fragment),e=j()},m(t,s){c&&yt(c,t,s),w(t,e,s),n=!0},p(t,[n]){const r={};if(2&n&&(r.params=t[1]),s!==(s=t[0])){if(c){ut();const t=c;pt(t.$$.fragment,1,0,()=>{xt(t,1)}),ft()}s?(vt((c=new s(o(t))).$$.fragment),dt(c.$$.fragment,1),yt(c,e.parentNode,e)):c=null}else s&&c.$set(r)},i(t){n||(c&&dt(c.$$.fragment,t),n=!0)},o(t){c&&pt(c.$$.fragment,t),n=!1},d(t){t&&k(e),c&&xt(c,t)}}}function Nt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let s="";return n>-1&&(s=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:s}}const Ct=_t(Nt(),function(t){const e=()=>{t(Nt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}});Lt(Ct,t=>t.location),Lt(Ct,t=>t.querystring);function St(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash=("#"==t.charAt(0)?"":"#")+t},0)}function Tt(){setTimeout(()=>{window.history.back()},0)}function Mt(t){if(!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');const e=t.getAttribute("href");if(!e||e.length<1||"/"!=e.charAt(0))throw Error('Invalid value for "href" attribute');t.setAttribute("href","#"+e)}function Ot(e,n,s){let o,c=t;u(e,Ct,t=>s(4,o=t)),e.$$.on_destroy.push(()=>c());let{routes:r={}}=n,{prefix:l=""}=n;class i{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:s}=jt(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.route,this.conditions=e.conditions||[],this.userData=e.userData):(this.component=e,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=s}match(t){l&&t.startsWith(l)&&(t=t.substr(l.length)||"/");const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let s=0;for(;s<this._keys.length;)n[this._keys[s]]=e[++s]||null;return n}checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!this.conditions[e](t))return!1;return!0}}const a=r instanceof Map?r:Object.entries(r),f=[];for(const[t,e]of a)f.push(new i(t,e));let d=null,p={};const m=W(),h=(t,e)=>{setTimeout(()=>{m(t,e)},0)};return e.$set=(t=>{"routes"in t&&s(2,r=t.routes),"prefix"in t&&s(3,l=t.prefix)}),e.$$.update=(()=>{if(17&e.$$.dirty){s(0,d=null);let t=0;for(;!d&&t<f.length;){const e=f[t].match(o.location);if(e){const n={component:f[t].component,name:f[t].component.name,location:o.location,querystring:o.querystring,userData:f[t].userData};if(!f[t].checkConditions(n)){h("conditionsFailed",n);break}s(0,d=f[t].component),s(1,p=e),h("routeLoaded",n)}t++}}}),[d,p,r,l]}class Ht extends kt{constructor(t){super(),wt(this,t,Ot,At,l,{routes:2,prefix:3})}}function It(t){let e,n,s,o;const c=t[3].default,r=f(c,t,t[2],null);return{c(){e=_("button"),r&&r.c(),C(e,"class",n="btn btn-"+t[1]+" svelte-1i6msxy"),e.disabled=t[0]},m(n,c){w(n,e,c),r&&r.m(e,null),s=!0,o=A(e,"click",t[4])},p(t,[o]){r&&r.p&&4&o&&r.p(d(c,t,t[2],null),p(c,t[2],o,null)),(!s||2&o&&n!==(n="btn btn-"+t[1]+" svelte-1i6msxy"))&&C(e,"class",n),(!s||1&o)&&(e.disabled=t[0])},i(t){s||(dt(r,t),s=!0)},o(t){pt(r,t),s=!1},d(t){t&&k(e),r&&r.d(t),o()}}}function zt(t,e,n){let{disabled:s=!1}=e,{type:o="primary"}=e,{$$slots:c={},$$scope:r}=e;return t.$set=(t=>{"disabled"in t&&n(0,s=t.disabled),"type"in t&&n(1,o=t.type),"$$scope"in t&&n(2,r=t.$$scope)}),[s,o,r,c,function(e){Y(t,e)}]}class Rt extends kt{constructor(t){super(),wt(this,t,zt,It,l,{disabled:0,type:1})}}function Dt(t){const e=t-1;return e*e*e+1}function Pt(t,{delay:n=0,duration:s=400,easing:o=e}){const c=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:o,css:t=>`opacity: ${t*c}`}}function Ft(t,{delay:e=0,duration:n=400,easing:s=Dt,x:o=0,y:c=0,opacity:r=0}){const l=getComputedStyle(t),i=+l.opacity,a="none"===l.transform?"":l.transform,u=i*(1-r);return{delay:e,duration:n,easing:s,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*o}px, ${(1-t)*c}px);\n\t\t\topacity: ${i-u*e}`}}function Ut(t,e,n={}){n={path:"/",...n};let s=encodeURIComponent(t)+"="+encodeURIComponent(e);for(let t in n)s+="; "+t,s+="="+n[t];document.cookie=s}const Bt=(t,e)=>{const n=localStorage.getItem(t);return(e=Et(n?JSON.parse(n):e)).subscribe(e=>{void 0!==e&&localStorage.setItem(t,JSON.stringify(e))}),e},Jt=()=>{localStorage.clear()},Wt=Bt("app-user"),Yt=Bt("app-lessons-active",{}),Qt=Bt("app-lessons-completed",{}),Gt="./data/journal.json",Kt="./data/users/";async function Vt(t){const e=Kt+t+".json",n=await fetch(e);if(!n.ok)throw new Error(n.status);return await n.json()}async function Xt(t){try{const e=await Vt(t);Yt.set({user:t,lesson:e.lesson||[],hometask:e.hometask||[]})}catch(t){Yt.set({user:" ",lesson:[],hometask:[]}),console.log(t)}}const Zt=()=>(function(t){if(!document.cookie)return null;const e=document.cookie.split(";").map(t=>t.trim()).filter(e=>e.startsWith(t+"="));return 0===e.length?null:decodeURIComponent(e[0].split("=")[1])})("user");function te(){Jt(),Ut("user","",{"max-age":-1}),St("/")}function ee(e){let n,s,o;return{c(){n=_("div"),s=E(e[2]),C(n,"class","mb-4 text-red-600")},m(t,e){w(t,n,e),b(n,s)},p(t,e){4&e&&S(s,t[2])},i(t){o||tt(()=>{(o=ht(n,Pt,{duration:300})).start()})},o:t,d(t){t&&k(n)}}}function ne(t){let e;return{c(){e=E("Enter")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function se(t){let e,n,s,o,r,l,i,a,u,f,d,p,m,h,$,g,v,y,x,q,E,j,N,S,M,H,I=t[2]&&ee(t);const z=new Rt({props:{type:"primary",$$slots:{default:[ne]},$$scope:{ctx:t}}});return z.$on("click",t[5]),{c(){e=_("div"),n=_("div"),(s=_("div")).textContent="Log in",o=L(),r=_("form"),l=_("div"),(i=_("span")).innerHTML='<i class="icon-login"></i>',a=L(),u=_("input"),f=L(),d=_("span"),p=L(),m=_("div"),(h=_("span")).innerHTML='<i class="icon-password"></i>',$=L(),g=_("input"),v=L(),y=_("span"),x=L(),I&&I.c(),q=L(),vt(z.$$.fragment),E=L(),j=_("br"),N=L(),(S=_("span")).innerHTML="test 1 <br> teacher 123456",C(s,"class","text-black text-2xl mb-8"),C(i,"class","icon"),C(u,"type","text"),C(u,"class","input svelte-1ii8cay"),u.autofocus=!0,C(u,"maxlength","15"),C(u,"autocomplete","nickname"),C(u,"placeholder","Login"),C(d,"class","focus svelte-1ii8cay"),C(l,"class","custom-input mb-8 svelte-1ii8cay"),O(l,"error",!t[3]),C(h,"class","icon"),C(g,"type","password"),C(g,"class","input svelte-1ii8cay"),C(g,"maxlength","15"),C(g,"autocomplete","current-password"),C(g,"placeholder","Password"),C(y,"class","focus svelte-1ii8cay"),C(m,"class","custom-input mb-8 svelte-1ii8cay"),O(m,"error",!t[4]),C(r,"action",""),C(n,"class","rounded border bg-white py-12 px-16 inline-block text-center"),C(e,"class","flex flex-col justify-center items-center min-h-screen py-16")},m(c,k){w(c,e,k),b(e,n),b(n,s),b(n,o),b(n,r),b(r,l),b(l,i),b(l,a),b(l,u),T(u,t[0]),b(l,f),b(l,d),b(r,p),b(r,m),b(m,h),b(m,$),b(m,g),T(g,t[1]),b(m,v),b(m,y),b(r,x),I&&I.m(r,null),b(r,q),yt(z,r,null),b(e,E),b(e,j),b(e,N),b(e,S),M=!0,u.focus(),H=[A(u,"input",t[7]),A(g,"input",t[8]),A(r,"submit",t[5])]},p(t,[e]){1&e&&u.value!==t[0]&&T(u,t[0]),8&e&&O(l,"error",!t[3]),2&e&&g.value!==t[1]&&T(g,t[1]),16&e&&O(m,"error",!t[4]),t[2]?I?(I.p(t,e),dt(I,1)):((I=ee(t)).c(),dt(I,1),I.m(r,q)):I&&(I.d(1),I=null);const n={};512&e&&(n.$$scope={dirty:e,ctx:t}),z.$set(n)},i(t){M||(dt(I),dt(z.$$.fragment,t),M=!0)},o(t){pt(z.$$.fragment,t),M=!1},d(t){t&&k(e),I&&I.d(),xt(z),c(H)}}}function oe(t,e,n){let s="",o="",c="",r=!0,l=!0;function i(){return n(0,s=s.trim()),n(1,o=o.trim()),n(3,r=0!==s.length),n(4,l=0!==o.length),r&&l}return[s,o,c,r,l,async function(t){if(t.preventDefault(),i())try{await async function(t,e){const n=await Vt(t);if(n.password!==e)throw new Error("Password not correct");Wt.set({name:n.name,login:n.login,role:n.role}),Ut("user",1)}(s,o),St("/lesson")}catch(t){if("404"===t.message)return n(3,r=!1),void n(2,c=`User '${s}' not found`);if("Password not correct"===t.message)return n(4,l=!1),void n(2,c=t.message)}},i,function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)}]}const ce=t=>({}),re=t=>({}),le=t=>({}),ie=t=>({});function ae(t){let e,n,s,o,c;const r=t[1].sidebar,l=f(r,t,t[0],ie),i=t[1].main,a=f(i,t,t[0],re);return{c(){e=_("div"),n=_("div"),l&&l.c(),s=L(),o=_("main"),a&&a.c(),C(n,"class","sidebar flex-none w-1/4 hidden xl:block pr-4"),C(o,"class","main flex-1 px-4"),C(e,"class","container flex py-12")},m(t,r){w(t,e,r),b(e,n),l&&l.m(n,null),b(e,s),b(e,o),a&&a.m(o,null),c=!0},p(t,[e]){l&&l.p&&1&e&&l.p(d(r,t,t[0],ie),p(r,t[0],e,le)),a&&a.p&&1&e&&a.p(d(i,t,t[0],re),p(i,t[0],e,ce))},i(t){c||(dt(l,t),dt(a,t),c=!0)},o(t){pt(l,t),pt(a,t),c=!1},d(t){t&&k(e),l&&l.d(t),a&&a.d(t)}}}function ue(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$set=(t=>{"$$scope"in t&&n(0,o=t.$$scope)}),[o,s]}class fe extends kt{constructor(t){super(),wt(this,t,ue,ae,l,{})}}function de(t,e,n){const s=t.slice();return s[5]=e[n],s}function pe(t){let e,n=t[2],s=[];for(let e=0;e<n.length;e+=1)s[e]=he(de(t,n,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);w(t,e,n)},p(t,o){if(30&o){let c;for(n=t[2],c=0;c<n.length;c+=1){const r=de(t,n,c);s[c]?s[c].p(r,o):(s[c]=he(r),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}},d(t){q(s,t),t&&k(e)}}}function me(t){let e,n;return{c(){e=E("No "),n=E(t[0])},m(t,s){w(t,e,s),w(t,n,s)},p(t,e){1&e&&S(n,t[0])},d(t){t&&k(e),t&&k(n)}}}function he(t){let e,n,s,o,l,i,a,u,f,d,p,m,h=t[5].title+"",$=t[4](t[5].date)+"";return{c(){e=_("div"),n=_("button"),s=E(h),o=L(),(l=_("button")).textContent="Start",i=L(),a=_("br"),u=L(),f=_("span"),d=E($),p=L(),C(n,"class","text-lg"),C(l,"class","text-primary px-2"),C(e,"class","py-4 border-b last:border-b-0")},m(c,h){w(c,e,h),b(e,n),b(n,s),b(e,o),b(e,l),b(e,i),b(e,a),b(e,u),b(e,f),b(f,d),b(e,p),m=[A(n,"click",function(){r(St(`/${t[1]}/${t[3](t[5].title)}`))&&St(`/${t[1]}/${t[3](t[5].title)}`).apply(this,arguments)}),A(l,"click",function(){r(St(`/${t[1]}/${t[3](t[5].title)}`))&&St(`/${t[1]}/${t[3](t[5].title)}`).apply(this,arguments)})]},p(e,n){t=e,4&n&&h!==(h=t[5].title+"")&&S(s,h),4&n&&$!==($=t[4](t[5].date)+"")&&S(d,$)},d(t){t&&k(e),c(m)}}}function $e(e){let n,s,o,c,r;function l(t,e){return t[2].length?pe:me}let i=l(e),a=i(e);return{c(){n=_("div"),s=_("h2"),o=E(e[0]),c=L(),r=_("div"),a.c(),C(s,"class","title pb-4 px-6"),C(r,"class","rounded border bg-white p-6"),C(n,"class","pb-4")},m(t,e){w(t,n,e),b(n,s),b(s,o),b(n,c),b(n,r),a.m(r,null)},p(t,[e]){1&e&&S(o,t[0]),i===(i=l(t))&&a?a.p(t,e):(a.d(1),(a=i(t))&&(a.c(),a.m(r,null)))},i:t,o:t,d(t){t&&k(n),a.d()}}}function ge(t,e,n){let{title:s=""}=e,{params:o=""}=e,{lessons:c=[]}=e;return t.$set=(t=>{"title"in t&&n(0,s=t.title),"params"in t&&n(1,o=t.params),"lessons"in t&&n(2,c=t.lessons)}),[s,o,c,t=>t.toLowerCase().replace(/\s/g,"-"),t=>new Date(t).toLocaleDateString("en-US")]}class ve extends kt{constructor(t){super(),wt(this,t,ge,$e,l,{title:0,params:1,lessons:2})}}const ye=[];let xe;function be(t){t.node.classList.remove(t.className),t.pattern.test(xe)&&t.node.classList.add(t.className)}function we(t,e){if(!(e=e&&"string"==typeof e?{path:e}:e||{}).path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&"#"==e.path.charAt(0)&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||e.path.length<1||"/"!=e.path.charAt(0)&&"*"!=e.path.charAt(0))throw Error('Invalid value for "path" argument');const{pattern:n}=jt(e.path),s={node:t,className:e.className,pattern:n};return ye.push(s),be(s),{destroy(){ye.splice(ye.indexOf(s),1)}}}function ke(t,e,n){const s=t.slice();return s[2]=e[n],s}function qe(t){let e,n,s;return{c(){e=_("span"),C(n=_("i"),"class",s="icon-"+t[2]),C(e,"class","icon pr-2")},m(t,s){w(t,e,s),b(e,n)},p(t,e){1&e&&s!==(s="icon-"+t[2])&&C(n,"class",s)},d(t){t&&k(e)}}}function _e(t){let e,n,s,o,r,l,i,a,u,f=t[2]+"",d=t[1]&&qe(t);return{c(){e=_("li"),n=_("a"),d&&d.c(),s=L(),o=E(f),a=L(),C(n,"href",r="/"+t[2])},m(t,c){w(t,e,c),b(e,n),d&&d.m(n,null),b(n,s),b(n,o),b(e,a),u=[m(l=Mt.call(null,n)),m(i=we.call(null,n))]},p(t,e){t[1]?d?d.p(t,e):((d=qe(t)).c(),d.m(n,s)):d&&(d.d(1),d=null),1&e&&f!==(f=t[2]+"")&&S(o,f),1&e&&r!==(r="/"+t[2])&&C(n,"href",r)},d(t){t&&k(e),d&&d.d(),c(u)}}}function Ee(e){let n,s,o=e[0],c=[];for(let t=0;t<o.length;t+=1)c[t]=_e(ke(e,o,t));return{c(){n=_("nav"),s=_("ul");for(let t=0;t<c.length;t+=1)c[t].c()},m(t,e){w(t,n,e),b(n,s);for(let t=0;t<c.length;t+=1)c[t].m(s,null)},p(t,[e]){if(3&e){let n;for(o=t[0],n=0;n<o.length;n+=1){const r=ke(t,o,n);c[n]?c[n].p(r,e):(c[n]=_e(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=o.length}},i:t,o:t,d(t){t&&k(n),q(c,t)}}}function Le(t,e,n){let{links:s=[]}=e,{icon:o=!1}=e;return t.$set=(t=>{"links"in t&&n(0,s=t.links),"icon"in t&&n(1,o=t.icon)}),[s,o]}Ct.subscribe(t=>{xe=t.location+(t.querystring?"?"+t.querystring:""),ye.map(be)});class je extends kt{constructor(t){super(),wt(this,t,Le,Ee,l,{links:0,icon:1})}}function Ae(t,e,n){const s=t.slice();return s[6]=e[n],s}function Ne(t){let e,n,s,o,c=t[6]+"";return{c(){e=_("option"),n=E(c),s=L(),e.__value=o=t[6],e.value=e.__value},m(t,o){w(t,e,o),b(e,n),b(e,s)},p(t,s){2&s&&c!==(c=t[6]+"")&&S(n,c),2&s&&o!==(o=t[6])&&(e.__value=o),e.value=e.__value},d(t){t&&k(e)}}}function Ce(e){let n,s,o,r,l,i=e[1],a=[];for(let t=0;t<i.length;t+=1)a[t]=Ne(Ae(e,i,t));return{c(){n=_("div"),s=_("select"),o=_("option"),r=E(e[2]);for(let t=0;t<a.length;t+=1)a[t].c();o.__value="",o.value=o.__value,C(s,"class","custom-select svelte-jz78dw"),void 0===e[0]&&tt(()=>e[5].call(s)),C(n,"class","pb-4")},m(t,c){w(t,n,c),b(n,s),b(s,o),b(o,r);for(let t=0;t<a.length;t+=1)a[t].m(s,null);M(s,e[0]),l=[A(s,"change",e[5]),A(s,"change",e[3])]},p(t,[e]){if(4&e&&S(r,t[2]),2&e){let n;for(i=t[1],n=0;n<i.length;n+=1){const o=Ae(t,i,n);a[n]?a[n].p(o,e):(a[n]=Ne(o),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}1&e&&M(s,t[0])},i:t,o:t,d(t){t&&k(n),q(a,t),c(l)}}}function Se(t,e,n){let{options:s}=e,{placeholder:o="Select..."}=e,{selected:c=""}=e;const r=W();return t.$set=(t=>{"options"in t&&n(1,s=t.options),"placeholder"in t&&n(2,o=t.placeholder),"selected"in t&&n(0,c=t.selected)}),[c,s,o,function(){r("select",{selected:c})},r,function(){c=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,c),n(1,s)}]}class Te extends kt{constructor(t){super(),wt(this,t,Se,Ce,l,{options:1,placeholder:2,selected:0})}}function Me(t){let e;return{c(){(e=_("span")).innerHTML='<i class="icon-logout"></i>',C(e,"class","icon")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Oe(t){let e,n,s,o,c,r,l,i,a,u=t[1].name+"";const f=new Rt({props:{type:"link",$$slots:{default:[Me]},$$scope:{ctx:t}}});f.$on("click",te);const d=new je({props:{links:["lesson","hometask"],icon:!0}});return{c(){e=_("div"),n=_("div"),(s=_("span")).innerHTML='<i class="icon-girl"></i>',o=E("\n      Welcome, "),c=E(u),r=E("!\n      "),l=_("span"),vt(f.$$.fragment),i=L(),vt(d.$$.fragment),C(s,"class","icon pr-2"),C(l,"class","ml-auto"),C(n,"class","flex items-center text-lg leading-loose pb-4 px-2"),C(e,"slot","sidebar")},m(t,u){w(t,e,u),b(e,n),b(n,s),b(n,o),b(n,c),b(n,r),b(n,l),yt(f,l,null),b(e,i),yt(d,e,null),a=!0},p(t,e){(!a||2&e)&&u!==(u=t[1].name+"")&&S(c,u);const n={};32&e&&(n.$$scope={dirty:e,ctx:t}),f.$set(n)},i(t){a||(dt(f.$$.fragment,t),dt(d.$$.fragment,t),a=!0)},o(t){pt(f.$$.fragment,t),pt(d.$$.fragment,t),a=!1},d(t){t&&k(e),xt(f),xt(d)}}}function He(t){let e,n,s,o={ctx:t,current:null,token:null,pending:Re,then:ze,catch:Ie,value:4,blocks:[,,,]};return function(t,e){const n=e.token={};function s(t,s,o,c){if(e.token!==n)return;e.resolved=c;let r=e.ctx;void 0!==o&&((r=r.slice())[o]=c);const l=t&&(e.current=t)(r);let i=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==s&&t&&(ut(),pt(t,1,1,()=>{e.blocks[n]=null}),ft())}):e.block.d(1),l.c(),dt(l,1),l.m(e.mount(),e.anchor),i=!0),e.block=l,e.blocks&&(e.blocks[s]=l),i&&st()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=B();if(t.then(t=>{U(n),s(e.then,1,e.value,t),U(null)},t=>{U(n),s(e.catch,2,e.error,t),U(null)}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}var o}(n=t[3],o),{c(){e=j(),o.block.c()},m(t,n){w(t,e,n),o.block.m(t,o.anchor=n),o.mount=(()=>e.parentNode),o.anchor=e,s=!0},p(e,n){{const s=(t=e).slice();s[4]=o.resolved,o.block.p(s,n)}},i(t){s||(dt(o.block),s=!0)},o(t){for(let t=0;t<3;t+=1){pt(o.blocks[t])}s=!1},d(t){t&&k(e),o.block.d(t),o.token=null,o=null}}}function Ie(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ze(t){let e;const n=new Te({props:{placeholder:"Select student",options:t[4],selected:t[2].user}});return n.$on("select",Ue),{c(){vt(n.$$.fragment)},m(t,s){yt(n,t,s),e=!0},p(t,e){const s={};4&e&&(s.selected=t[2].user),n.$set(s)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){pt(n.$$.fragment,t),e=!1},d(t){xt(n,t)}}}function Re(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function De(t){let e,n,s,o,c="teacher"===t[1].role&&He(t);const r=new ve({props:{title:"Active",lessons:t[2][t[0].lesson],params:t[0].lesson}}),l=new ve({props:{title:"Completed",lessons:Qt,params:t[0].lesson}});return{c(){e=_("div"),c&&c.c(),n=L(),vt(r.$$.fragment),s=L(),vt(l.$$.fragment),C(e,"slot","main")},m(t,i){w(t,e,i),c&&c.m(e,null),b(e,n),yt(r,e,null),b(e,s),yt(l,e,null),o=!0},p(t,s){"teacher"===t[1].role?c?(c.p(t,s),dt(c,1)):((c=He(t)).c(),dt(c,1),c.m(e,n)):c&&(ut(),pt(c,1,1,()=>{c=null}),ft());const o={};5&s&&(o.lessons=t[2][t[0].lesson]),1&s&&(o.params=t[0].lesson),r.$set(o);const i={};1&s&&(i.params=t[0].lesson),l.$set(i)},i(t){o||(dt(c),dt(r.$$.fragment,t),dt(l.$$.fragment,t),o=!0)},o(t){pt(c),pt(r.$$.fragment,t),pt(l.$$.fragment,t),o=!1},d(t){t&&k(e),c&&c.d(),xt(r),xt(l)}}}function Pe(e){let n;return{c(){n=L()},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}function Fe(t){let e;const n=new fe({props:{$$slots:{default:[Pe],main:[De],sidebar:[Oe]},$$scope:{ctx:t}}});return{c(){vt(n.$$.fragment)},m(t,s){yt(n,t,s),e=!0},p(t,[e]){const s={};39&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){pt(n.$$.fragment,t),e=!1},d(t){xt(n,t)}}}function Ue({detail:t}){Xt(t.selected)}function Be(t,e,n){let s,o;u(t,Wt,t=>n(1,s=t)),u(t,Yt,t=>n(2,o=t));let{params:c={}}=e;J(()=>{"student"===s.role&&Xt(s.login)});const r="teacher"===s.role?async function(){try{const t=await fetch(Gt);return(await t.json()).users}catch(t){console.log(t)}}():[];return t.$set=(t=>{"params"in t&&n(0,c=t.params)}),[c,s,o,r]}function Je(t){let e,n,s;const o=t[1].default,c=f(o,t,t[0],null);return{c(){e=_("div"),c&&c.c(),C(e,"class","notification svelte-yra4pe")},m(t,n){w(t,e,n),c&&c.m(e,null),s=!0},p(t,[e]){c&&c.p&&1&e&&c.p(d(o,t,t[0],null),p(o,t[0],e,null))},i(t){s||(dt(c,t),tt(()=>{n||(n=$t(e,Ft,{y:-200,duration:500},!0)),n.run(1)}),s=!0)},o(t){pt(c,t),n||(n=$t(e,Ft,{y:-200,duration:500},!1)),n.run(0),s=!1},d(t){t&&k(e),c&&c.d(t),t&&n&&n.end()}}}function We(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$set=(t=>{"$$scope"in t&&n(0,o=t.$$scope)}),[o,s]}class Ye extends kt{constructor(t){super(),wt(this,t,We,Je,l,{})}}function Qe(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function Ge(t){let e;return{c(){C(e=_("span"),"class","correct-variant")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ke(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m=t[6].variant+"";function h(...e){return t[5](t[8],...e)}let $=t[6].answer&&Ge();return{c(){e=_("label"),n=_("span"),s=_("input"),r=L(),l=_("span"),i=L(),a=_("span"),u=E(m),f=L(),$&&$.c(),C(s,"class","radio-input svelte-ni0fuj"),C(s,"id",o=t[8]),s.value=c=t[8],C(s,"type","radio"),C(l,"class","custom-radio-inner svelte-ni0fuj"),C(n,"class","custom-radio pr-2 svelte-ni0fuj"),O(n,"checked",t[8]===t[0]),C(a,"class","variant"),C(e,"for",d=t[8]),C(e,"class","label py-2 svelte-ni0fuj")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,r),b(n,l),b(e,i),b(e,a),b(a,u),b(a,f),$&&$.m(a,null),p=A(s,"click",h)},p(e,s){t=e,1&s&&O(n,"checked",t[8]===t[0]),2&s&&m!==(m=t[6].variant+"")&&S(u,m),t[6].answer?$||(($=Ge()).c(),$.m(a,null)):$&&($.d(1),$=null)},d(t){t&&k(e),$&&$.d(),p()}}}function Ve(e){let n,s,o=e[1],c=[];for(let t=0;t<o.length;t+=1)c[t]=Ke(Qe(e,o,t));return{c(){for(let t=0;t<c.length;t+=1)c[t].c();n=L(),C(s=_("div"),"class","mt-4 text-xl text-justify")},m(t,o){for(let e=0;e<c.length;e+=1)c[e].m(t,o);w(t,n,o),w(t,s,o),s.innerHTML=e[2]},p(t,[e]){if(11&e){let s;for(o=t[1],s=0;s<o.length;s+=1){const r=Qe(t,o,s);c[s]?c[s].p(r,e):(c[s]=Ke(r),c[s].c(),c[s].m(n.parentNode,n))}for(;s<c.length;s+=1)c[s].d(1);c.length=o.length}4&e&&(s.innerHTML=t[2])},i:t,o:t,d(t){q(c,t),t&&k(n),t&&k(s)}}}function Xe(t,e,n){let{selected:s}=e,{variants:o}=e,{context:c=" "}=e;const r=W();function l(t){r("select",t)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"context"in t&&n(2,c=t.context)}),[s,o,c,l,r,t=>l(t)]}class Ze extends kt{constructor(t){super(),wt(this,t,Xe,Ve,l,{selected:0,variants:1,context:2})}}const tn=/<\/*\d+\w*>/g,en=/<[0-9]+B>([0-9]+)(\w)<\/[0-9]+B>/g;function nn(t,e){let n=[];const s=t.replace(en,(t,e,n)=>` <span class="slot hidden" data-index=${e-1}>${n}</span><span class="slot-sentence hidden" data-index=${e-1}>${n}</span> `);for(let t=1;t<=e;t++){const e=new RegExp("<"+t+">.*</"+t+">"),o=new RegExp("<"+t+"A>(.*)</"+t+"A>");let c=s.match(e);c?(c=(c=(c=c[0]).replace(o,' <span class="highlight-hidden">$1</span> ')).replace(tn," "),n.push(c)):(console.log(`Question ${t}: No fragment or context was not markuped!`),n.push(null))}return n}function sn(t,e){const n=new RegExp('-hidden(?=">'+e+")");return t.replace(n,"")}function on(t){return t.replace(/slot hidden/g,"slot")}function cn(t,e,n){const s=t.slice();return s[7]=e[n],s[9]=n,s}function rn(t){let e;return{c(){C(e=_("span"),"class","correct-variant")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ln(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m=t[7].variant+"";function h(...e){return t[6](t[9],...e)}let $=t[7].answer&&rn();return{c(){e=_("label"),n=_("span"),s=_("input"),r=L(),l=_("span"),i=L(),a=_("span"),u=E(m),f=L(),$&&$.c(),C(s,"class","radio-input svelte-fj1gr"),C(s,"id",o=t[9]),s.value=c=t[9],C(s,"type","radio"),C(l,"class","custom-radio-inner svelte-fj1gr"),C(n,"class","custom-radio pr-2 svelte-fj1gr"),O(n,"checked",t[9]===t[0]),C(a,"class","variant"),C(e,"for",d=t[9]),C(e,"class","label py-2 svelte-fj1gr")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,r),b(n,l),b(e,i),b(e,a),b(a,u),b(a,f),$&&$.m(a,null),p=A(s,"click",h)},p(e,s){t=e,1&s&&O(n,"checked",t[9]===t[0]),2&s&&m!==(m=t[7].variant+"")&&S(u,m),t[7].answer?$||(($=rn()).c(),$.m(a,null)):$&&($.d(1),$=null)},d(t){t&&k(e),$&&$.d(),p()}}}function an(e){let n,s,o=sn(e[2],e[3])+"",c=e[1],r=[];for(let t=0;t<c.length;t+=1)r[t]=ln(cn(e,c,t));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=L(),C(s=_("div"),"class","mt-4 text-xl text-justify")},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);w(t,n,e),w(t,s,e),s.innerHTML=o},p(t,[e]){if(19&e){let s;for(c=t[1],s=0;s<c.length;s+=1){const o=cn(t,c,s);r[s]?r[s].p(o,e):(r[s]=ln(o),r[s].c(),r[s].m(n.parentNode,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=c.length}12&e&&o!==(o=sn(t[2],t[3])+"")&&(s.innerHTML=o)},i:t,o:t,d(t){q(r,t),t&&k(n),t&&k(s)}}}function un(t,e,n){let{selected:s}=e,{variants:o=[]}=e,{context:c=""}=e,{word:r=""}=e;const l=W();function i(t){l("select",t)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"context"in t&&n(2,c=t.context),"word"in t&&n(3,r=t.word)}),[s,o,c,r,i,l,t=>i(t)]}class fn extends kt{constructor(t){super(),wt(this,t,un,an,l,{selected:0,variants:1,context:2,word:3})}}function dn(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function pn(t){let e;return{c(){C(e=_("span"),"class","correct-variant")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function mn(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m=t[6].variant+"";function h(...e){return t[5](t[8],...e)}let $=t[6].answer&&pn();return{c(){e=_("label"),n=_("span"),s=_("input"),c=L(),r=_("span"),l=L(),i=_("span"),a=E(m),u=L(),$&&$.c(),f=L(),C(s,"class","checkbox-input svelte-l884s9"),C(s,"id",o=t[8]),C(s,"type","checkbox"),C(r,"class","custom-checkbox-inner svelte-l884s9"),C(n,"class","custom-checkbox pr-2 svelte-l884s9"),O(n,"checked",t[1](t[8])),C(i,"class","variant"),C(e,"for",d=t[8]),C(e,"class","flex cursor-pointer py-2")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,c),b(n,r),b(e,l),b(e,i),b(i,a),b(i,u),$&&$.m(i,null),b(e,f),p=A(s,"click",h)},p(e,s){t=e,2&s&&O(n,"checked",t[1](t[8])),1&s&&m!==(m=t[6].variant+"")&&S(a,m),t[6].answer?$||(($=pn()).c(),$.m(i,null)):$&&($.d(1),$=null)},d(t){t&&k(e),$&&$.d(),p()}}}function hn(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=mn(dn(e,s,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=j()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);w(t,n,e)},p(t,[e]){if(7&e){let c;for(s=t[0],c=0;c<s.length;c+=1){const r=dn(t,s,c);o[c]?o[c].p(r,e):(o[c]=mn(r),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},i:t,o:t,d(t){q(o,t),t&&k(n)}}}function $n(t,e,n){let{selected:s}=e,{variants:o}=e;const c=W();function r(t){void 0!==s?s.includes(t)?c("select",s.filter(e=>e!==t)):c("select",[...s,t]):c("select",[t])}let l;return t.$set=(t=>{"selected"in t&&n(3,s=t.selected),"variants"in t&&n(0,o=t.variants)}),t.$$.update=(()=>{8&t.$$.dirty&&n(1,l=(t=>void 0!==s&&s.includes(t)))}),[o,l,r,s,c,t=>r(t)]}class gn extends kt{constructor(t){super(),wt(this,t,$n,hn,l,{selected:3,variants:0})}}function vn(t,e,n){const s=t.slice();return s[11]=e[n],s[13]=n,s}function yn(t){let e;return{c(){C(e=_("span"),"class","correct-variant")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function xn(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m,h=t[11].variant+"";function $(...e){return t[10](t[13],...e)}let g=t[11].answer&&yn();return{c(){e=_("label"),n=_("span"),s=_("input"),r=L(),l=_("span"),i=L(),a=_("span"),u=E(h),f=L(),g&&g.c(),d=L(),C(s,"class","radio-input svelte-1qwz5f0"),C(s,"id",o=t[13]),s.value=c=t[13],C(s,"type","radio"),C(l,"class","custom-radio-inner svelte-1qwz5f0"),C(n,"class","custom-radio pr-2 svelte-1qwz5f0"),O(n,"selected",t[13]===t[0]),C(a,"class","variant"),C(e,"for",p=t[13]),C(e,"class","label py-2 svelte-1qwz5f0")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,r),b(n,l),b(e,i),b(e,a),b(a,u),b(a,f),g&&g.m(a,null),b(e,d),m=A(s,"click",$)},p(e,s){t=e,1&s&&O(n,"selected",t[13]===t[0]),2&s&&h!==(h=t[11].variant+"")&&S(u,h),t[11].answer?g||((g=yn()).c(),g.m(a,null)):g&&(g.d(1),g=null)},d(t){t&&k(e),g&&g.d(),m()}}}function bn(e){let n,s,o,c,r,l,i=on(e[3],e[2])+"",a=e[1],u=[];for(let t=0;t<a.length;t+=1)u[t]=xn(vn(e,a,t));return{c(){n=_("div"),s=E(e[2]),o=L(),c=_("div");for(let t=0;t<u.length;t+=1)u[t].c();r=L(),l=_("div"),C(n,"class","sentence p-2"),C(c,"class","flex flex-col mt-6"),C(l,"class","mt-4 text-xl text-justify")},m(t,e){w(t,n,e),b(n,s),w(t,o,e),w(t,c,e);for(let t=0;t<u.length;t+=1)u[t].m(c,null);w(t,r,e),w(t,l,e),l.innerHTML=i},p(t,[e]){if(4&e&&S(s,t[2]),19&e){let n;for(a=t[1],n=0;n<a.length;n+=1){const s=vn(t,a,n);u[n]?u[n].p(s,e):(u[n]=xn(s),u[n].c(),u[n].m(c,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}12&e&&i!==(i=on(t[3],t[2])+"")&&(l.innerHTML=i)},i:t,o:t,d(t){t&&k(n),t&&k(o),t&&k(c),q(u,t),t&&k(r),t&&k(l)}}}function wn(t,e,n){let{selected:s}=e,{variants:o}=e,{sentence:c}=e,{context:r=""}=e;const l=W();let i=[],a=[];var u;function f(t){i.forEach((e,n)=>{t===n?(e.classList.add("active"),a[n].classList.remove("hidden"),setTimeout(()=>{a[n].style.opacity="1"},0)):(e.classList.remove("active"),a[n].classList.add("hidden"),a[n].style.opacity="0")})}function d(t){f(t),l("select",t)}function p(t){const e=parseInt(t.target.dataset.index);f(e),l("select",e)}J(()=>{i=document.querySelectorAll(".slot"),(a=document.querySelectorAll(".slot-sentence")).forEach(t=>t.innerHTML=c),i.forEach(t=>{t.addEventListener("click",p)}),s&&(i[s].classList.add("active"),a[s].classList.remove("hidden"),a[s].style.opacity="1")}),u=(()=>{i.forEach(t=>t.removeEventListener("click",p))}),B().$$.on_destroy.push(u);return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"sentence"in t&&n(2,c=t.sentence),"context"in t&&n(3,r=t.context)}),[s,o,c,r,d,i,a,l,f,p,t=>d(t)]}class kn extends kt{constructor(t){super(),wt(this,t,wn,bn,l,{selected:0,variants:1,sentence:2,context:3})}}function qn(t,e,n){const s=t.slice();return s[9]=e[n].column,s[11]=n,s}function _n(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function En(t){let e;return{c(){C(e=_("span"),"class","correct-variant svelte-fzh823")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ln(t){let e,n,s,o,c,r,l,i,a,u,f,d=t[9]+"",p=t[6].answer===t[11]&&En();function m(...e){return t[5](t[8],t[11],...e)}return{c(){e=_("label"),p&&p.c(),n=L(),s=_("span"),o=_("input"),r=L(),l=_("span"),i=E(d),a=L(),C(o,"class","radio-input svelte-fzh823"),C(o,"id",c=t[8]+"-"+t[11]),C(o,"type","radio"),C(s,"class","custom-radio-button svelte-fzh823"),C(e,"class","label svelte-fzh823"),C(e,"for",u=t[8]+"-"+t[11]),O(e,"checked",t[0][t[8]]===t[11])},m(t,c){w(t,e,c),p&&p.m(e,null),b(e,n),b(e,s),b(s,o),b(s,r),b(s,l),b(l,i),b(e,a),f=A(o,"click",m)},p(s,o){(t=s)[6].answer===t[11]?p||((p=En()).c(),p.m(e,n)):p&&(p.d(1),p=null),4&o&&d!==(d=t[9]+"")&&S(i,d),1&o&&O(e,"checked",t[0][t[8]]===t[11])},d(t){t&&k(e),p&&p.d(),f()}}}function jn(t){let e,n,s,o,c,r,l,i,a=t[8]+1+"",u=t[6].variant+"",f=t[2],d=[];for(let e=0;e<f.length;e+=1)d[e]=Ln(qn(t,f,e));return{c(){e=_("div"),n=_("span"),s=E(a),o=E(". "),c=E(u),r=L(),l=_("div");for(let t=0;t<d.length;t+=1)d[t].c();i=L(),C(n,"class","pr-4"),C(l,"class","flex"),C(e,"class","lg:flex justify-between pb-4")},m(t,a){w(t,e,a),b(e,n),b(n,s),b(n,o),b(n,c),b(e,r),b(e,l);for(let t=0;t<d.length;t+=1)d[t].m(l,null);b(e,i)},p(t,e){if(2&e&&u!==(u=t[6].variant+"")&&S(c,u),15&e){let n;for(f=t[2],n=0;n<f.length;n+=1){const s=qn(t,f,n);d[n]?d[n].p(s,e):(d[n]=Ln(s),d[n].c(),d[n].m(l,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}},d(t){t&&k(e),q(d,t)}}}function An(e){let n,s=e[1],o=[];for(let t=0;t<s.length;t+=1)o[t]=jn(_n(e,s,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=j()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);w(t,n,e)},p(t,[e]){if(15&e){let c;for(s=t[1],c=0;c<s.length;c+=1){const r=_n(t,s,c);o[c]?o[c].p(r,e):(o[c]=jn(r),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},i:t,o:t,d(t){q(o,t),t&&k(n)}}}function Nn(t,e,n){let{selected:s={}}=e,{variants:o}=e,{columns:c}=e;const r=W();function l(t,e){n(0,s[t]=e,s),r("select",s)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"columns"in t&&n(2,c=t.columns)}),[s,o,c,l,r,(t,e)=>l(t,e)]}class Cn extends kt{constructor(t){super(),wt(this,t,Nn,An,l,{selected:0,variants:1,columns:2})}}function Sn(t){let e,s;const o=[{variants:t[0].variants},t[2],{selected:t[1]}];var c=t[3][t[0].type];function r(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}if(c){var l=new c(r());l.$on("select",t[7])}return{c(){l&&vt(l.$$.fragment),e=j()},m(t,n){l&&yt(l,t,n),w(t,e,n),s=!0},p(t,[n]){const s=7&n?function(t,e){const n={},s={},o={$$scope:1};let c=t.length;for(;c--;){const r=t[c],l=e[c];if(l){for(const t in r)t in l||(s[t]=1);for(const t in l)o[t]||(n[t]=l[t],o[t]=1);t[c]=l}else for(const t in r)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}(o,[1&n&&{variants:t[0].variants},4&n&&(i=t[2],"object"==typeof i&&null!==i?i:{}),2&n&&{selected:t[1]}]):{};var i;if(c!==(c=t[3][t[0].type])){if(l){ut();const t=l;pt(t.$$.fragment,1,0,()=>{xt(t,1)}),ft()}c?((l=new c(r())).$on("select",t[7]),vt(l.$$.fragment),dt(l.$$.fragment,1),yt(l,e.parentNode,e)):l=null}else c&&l.$set(s)},i(t){s||(l&&dt(l.$$.fragment,t),s=!0)},o(t){l&&pt(l.$$.fragment,t),s=!1},d(t){t&&k(e),l&&xt(l,t)}}}function Tn(t,e,n){let{question:s}=e,{selected:o}=e,{context:c}=e;const r={select:Ze,word:fn,check:gn,insert:kn,column:Cn},l={word:"word",insert:"sentence",column:"columns"};function i(t){let e={};return null!==c&&(e.context=c),l[t]&&(e[l[t]]=s[l[t]]),e}let a;return t.$set=(t=>{"question"in t&&n(0,s=t.question),"selected"in t&&n(1,o=t.selected),"context"in t&&n(4,c=t.context)}),t.$$.update=(()=>{1&t.$$.dirty&&n(2,a=i(s.type))}),[s,o,a,r,c,l,i,function(e){Y(t,e)}]}class Mn extends kt{constructor(t){super(),wt(this,t,Tn,Sn,l,{question:0,selected:1,context:4})}}const On=Bt("app-test-answers",{}),Hn=([t,e])=>{On.update(n=>({...n,[t]:e}))},In=(t,e)=>{a(On).testId!==t&&On.set({testId:t,lesson:e})},zn=t=>{const e=a(On),n=[],s=o=>o===t?n:(e.hasOwnProperty(o)||n.push(o),s(o+1));return s(0)};function Rn(e){let n,s,o,c,r,l=e[4]&&Pn(e);return{c(){(n=_("h1")).textContent="Finish test",s=L(),(o=_("p")).textContent="You are close to finish the test and send rezults.",c=L(),l&&l.c(),r=j(),C(n,"class","text-black text-xl mb-6"),C(o,"class","")},m(t,e){w(t,n,e),w(t,s,e),w(t,o,e),w(t,c,e),l&&l.m(t,e),w(t,r,e)},p(t,e){t[4]?l?l.p(t,e):((l=Pn(t)).c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&k(n),t&&k(s),t&&k(o),t&&k(c),l&&l.d(t),t&&k(r)}}}function Dn(t){let e,n,s,o,c=t[0].title+"";const r=new Mn({props:{selected:t[5],question:t[0],context:t[2]}});return r.$on("select",t[12]),{c(){e=_("h1"),n=E(c),s=L(),vt(r.$$.fragment),C(e,"class","text-black text-xl mb-6")},m(t,c){w(t,e,c),b(e,n),w(t,s,c),yt(r,t,c),o=!0},p(t,e){(!o||1&e)&&c!==(c=t[0].title+"")&&S(n,c);const s={};32&e&&(s.selected=t[5]),1&e&&(s.question=t[0]),4&e&&(s.context=t[2]),r.$set(s)},i(t){o||(dt(r.$$.fragment,t),o=!0)},o(t){pt(r.$$.fragment,t),o=!1},d(t){t&&k(e),t&&k(s),xt(r,t)}}}function Pn(t){let e,n,s;return{c(){e=_("p"),n=E("You did not answer the questions: "),s=E(t[4])},m(t,o){w(t,e,o),b(e,n),b(e,s)},p(t,e){16&e&&S(s,t[4])},d(t){t&&k(e)}}}function Fn(t){let e;return{c(){e=E("Previous")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Un(t){let e,n=t[3]===t[1]?"Send":"Next";return{c(){e=E(n)},m(t,n){w(t,e,n)},p(t,s){10&s&&n!==(n=t[3]===t[1]?"Send":"Next")&&S(e,n)},d(t){t&&k(e)}}}function Bn(t){let e,n,s,o,c,l,i;const a=[Dn,Rn],u=[];function f(t,e){return t[3]<t[1]?0:1}n=f(t),s=u[n]=a[n](t);const d=new Rt({props:{type:"secondary",disabled:0===t[3],$$slots:{default:[Fn]},$$scope:{ctx:t}}});d.$on("click",t[8]);const p=new Rt({props:{type:"primary",$$slots:{default:[Un]},$$scope:{ctx:t}}});return p.$on("click",function(){r(t[3]===t[1]?t[9]:t[7])&&(t[3]===t[1]?t[9]:t[7]).apply(this,arguments)}),{c(){e=_("div"),s.c(),o=L(),c=_("div"),vt(d.$$.fragment),l=L(),vt(p.$$.fragment),C(e,"class","container rounded border bg-white p-8"),C(c,"class","flex p-8 justify-center md:justify-end")},m(t,s){w(t,e,s),u[n].m(e,null),w(t,o,s),w(t,c,s),yt(d,c,null),b(c,l),yt(p,c,null),i=!0},p(o,[c]){let r=n;(n=f(t=o))===r?u[n].p(t,c):(ut(),pt(u[r],1,1,()=>{u[r]=null}),ft(),(s=u[n])||(s=u[n]=a[n](t)).c(),dt(s,1),s.m(e,null));const l={};8&c&&(l.disabled=0===t[3]),8192&c&&(l.$$scope={dirty:c,ctx:t}),d.$set(l);const i={};8202&c&&(i.$$scope={dirty:c,ctx:t}),p.$set(i)},i(t){i||(dt(s),dt(d.$$.fragment,t),dt(p.$$.fragment,t),i=!0)},o(t){pt(s),pt(d.$$.fragment,t),pt(p.$$.fragment,t),i=!1},d(t){t&&k(e),u[n].d(),t&&k(o),t&&k(c),xt(d),xt(p)}}}function Jn(t,e,n){let{question:s={}}=e,{questionsCount:o}=e,{context:c}=e,{active:r}=e,{answers:l}=e;const i=W();let a;function u(t){i("select",{newAnswer:[r,t]})}let f;return t.$set=(t=>{"question"in t&&n(0,s=t.question),"questionsCount"in t&&n(1,o=t.questionsCount),"context"in t&&n(2,c=t.context),"active"in t&&n(3,r=t.active),"answers"in t&&n(10,l=t.answers)}),t.$$.update=(()=>{1032&t.$$.dirty&&n(5,f=l[r]),26&t.$$.dirty&&r===o&&(n(4,a=zn(o)),n(4,a=a.map(t=>t+1).join(" , ")))}),[s,o,c,r,a,f,u,function(){i("click",{newActive:r+1})},function(){i("click",{newActive:r-1})},function(){i("send")},l,i,t=>u(t.detail)]}class Wn extends kt{constructor(t){super(),wt(this,t,Jn,Bn,l,{question:0,questionsCount:1,context:2,active:3,answers:10})}}function Yn(t,e,n){const s=t.slice();return s[10]=e[n],s[12]=n,s}function Qn(e){let n,s;return{c(){(n=_("span")).innerHTML='<i class="icon-check"></i>',C(n,"class","icon")},m(t,e){w(t,n,e)},i(t){s||tt(()=>{(s=ht(n,Pt,{duration:300})).start()})},o:t,d(t){t&&k(n)}}}function Gn(e,n){let s,o,c,r,l,i,a,u,f,d,p,m=n[12]+1+"",h=n[4](n[10].title)+"",$=n[3](n[12]),g=$&&Qn();function v(...t){return n[8](n[12],...t)}return{key:e,first:null,c(){s=_("a"),o=_("span"),c=E(m),r=L(),l=_("span"),i=E(h),a=E("..."),u=L(),f=_("span"),g&&g.c(),C(o,"class","px-2"),C(f,"class","check mr-2 svelte-kx3qma"),C(s,"class","item svelte-kx3qma"),C(s,"href",d="/#"+n[12]),O(s,"active",n[12]===n[2]),this.first=s},m(t,e){w(t,s,e),b(s,o),b(o,c),b(s,r),b(s,l),b(l,i),b(l,a),b(s,u),b(s,f),g&&g.m(f,null),p=A(s,"click",N(v))},p(t,e){n=t,2&e&&m!==(m=n[12]+1+"")&&S(c,m),2&e&&h!==(h=n[4](n[10].title)+"")&&S(i,h),10&e&&($=n[3](n[12])),$?g?dt(g,1):((g=Qn()).c(),dt(g,1),g.m(f,null)):g&&(g.d(1),g=null),2&e&&d!==(d="/#"+n[12])&&C(s,"href",d),6&e&&O(s,"active",n[12]===n[2])},i(t){dt(g)},o:t,d(t){t&&k(s),g&&g.d(),p()}}}function Kn(e){let n,s,o,c,r,l,i,a,u=[],f=new Map,d=e[1];const p=t=>t[12];for(let t=0;t<d.length;t+=1){let n=Yn(e,d,t),s=p(n);f.set(s,u[t]=Gn(s,n))}return{c(){n=_("div"),s=_("div"),o=E(e[0]),c=L(),r=_("div");for(let t=0;t<u.length;t+=1)u[t].c();l=L(),(i=_("a")).innerHTML='<span class="pl-2">Finish test</span>',C(s,"class","border-t border-b px-4 py-2"),C(i,"class","item svelte-kx3qma"),C(i,"href","/#last"),O(i,"active",e[2]===e[1].length),C(r,"class","pr-2 pl-2 py-2"),C(n,"class","questions-list")},m(t,f){w(t,n,f),b(n,s),b(s,o),b(n,c),b(n,r);for(let t=0;t<u.length;t+=1)u[t].m(r,null);b(r,l),b(r,i),a=A(i,"click",N(e[9]))},p(t,[e]){1&e&&S(o,t[0]);const n=t[1];u=function(t,e,n,s,o,c,r,l,i,a,u,f){let d=t.length,p=c.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const $=[],g=new Map,v=new Map;for(m=p;m--;){const t=f(o,c,m),l=n(t);let i=r.get(l);i?s&&i.p(t,e):(i=a(l,t)).c(),g.set(l,$[m]=i),l in h&&v.set(l,Math.abs(m-h[l]))}const y=new Set,x=new Set;function b(t){dt(t,1),t.m(l,u),r.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=$[p-1],n=t[d-1],s=e.key,o=n.key;e===n?(u=e.first,d--,p--):g.has(o)?!r.has(s)||y.has(s)?b(e):x.has(o)?d--:v.get(s)>v.get(o)?(x.add(s),b(e)):(y.add(o),d--):(i(n,r),d--)}for(;d--;){const e=t[d];g.has(e.key)||i(e,r)}for(;p;)b($[p-1]);return $}(u,e,p,1,t,n,f,r,gt,Gn,l,Yn),6&e&&O(i,"active",t[2]===t[1].length)},i(t){for(let t=0;t<d.length;t+=1)dt(u[t])},o:t,d(t){t&&k(n);for(let t=0;t<u.length;t+=1)u[t].d();a()}}}function Vn(t,e,n){let{title:s}=e,{nav:o=[]}=e,{active:c}=e,{answers:r}=e;const l=W();function i(t){l("click",{newActive:t})}let a;return t.$set=(t=>{"title"in t&&n(0,s=t.title),"nav"in t&&n(1,o=t.nav),"active"in t&&n(2,c=t.active),"answers"in t&&n(6,r=t.answers)}),t.$$.update=(()=>{64&t.$$.dirty&&n(3,a=(t=>r.hasOwnProperty(t)))}),[s,o,c,a,t=>t.split(" ").slice(0,6).join(" "),i,r,l,t=>i(t),()=>i(o.length)]}class Xn extends kt{constructor(t){super(),wt(this,t,Vn,Kn,l,{title:0,nav:1,active:2,answers:6})}}const Zn="./data/tests/",ts="https://gila.cf/mvp/kv";async function es(t,e=!1){const n=Zn+t+".json",s=await fetch(n);if(!s.ok)throw new Error(s.status);let o=function(t){return{...t,fragments:nn(t.context,t.questions.length)}}(await s.json());return e||(o=function(t){let{questions:e}=t;return e=e.map(({variants:t,...e})=>({variants:t.map(({variant:t,answer:e})=>({variant:t})),...e})),{...t,questions:e}}(o)),o}function ns(t){let e;const n=new fe({props:{$$slots:{default:[rs],main:[cs],sidebar:[os]},$$scope:{ctx:t}}});return{c(){vt(n.$$.fragment)},m(t,s){yt(n,t,s),e=!0},p(t,e){const s={};551&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){pt(n.$$.fragment,t),e=!1},d(t){xt(n,t)}}}function ss(t){let e,n;return{c(){(e=_("span")).innerHTML='<i class="icon-arrow-left"></i>',n=E("  \n          Back"),C(e,"class","icon pr-2")},m(t,s){w(t,e,s),w(t,n,s)},d(t){t&&k(e),t&&k(n)}}}function os(t){let e,n,s,o,c,r,l,i,a,u=t[0].lesson+"";const f=new Rt({props:{type:"link",$$slots:{default:[ss]},$$scope:{ctx:t}}});f.$on("click",Tt);const d=new Xn({props:{active:t[2],answers:t[5],nav:t[1].questions,title:t[1].title}});return d.$on("click",t[6]),{c(){e=_("div"),n=_("div"),vt(f.$$.fragment),s=L(),o=_("div"),c=_("div"),r=E(u),l=E(" plan"),i=L(),vt(d.$$.fragment),C(n,"class","sidebar-panel px-4 py-2 mb-6"),C(c,"class","font-semibold capitalize text-black px-4 py-2"),C(o,"class","sidebar-panel"),C(e,"slot","sidebar")},m(t,u){w(t,e,u),b(e,n),yt(f,n,null),b(e,s),b(e,o),b(o,c),b(c,r),b(c,l),b(o,i),yt(d,o,null),a=!0},p(t,e){const n={};512&e&&(n.$$scope={dirty:e,ctx:t}),f.$set(n),(!a||1&e)&&u!==(u=t[0].lesson+"")&&S(r,u);const s={};4&e&&(s.active=t[2]),32&e&&(s.answers=t[5]),2&e&&(s.nav=t[1].questions),2&e&&(s.title=t[1].title),d.$set(s)},i(t){a||(dt(f.$$.fragment,t),dt(d.$$.fragment,t),a=!0)},o(t){pt(f.$$.fragment,t),pt(d.$$.fragment,t),a=!1},d(t){t&&k(e),xt(f),xt(d)}}}function cs(t){let e,n;const s=new Wn({props:{active:t[2],answers:t[5],question:t[1].questions[t[2]],context:t[1].fragments[t[2]],questionsCount:t[1].questions.length}});return s.$on("click",t[6]),s.$on("select",us),s.$on("send",t[7]),{c(){e=_("div"),vt(s.$$.fragment),C(e,"slot","main")},m(t,o){w(t,e,o),yt(s,e,null),n=!0},p(t,e){const n={};4&e&&(n.active=t[2]),32&e&&(n.answers=t[5]),6&e&&(n.question=t[1].questions[t[2]]),6&e&&(n.context=t[1].fragments[t[2]]),2&e&&(n.questionsCount=t[1].questions.length),s.$set(n)},i(t){n||(dt(s.$$.fragment,t),n=!0)},o(t){pt(s.$$.fragment,t),n=!1},d(t){t&&k(e),xt(s)}}}function rs(e){let n;return{c(){n=L()},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}function ls(t){let e;const n=new Ye({props:{$$slots:{default:[is]},$$scope:{ctx:t}}});return{c(){vt(n.$$.fragment)},m(t,s){yt(n,t,s),e=!0},p(t,e){const s={};528&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){pt(n.$$.fragment,t),e=!1},d(t){xt(n,t)}}}function is(t){let e,n;return{c(){e=_("div"),n=E(t[4]),C(e,"class","flex items-center")},m(t,s){w(t,e,s),b(e,n)},p(t,e){16&e&&S(n,t[4])},d(t){t&&k(e)}}}function as(t){let e,n,s,o=t[1]&&ns(t),c=t[3]&&ls(t);return{c(){o&&o.c(),e=L(),c&&c.c(),n=j()},m(t,r){o&&o.m(t,r),w(t,e,r),c&&c.m(t,r),w(t,n,r),s=!0},p(t,[s]){t[1]?o?(o.p(t,s),dt(o,1)):((o=ns(t)).c(),dt(o,1),o.m(e.parentNode,e)):o&&(ut(),pt(o,1,1,()=>{o=null}),ft()),t[3]?c?(c.p(t,s),dt(c,1)):((c=ls(t)).c(),dt(c,1),c.m(n.parentNode,n)):c&&(ut(),pt(c,1,1,()=>{c=null}),ft())},i(t){s||(dt(o),dt(c),s=!0)},o(t){pt(o),pt(c),s=!1},d(t){o&&o.d(t),t&&k(e),c&&c.d(t),t&&k(n)}}}function us({detail:t}){Hn(t.newAnswer)}function fs(t,e,n){let s,o;u(t,Wt,t=>n(8,s=t)),u(t,On,t=>n(5,o=t));let c,{params:r={}}=e,l=0,i=!1,a="Answers are sending...";return J(async()=>{const t="teacher"===s.role;n(1,c=await es(r.test,t))}),In(r.test,r.lesson),t.$set=(t=>{"params"in t&&n(0,r=t.params)}),[r,c,l,i,a,o,function({detail:t}){n(2,l=t.newActive)},function(){n(3,i=!0),document.body.classList.add("pointer-events-none"),async function(t,e){const{testId:n,lesson:s,...o}=t,c={id:e,testId:n,lesson:s,answers:o},r={method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain"},mode:"no-cors",body:JSON.stringify(c)},l=await fetch(ts,r);if(!l.ok)throw console.log(l),new Error("Sending is failed! Try again...");return await l.text()}(o,s.login).then(()=>n(4,a="Congratulations! Test results successfully send!")).catch(t=>{n(4,a=t)})}]}function ds(t){let e,n,s,o,c,r,l;return{c(){e=_("div"),n=E("NotFound\n    "),s=_("br"),o=E("\n    Start "),(c=_("a")).textContent="here",C(c,"href","/home"),C(c,"class","text-primary"),C(e,"slot","main")},m(t,i){w(t,e,i),b(e,n),b(e,s),b(e,o),b(e,c),l=m(r=Mt.call(null,c))},d(t){t&&k(e),l()}}}function ps(e){return{c:t,m:t,p:t,d:t}}function ms(t){let e;const n=new fe({props:{$$slots:{default:[ps],main:[ds]},$$scope:{ctx:t}}});return{c(){vt(n.$$.fragment)},m(t,s){yt(n,t,s),e=!0},p(t,[e]){const s={};1&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){pt(n.$$.fragment,t),e=!1},d(t){xt(n,t)}}}const hs={"/":class extends kt{constructor(t){super(),wt(this,t,oe,se,l,{})}},"/:lesson":class extends kt{constructor(t){super(),wt(this,t,Be,Fe,l,{params:0})}},"/:lesson/:test":class extends kt{constructor(t){super(),wt(this,t,fs,as,l,{params:0})}},"*":class extends kt{constructor(t){super(),wt(this,t,null,ms,l,{})}}};function $s(e){let n;const s=new Ht({props:{routes:hs}});return s.$on("routeLoaded",gs),{c(){vt(s.$$.fragment)},m(t,e){yt(s,t,e),n=!0},p:t,i(t){n||(dt(s.$$.fragment,t),n=!0)},o(t){pt(s.$$.fragment,t),n=!1},d(t){xt(s,t)}}}function gs(){Zt()||St("/")}function vs(t){return[]}return new class extends kt{constructor(t){super(),wt(this,t,vs,$s,l,{})}}({target:document.querySelector("#app")})}();
//# sourceMappingURL=bundle.js.map
