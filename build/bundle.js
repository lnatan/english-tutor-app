var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function o(){return Object.create(null)}function c(t){t.forEach(s)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function a(t){let e;return l(t,t=>e=t)(),e}function u(t,e,n){t.$$.on_destroy.push(l(e,n))}function f(t,e,n,s){if(t){const o=d(t,e,n,s);return t[0](o)}}function d(t,e,s,o){return t[1]&&o?n(s.ctx.slice(),t[1](o(e))):s.ctx}function p(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}function m(e){return e&&r(e.destroy)?e.destroy:t}const h="undefined"!=typeof window;let $=h?()=>window.performance.now():()=>Date.now(),g=h?t=>requestAnimationFrame(t):t;const v=new Set;function x(t){v.forEach(e=>{e.c(t)||(v.delete(e),e.f())}),0!==v.size&&g(x)}function y(t){let e;return 0===v.size&&g(x),{promise:new Promise(n=>{v.add(e={c:t,f:n})}),abort(){v.delete(e)}}}function b(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode.removeChild(t)}function q(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function N(){return L(" ")}function j(){return L("")}function E(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function C(t){return function(e){return e.preventDefault(),t.call(this,e)}}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){e=""+e,t.data!==e&&(t.data=e)}function A(t,e){(null!=e||t.value)&&(t.value=e)}function M(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}}function O(t,e,n){t.classList[n?"add":"remove"](e)}function H(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class D{constructor(t,e=null){this.e=_("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)w(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(k)}}let P,I,R=0,J={};function F(t,e,n,s,o,c,r,i=0){const l=16.666/s;let a="{\n";for(let t=0;t<=1;t+=l){const s=e+(n-e)*c(t);a+=100*t+`%{${r(s,1-s)}}\n`}const u=a+`100% {${r(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`;if(!J[f]){if(!P){const t=_("style");document.head.appendChild(t),P=t.sheet}J[f]=!0,P.insertRule(`@keyframes ${f} ${u}`,P.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${f} ${s}ms linear ${o}ms 1 both`,R+=1,f}function U(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--R&&g(()=>{if(R)return;let t=P.cssRules.length;for(;t--;)P.deleteRule(t);J={}})}function z(t){I=t}function B(){if(!I)throw new Error("Function called outside component initialization");return I}function W(t){B().$$.on_mount.push(t)}function Y(){const t=B();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=H(e,n);s.slice().forEach(e=>{e.call(t,o)})}}}function Q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const V=[],G=[],K=[],X=[],Z=Promise.resolve();let tt=!1;function et(t){K.push(t)}let nt=!1;const st=new Set;function ot(){if(!nt){nt=!0;do{for(let t=0;t<V.length;t+=1){const e=V[t];z(e),ct(e.$$)}for(V.length=0;G.length;)G.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];st.has(e)||(st.add(e),e())}K.length=0}while(V.length);for(;X.length;)X.pop()();tt=!1,nt=!1,st.clear()}}function ct(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}let rt;function it(){return rt||(rt=Promise.resolve()).then(()=>{rt=null}),rt}function lt(t,e,n){t.dispatchEvent(H(`${e?"intro":"outro"}${n}`))}const at=new Set;let ut;function ft(){ut={r:0,c:[],p:ut}}function dt(){ut.r||c(ut.c),ut=ut.p}function pt(t,e){t&&t.i&&(at.delete(t),t.i(e))}function mt(t,e,n,s){if(t&&t.o){if(at.has(t))return;at.add(t),ut.c.push(()=>{at.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}const ht={duration:0};function $t(n,s,o){let c,i,l=s(n,o),a=!1,u=0;function f(){c&&U(n,c)}function d(){const{delay:s=0,duration:o=300,easing:r=e,tick:d=t,css:p}=l||ht;p&&(c=F(n,0,1,o,s,r,p,u++)),d(0,1);const m=$()+s,h=m+o;i&&i.abort(),a=!0,et(()=>lt(n,!0,"start")),i=y(t=>{if(a){if(t>=h)return d(1,0),lt(n,!0,"end"),f(),a=!1;if(t>=m){const e=r((t-m)/o);d(e,1-e)}}return a})}let p=!1;return{start(){p||(U(n),r(l)?(l=l(),it().then(d)):d())},invalidate(){p=!1},end(){a&&(f(),a=!1)}}}function gt(n,s,o,i){let l=s(n,o),a=i?0:1,u=null,f=null,d=null;function p(){d&&U(n,d)}function m(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(s){const{delay:o=0,duration:r=300,easing:i=e,tick:h=t,css:g}=l||ht,v={start:$()+o,b:s};s||(v.group=ut,ut.r+=1),u?f=v:(g&&(p(),d=F(n,a,s,r,o,i,g)),s&&h(0,1),u=m(v,r),et(()=>lt(n,s,"start")),y(t=>{if(f&&t>f.start&&(u=m(f,r),f=null,lt(n,u.b,"start"),g&&(p(),d=F(n,a,u.b,u.duration,0,i,l.css))),u)if(t>=u.end)h(a=u.b,1-a),lt(n,u.b,"end"),f||(u.b?p():--u.group.r||c(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*i(e/u.duration),h(a,1-a)}return!(!u&&!f)}))}return{run(t){r(l)?it().then(()=>{l=l(),h(t)}):h(t)},end(){p(),u=f=null}}}function vt(t,e){const n=e.token={};function s(t,s,o,c){if(e.token!==n)return;e.resolved=c;let r=e.ctx;void 0!==o&&((r=r.slice())[o]=c);const i=t&&(e.current=t)(r);let l=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==s&&t&&(ft(),mt(t,1,1,()=>{e.blocks[n]=null}),dt())}):e.block.d(1),i.c(),pt(i,1),i.m(e.mount(),e.anchor),l=!0),e.block=i,e.blocks&&(e.blocks[s]=i),l&&ot()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=B();if(t.then(t=>{z(n),s(e.then,1,e.value,t),z(null)},t=>{z(n),s(e.catch,2,e.error,t),z(null)}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}var o}function xt(t,e){t.d(1),e.delete(t.key)}function yt(t){t&&t.c()}function bt(t,e,n){const{fragment:o,on_mount:i,on_destroy:l,after_update:a}=t.$$;o&&o.m(e,n),et(()=>{const e=i.map(s).filter(r);l?l.push(...e):c(e),t.$$.on_mount=[]}),a.forEach(et)}function wt(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kt(t,e){-1===t.$$.dirty[0]&&(V.push(t),tt||(tt=!0,Z.then(ot)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function qt(e,n,s,r,i,l,a=[-1]){const u=I;z(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a};let p=!1;var m;d.ctx=s?s(e,f,(t,n,...s)=>{const o=s.length?s[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),p&&kt(e,t)),n}):[],d.update(),p=!0,c(d.before_update),d.fragment=!!r&&r(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l((m=n.target,Array.from(m.childNodes))):d.fragment&&d.fragment.c(),n.intro&&pt(e.$$.fragment),bt(e,n.target,n.anchor),ot()),z(u)}class _t{$destroy(){wt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const Lt=[];function Nt(t,e){return{subscribe:jt(t,e).subscribe}}function jt(e,n=t){let s;const o=[];function c(t){if(i(e,t)&&(e=t,s)){const t=!Lt.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Lt.push(n,e)}if(t){for(let t=0;t<Lt.length;t+=2)Lt[t][0](Lt[t+1]);Lt.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,i=t){const l=[r,i];return o.push(l),1===o.length&&(s=n(c)||t),r(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}function Et(e,n,s){const o=!Array.isArray(e),i=o?[e]:e,a=n.length<2;return Nt(s,e=>{let s=!1;const u=[];let f=0,d=t;const p=()=>{if(f)return;d();const s=n(o?u[0]:u,e);a?e(s):d=r(s)?s:t},m=i.map((t,e)=>l(t,t=>{u[e]=t,f&=~(1<<e),s&&p()},()=>{f|=1<<e}));return s=!0,p(),function(){c(m),d()}})}function Ct(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,o,c,r=[],i="",l=t.split("/");for(l[0]||l.shift();o=l.shift();)"*"===(n=o[0])?(r.push("wild"),i+="/(.*)"):":"===n?(s=o.indexOf("?",1),c=o.indexOf(".",1),r.push(o.substring(1,~s?s:~c?c:o.length)),i+=~s&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(i+=(~s?"?":"")+"\\"+o.substring(c))):i+="/"+o;return{keys:r,pattern:new RegExp("^"+i+(e?"(?=$|/)":"/?$"),"i")}}function St(t){let e,n;var s=t[0];function o(t){return{props:{params:t[1]}}}if(s)var c=new s(o(t));return{c(){c&&yt(c.$$.fragment),e=j()},m(t,s){c&&bt(c,t,s),w(t,e,s),n=!0},p(t,[n]){const r={};if(2&n&&(r.params=t[1]),s!==(s=t[0])){if(c){ft();const t=c;mt(t.$$.fragment,1,0,()=>{wt(t,1)}),dt()}s?(yt((c=new s(o(t))).$$.fragment),pt(c.$$.fragment,1),bt(c,e.parentNode,e)):c=null}else s&&c.$set(r)},i(t){n||(c&&pt(c.$$.fragment,t),n=!0)},o(t){c&&mt(c.$$.fragment,t),n=!1},d(t){t&&k(e),c&&wt(c,t)}}}function Tt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let s="";return n>-1&&(s=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:s}}const At=Nt(Tt(),function(t){const e=()=>{t(Tt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}});Et(At,t=>t.location),Et(At,t=>t.querystring);function Mt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash=("#"==t.charAt(0)?"":"#")+t},0)}function Ot(){setTimeout(()=>{window.history.back()},0)}function Ht(t){if(!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');const e=t.getAttribute("href");if(!e||e.length<1||"/"!=e.charAt(0))throw Error('Invalid value for "href" attribute');t.setAttribute("href","#"+e)}function Dt(e,n,s){let o,c=t;u(e,At,t=>s(4,o=t)),e.$$.on_destroy.push(()=>c());let{routes:r={}}=n,{prefix:i=""}=n;class l{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:s}=Ct(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.route,this.conditions=e.conditions||[],this.userData=e.userData):(this.component=e,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=s}match(t){i&&t.startsWith(i)&&(t=t.substr(i.length)||"/");const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let s=0;for(;s<this._keys.length;)n[this._keys[s]]=e[++s]||null;return n}checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!this.conditions[e](t))return!1;return!0}}const a=r instanceof Map?r:Object.entries(r),f=[];for(const[t,e]of a)f.push(new l(t,e));let d=null,p={};const m=Y(),h=(t,e)=>{setTimeout(()=>{m(t,e)},0)};return e.$set=(t=>{"routes"in t&&s(2,r=t.routes),"prefix"in t&&s(3,i=t.prefix)}),e.$$.update=(()=>{if(17&e.$$.dirty){s(0,d=null);let t=0;for(;!d&&t<f.length;){const e=f[t].match(o.location);if(e){const n={component:f[t].component,name:f[t].component.name,location:o.location,querystring:o.querystring,userData:f[t].userData};if(!f[t].checkConditions(n)){h("conditionsFailed",n);break}s(0,d=f[t].component),s(1,p=e),h("routeLoaded",n)}t++}}}),[d,p,r,i]}class Pt extends _t{constructor(t){super(),qt(this,t,Dt,St,i,{routes:2,prefix:3})}}function It(t){let e,n,s,o;const c=t[3].default,r=f(c,t,t[2],null);return{c(){e=_("button"),r&&r.c(),S(e,"class",n="btn btn-"+t[1]+" svelte-1qd6iic"),e.disabled=t[0]},m(n,c){w(n,e,c),r&&r.m(e,null),s=!0,o=E(e,"click",t[4])},p(t,[o]){r&&r.p&&4&o&&r.p(d(c,t,t[2],null),p(c,t[2],o,null)),(!s||2&o&&n!==(n="btn btn-"+t[1]+" svelte-1qd6iic"))&&S(e,"class",n),(!s||1&o)&&(e.disabled=t[0])},i(t){s||(pt(r,t),s=!0)},o(t){mt(r,t),s=!1},d(t){t&&k(e),r&&r.d(t),o()}}}function Rt(t,e,n){let{disabled:s=!1}=e,{type:o="primary"}=e,{$$slots:c={},$$scope:r}=e;return t.$set=(t=>{"disabled"in t&&n(0,s=t.disabled),"type"in t&&n(1,o=t.type),"$$scope"in t&&n(2,r=t.$$scope)}),[s,o,r,c,function(e){Q(t,e)}]}class Jt extends _t{constructor(t){super(),qt(this,t,Rt,It,i,{disabled:0,type:1})}}function Ft(t){const e=t-1;return e*e*e+1}function Ut(t,{delay:n=0,duration:s=400,easing:o=e}){const c=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:o,css:t=>`opacity: ${t*c}`}}function zt(t,{delay:e=0,duration:n=400,easing:s=Ft,x:o=0,y:c=0,opacity:r=0}){const i=getComputedStyle(t),l=+i.opacity,a="none"===i.transform?"":i.transform,u=l*(1-r);return{delay:e,duration:n,easing:s,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*o}px, ${(1-t)*c}px);\n\t\t\topacity: ${l-u*e}`}}function Bt(t,e,n={}){n={path:"/",...n};let s=encodeURIComponent(t)+"="+encodeURIComponent(e);for(let t in n)s+="; "+t,s+="="+n[t];document.cookie=s}const Wt=(t,e)=>{const n=localStorage.getItem(t);return(e=jt(n?JSON.parse(n):e)).subscribe(e=>{void 0!==e&&localStorage.setItem(t,JSON.stringify(e))}),e},Yt=()=>{localStorage.clear()},Qt=Wt("app-user"),Vt=t=>Qt.set(t),Gt=Wt("app-tests-active",{}),Kt=Wt("app-tests-completed",{}),Xt=t=>Gt.set(t),Zt=t=>Kt.set(t),te=()=>{Gt.set({}),Kt.set({})},ee=()=>{const t=a(Kt),e=a(Gt);return JSON.stringify(t)===JSON.stringify({})&&JSON.stringify(e)===JSON.stringify({})},ne=Wt("app-answers",{}),se=(t,e,n)=>{const s=a(ne);if(s.title!==t||s.lesson!==e||s.state!==n)if(console.log("Init new answers store"),"completed"===n){const s=a(Kt)[e].filter(e=>e.title===t)[0];ne.set({...s,state:n})}else ne.set({title:t,lesson:e,state:n});else console.log("Same answers store was init before")},oe=([t,e])=>{ne.update(n=>({...n,[t]:e}))},ce=()=>{ne.set({})};function re(t,e){const n=/<\/*\d+\w*>/g;let s=function(t,e){return e.replace(t,(t,e,n)=>` <span class="slot hidden" data-index=${e-1}>${n}</span><span class="slot-sentence hidden" data-index=${e-1}>${n}</span> `)}(/<[0-9]+B>([0-9]+)(\w)<\/[0-9]+B>/g,t),o=[];for(let t=1;t<=e;t++){const e=new RegExp("<"+t+">.*</"+t+">"),c=new RegExp("<"+t+"A>(.*)</"+t+"A>");let r=s.match(e);r?(r=(r=(r=r[0]).replace(c,' <span class="highlight-hidden">$1</span> ')).replace(n," "),o.push(r)):(console.log(`Question ${t}: No fragment or context was not markuped!`),o.push(null))}return o}function ie(t,e){if(null===e)return"No text provided";const n=new RegExp('-hidden(?=">'+t+")");return e.replace(n,"")}function le(t){return null===t?"No text provided":t.replace(/slot hidden/g,"slot")}const ae="./data/tests/",ue="https://gila.cf/mvp/test",fe="https://gila.cf/mvp/user/";async function de(t,e=!1){const n=ae+t+".json",s=await fetch(n);if(!s.ok)throw new Error(s.status);let o=function(t){return{...t,fragments:re(t.context,t.questions.length)}}(await s.json());return e||(o=function(t){const e=t.questions.map(({variants:t,...e})=>({variants:t.map(({variant:t,answer:e})=>({variant:t})),...e}));return{...t,questions:e}}(o)),o}async function pe(t,e){const n=new Headers;n.append("Content-Type","application/x-www-form-urlencoded");const s={testId:+new Date,date:(new Date).toDateString(),login:e,...t};var o;const c={method:"POST",redirect:"follow",headers:n,body:(o=s,Object.keys(o).map(t=>"object"==typeof o[t]?`${t}=${JSON.stringify(o[t])}`:`${t}=${o[t]}`).join("&"))},r=await fetch(ue,c);if(!r.ok)throw new Error(r.status);return await r.text()}const me="./data/journal.json",he="./data/users/";async function $e(t){const e=he+t+".json",n=await fetch(e);if(!n.ok)throw new Error(n.status);return await n.json()}async function ge(t){try{const e=await $e(t),{passedTests:n}=await async function(t){const e=fe+t;try{const t=await fetch(e);return await t.json()}catch(t){console.log(t)}}(t),s={login:t,name:e.name,lesson:e.lesson||[],hometask:e.hometask||[]},o={login:t,name:e.name,lesson:n.filter(t=>"lesson"===t.lesson)||[],hometask:n.filter(t=>"hometask"===t.lesson)||[]};Xt(s),Zt(o)}catch(t){console.log(t.message),404==t.message&&te()}}const ve=()=>(function(t){if(!document.cookie)return null;const e=document.cookie.split(";").map(t=>t.trim()).filter(e=>e.startsWith(t+"="));return 0===e.length?null:decodeURIComponent(e[0].split("=")[1])})("user");function xe(){ce(),te(),Yt(),Bt("user","",{"max-age":-1}),Mt("/")}function ye(e){let n,s,o;return{c(){n=_("div"),s=L(e[2]),S(n,"class","mb-4 text-red-600")},m(t,e){w(t,n,e),b(n,s)},p(t,e){4&e&&T(s,t[2])},i(t){o||et(()=>{(o=$t(n,Ut,{duration:300})).start()})},o:t,d(t){t&&k(n)}}}function be(t){let e;return{c(){e=L("Enter")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function we(t){let e,n,s,o,r,i,l,a,u,f,d,p,m,h,$,g,v,x,y,q,L,j,C,T,M,H,D=t[2]&&ye(t);const P=new Jt({props:{type:"primary",$$slots:{default:[be]},$$scope:{ctx:t}}});return P.$on("click",t[5]),{c(){e=_("div"),n=_("div"),(s=_("div")).textContent="Log in",o=N(),r=_("form"),i=_("div"),(l=_("span")).innerHTML='<i class="icon-login"></i>',a=N(),u=_("input"),f=N(),d=_("span"),p=N(),m=_("div"),(h=_("span")).innerHTML='<i class="icon-password"></i>',$=N(),g=_("input"),v=N(),x=_("span"),y=N(),D&&D.c(),q=N(),yt(P.$$.fragment),L=N(),j=_("br"),C=N(),(T=_("span")).innerHTML="test 1 <br> teacher 123456",S(s,"class","text-black text-2xl mb-8"),S(l,"class","icon"),S(u,"type","text"),S(u,"class","input svelte-1ii8cay"),u.autofocus=!0,S(u,"maxlength","15"),S(u,"autocomplete","nickname"),S(u,"placeholder","Login"),S(d,"class","focus svelte-1ii8cay"),S(i,"class","custom-input mb-8 svelte-1ii8cay"),O(i,"error",!t[3]),S(h,"class","icon"),S(g,"type","password"),S(g,"class","input svelte-1ii8cay"),S(g,"maxlength","15"),S(g,"autocomplete","current-password"),S(g,"placeholder","Password"),S(x,"class","focus svelte-1ii8cay"),S(m,"class","custom-input mb-8 svelte-1ii8cay"),O(m,"error",!t[4]),S(r,"action",""),S(n,"class","rounded border bg-white py-12 px-16 inline-block text-center"),S(e,"class","flex flex-col justify-center items-center min-h-screen py-16")},m(c,k){w(c,e,k),b(e,n),b(n,s),b(n,o),b(n,r),b(r,i),b(i,l),b(i,a),b(i,u),A(u,t[0]),b(i,f),b(i,d),b(r,p),b(r,m),b(m,h),b(m,$),b(m,g),A(g,t[1]),b(m,v),b(m,x),b(r,y),D&&D.m(r,null),b(r,q),bt(P,r,null),b(e,L),b(e,j),b(e,C),b(e,T),M=!0,u.focus(),H=[E(u,"input",t[7]),E(g,"input",t[8]),E(r,"submit",t[5])]},p(t,[e]){1&e&&u.value!==t[0]&&A(u,t[0]),8&e&&O(i,"error",!t[3]),2&e&&g.value!==t[1]&&A(g,t[1]),16&e&&O(m,"error",!t[4]),t[2]?D?(D.p(t,e),pt(D,1)):((D=ye(t)).c(),pt(D,1),D.m(r,q)):D&&(D.d(1),D=null);const n={};512&e&&(n.$$scope={dirty:e,ctx:t}),P.$set(n)},i(t){M||(pt(D),pt(P.$$.fragment,t),M=!0)},o(t){mt(P.$$.fragment,t),M=!1},d(t){t&&k(e),D&&D.d(),wt(P),c(H)}}}function ke(t,e,n){let s="",o="",c="",r=!0,i=!0;function l(){return n(0,s=s.trim()),n(1,o=o.trim()),n(3,r=0!==s.length),n(4,i=0!==o.length),r&&i}return[s,o,c,r,i,async function(t){if(t.preventDefault(),l())try{await async function(t,e){const n=await $e(t);if(n.password!==e)throw new Error("Password not correct");Vt({name:n.name,login:n.login,role:n.role}),Bt("user",1)}(s,o),Mt("/lesson")}catch(t){if("404"===t.message)return n(3,r=!1),void n(2,c=`User '${s}' not found`);if("Password not correct"===t.message)return n(4,i=!1),void n(2,c=t.message)}},l,function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)}]}const qe=t=>({}),_e=t=>({}),Le=t=>({}),Ne=t=>({});function je(t){let e,n,s,o,c;const r=t[1].sidebar,i=f(r,t,t[0],Ne),l=t[1].main,a=f(l,t,t[0],_e);return{c(){e=_("div"),n=_("div"),i&&i.c(),s=N(),o=_("main"),a&&a.c(),S(n,"class","sidebar flex-none w-1/4 hidden xl:block pr-4"),S(o,"class","main flex-1 px-4"),S(e,"class","container flex py-12")},m(t,r){w(t,e,r),b(e,n),i&&i.m(n,null),b(e,s),b(e,o),a&&a.m(o,null),c=!0},p(t,[e]){i&&i.p&&1&e&&i.p(d(r,t,t[0],Ne),p(r,t[0],e,Le)),a&&a.p&&1&e&&a.p(d(l,t,t[0],_e),p(l,t[0],e,qe))},i(t){c||(pt(i,t),pt(a,t),c=!0)},o(t){mt(i,t),mt(a,t),c=!1},d(t){t&&k(e),i&&i.d(t),a&&a.d(t)}}}function Ee(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$set=(t=>{"$$scope"in t&&n(0,o=t.$$scope)}),[o,s]}class Ce extends _t{constructor(t){super(),qt(this,t,Ee,je,i,{})}}function Se(t,e){const n=new Date(t.date),s=new Date(e.date);return n>s?-1:n<s?1:0}function Te(t,e,n){const s=t.slice();return s[10]=e[n],s}function Ae(t,e,n){const s=t.slice();return s[10]=e[n],s}function Me(t){let e,n=t[1],s=[];for(let e=0;e<n.length;e+=1)s[e]=He(Ae(t,n,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);w(t,e,n)},p(t,o){if(99&o){let c;for(n=t[1],c=0;c<n.length;c+=1){const r=Ae(t,n,c);s[c]?s[c].p(r,o):(s[c]=He(r),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}},d(t){q(s,t),t&&k(e)}}}function Oe(e){let n;return{c(){n=L("No active")},m(t,e){w(t,n,e)},p:t,d(t){t&&k(n)}}}function He(t){let e,n,s,o,c,i,l,a,u,f,d,p,m,h,$=t[10].title+"",g=t[6](t[10].date)+"";return{c(){e=_("div"),n=_("button"),s=_("span"),o=L($),c=N(),(i=_("span")).textContent="Start",l=N(),a=_("br"),u=N(),f=_("span"),d=L("Due: "),p=L(g),m=N(),S(s,"class","text-lg"),S(i,"class","text-primary px-2"),S(e,"class","py-4 border-b last:border-b-0")},m($,g){w($,e,g),b(e,n),b(n,s),b(s,o),b(n,c),b(n,i),b(e,l),b(e,a),b(e,u),b(e,f),b(f,d),b(f,p),b(e,m),h=E(n,"click",function(){r(Mt(`/${t[0].lesson}/active/${t[5](t[10].title)}`))&&Mt(`/${t[0].lesson}/active/${t[5](t[10].title)}`).apply(this,arguments)})},p(e,n){t=e,2&n&&$!==($=t[10].title+"")&&T(o,$),2&n&&g!==(g=t[6](t[10].date)+"")&&T(p,g)},d(t){t&&k(e),h()}}}function De(t){let e,n=t[2],s=[];for(let e=0;e<n.length;e+=1)s[e]=Je(Te(t,n,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);w(t,e,n)},p(t,o){if(109&o){let c;for(n=t[2],c=0;c<n.length;c+=1){const r=Te(t,n,c);s[c]?s[c].p(r,o):(s[c]=Je(r),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}},d(t){q(s,t),t&&k(e)}}}function Pe(e){let n;return{c(){n=L("No completed")},m(t,e){w(t,n,e)},p:t,d(t){t&&k(n)}}}function Ie(t){let e,n,s=t[10].title+"";return{c(){e=_("div"),n=L(s),S(e,"class","text-lg")},m(t,s){w(t,e,s),b(e,n)},p(t,e){4&e&&s!==(s=t[10].title+"")&&T(n,s)},d(t){t&&k(e)}}}function Re(t){let e,n,s,o,c,i,l,a=t[10].title+"";return{c(){e=_("div"),n=_("button"),s=_("span"),o=L(a),c=N(),(i=_("span")).textContent="View",S(s,"class","text-lg"),S(i,"class","text-primary px-2")},m(a,u){w(a,e,u),b(e,n),b(n,s),b(s,o),b(n,c),b(n,i),l=E(n,"click",function(){r(Mt(`/${t[0].lesson}/completed/${t[5](t[10].title)}`))&&Mt(`/${t[0].lesson}/completed/${t[5](t[10].title)}`).apply(this,arguments)})},p(e,n){t=e,4&n&&a!==(a=t[10].title+"")&&T(o,a)},d(t){t&&k(e),l()}}}function Je(t){let e,n,s,o,c,r,i=t[6](t[10].date)+"";function l(t,e){return"teacher"===t[3].role?Re:Ie}let a=l(t),u=a(t);return{c(){e=_("div"),u.c(),n=N(),s=_("span"),o=L("Finish: "),c=L(i),r=N(),S(e,"class","py-4 border-b last:border-b-0")},m(t,i){w(t,e,i),u.m(e,null),b(e,n),b(e,s),b(s,o),b(s,c),b(e,r)},p(t,s){a===(a=l(t))&&u?u.p(t,s):(u.d(1),(u=a(t))&&(u.c(),u.m(e,n))),4&s&&i!==(i=t[6](t[10].date)+"")&&T(c,i)},d(t){t&&k(e),u.d()}}}function Fe(e){let n,s,o,r,i,l,a,u,f,d,p,m,h,$,g,v;function x(t,e){return t[1].length?Me:Oe}let y=x(e),q=y(e);function L(t,e){return t[2].length?De:Pe}let j=L(e),C=j(e);return{c(){n=_("div"),s=_("div"),(o=_("h2")).textContent="Active",r=N(),(i=_("button")).textContent="Update",l=N(),a=_("div"),q.c(),u=N(),f=_("div"),d=_("div"),(p=_("h2")).textContent="Completed",m=N(),(h=_("button")).textContent="Update",$=N(),g=_("div"),C.c(),S(o,"class","title"),S(s,"class","flex justify-between items-center px-6 pb-4"),S(a,"class","rounded border bg-white p-6"),S(n,"class","pb-4"),S(p,"class","title"),S(d,"class","flex justify-between items-center px-6 pb-4"),S(g,"class","rounded border bg-white p-6"),S(f,"class","mt-4 pb-4")},m(t,c){w(t,n,c),b(n,s),b(s,o),b(s,r),b(s,i),b(n,l),b(n,a),q.m(a,null),w(t,u,c),w(t,f,c),b(f,d),b(d,p),b(d,m),b(d,h),b(f,$),b(f,g),C.m(g,null),v=[E(i,"click",e[4]),E(h,"click",e[4])]},p(t,[e]){y===(y=x(t))&&q?q.p(t,e):(q.d(1),(q=y(t))&&(q.c(),q.m(a,null))),j===(j=L(t))&&C?C.p(t,e):(C.d(1),(C=j(t))&&(C.c(),C.m(g,null)))},i:t,o:t,d(t){t&&k(n),q.d(),t&&k(u),t&&k(f),C.d(),c(v)}}}function Ue(t,e,n){let s;u(t,Qt,t=>n(3,s=t));let{route:o}=e,{completed:c}=e,{active:r}=e;const i=Y();let l,a;return t.$set=(t=>{"route"in t&&n(0,o=t.route),"completed"in t&&n(7,c=t.completed),"active"in t&&n(8,r=t.active)}),t.$$.update=(()=>{256&t.$$.dirty&&n(1,l=r&&r.sort(Se)||[]),128&t.$$.dirty&&n(2,a=c&&c.sort(Se)||[])}),[o,l,a,s,function(){i("update")},t=>t.toLowerCase().replace(/\s/g,"-"),t=>new Date(t).toLocaleDateString("en-US"),c,r]}class ze extends _t{constructor(t){super(),qt(this,t,Ue,Fe,i,{route:0,completed:7,active:8})}}const Be=[];let We;function Ye(t){t.node.classList.remove(t.className),t.pattern.test(We)&&t.node.classList.add(t.className)}function Qe(t,e){if(!(e=e&&"string"==typeof e?{path:e}:e||{}).path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&"#"==e.path.charAt(0)&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||e.path.length<1||"/"!=e.path.charAt(0)&&"*"!=e.path.charAt(0))throw Error('Invalid value for "path" argument');const{pattern:n}=Ct(e.path),s={node:t,className:e.className,pattern:n};return Be.push(s),Ye(s),{destroy(){Be.splice(Be.indexOf(s),1)}}}function Ve(t,e,n){const s=t.slice();return s[2]=e[n],s}function Ge(t){let e,n,s;return{c(){e=_("span"),S(n=_("i"),"class",s="icon-"+t[2]),S(e,"class","icon pr-2")},m(t,s){w(t,e,s),b(e,n)},p(t,e){1&e&&s!==(s="icon-"+t[2])&&S(n,"class",s)},d(t){t&&k(e)}}}function Ke(t){let e,n,s,o,r,i,l,a,u,f=t[2]+"",d=t[1]&&Ge(t);return{c(){e=_("li"),n=_("a"),d&&d.c(),s=N(),o=L(f),a=N(),S(n,"href",r="/"+t[2])},m(t,c){w(t,e,c),b(e,n),d&&d.m(n,null),b(n,s),b(n,o),b(e,a),u=[m(i=Ht.call(null,n)),m(l=Qe.call(null,n))]},p(t,e){t[1]?d?d.p(t,e):((d=Ge(t)).c(),d.m(n,s)):d&&(d.d(1),d=null),1&e&&f!==(f=t[2]+"")&&T(o,f),1&e&&r!==(r="/"+t[2])&&S(n,"href",r)},d(t){t&&k(e),d&&d.d(),c(u)}}}function Xe(e){let n,s,o=e[0],c=[];for(let t=0;t<o.length;t+=1)c[t]=Ke(Ve(e,o,t));return{c(){n=_("nav"),s=_("ul");for(let t=0;t<c.length;t+=1)c[t].c()},m(t,e){w(t,n,e),b(n,s);for(let t=0;t<c.length;t+=1)c[t].m(s,null)},p(t,[e]){if(3&e){let n;for(o=t[0],n=0;n<o.length;n+=1){const r=Ve(t,o,n);c[n]?c[n].p(r,e):(c[n]=Ke(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=o.length}},i:t,o:t,d(t){t&&k(n),q(c,t)}}}function Ze(t,e,n){let{links:s=[]}=e,{icon:o=!1}=e;return t.$set=(t=>{"links"in t&&n(0,s=t.links),"icon"in t&&n(1,o=t.icon)}),[s,o]}At.subscribe(t=>{We=t.location+(t.querystring?"?"+t.querystring:""),Be.map(Ye)});class tn extends _t{constructor(t){super(),qt(this,t,Ze,Xe,i,{links:0,icon:1})}}function en(t,e,n){const s=t.slice();return s[6]=e[n],s}function nn(t){let e,n,s,o,c=t[6]+"";return{c(){e=_("option"),n=L(c),s=N(),e.__value=o=t[6],e.value=e.__value},m(t,o){w(t,e,o),b(e,n),b(e,s)},p(t,s){2&s&&c!==(c=t[6]+"")&&T(n,c),2&s&&o!==(o=t[6])&&(e.__value=o),e.value=e.__value},d(t){t&&k(e)}}}function sn(e){let n,s,o,r,i,l=e[1],a=[];for(let t=0;t<l.length;t+=1)a[t]=nn(en(e,l,t));return{c(){n=_("div"),s=_("select"),o=_("option"),r=L(e[2]);for(let t=0;t<a.length;t+=1)a[t].c();o.__value="",o.value=o.__value,S(s,"class","custom-select svelte-jz78dw"),void 0===e[0]&&et(()=>e[5].call(s)),S(n,"class","pb-4")},m(t,c){w(t,n,c),b(n,s),b(s,o),b(o,r);for(let t=0;t<a.length;t+=1)a[t].m(s,null);M(s,e[0]),i=[E(s,"change",e[5]),E(s,"change",e[3])]},p(t,[e]){if(4&e&&T(r,t[2]),2&e){let n;for(l=t[1],n=0;n<l.length;n+=1){const o=en(t,l,n);a[n]?a[n].p(o,e):(a[n]=nn(o),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}1&e&&M(s,t[0])},i:t,o:t,d(t){t&&k(n),q(a,t),c(i)}}}function on(t,e,n){let{options:s}=e,{placeholder:o="Select..."}=e,{selected:c=""}=e;const r=Y();return t.$set=(t=>{"options"in t&&n(1,s=t.options),"placeholder"in t&&n(2,o=t.placeholder),"selected"in t&&n(0,c=t.selected)}),[c,s,o,function(){r("select",{selected:c})},r,function(){c=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,c),n(1,s)}]}class cn extends _t{constructor(t){super(),qt(this,t,on,sn,i,{options:1,placeholder:2,selected:0})}}function rn(t){let e;return{c(){(e=_("span")).innerHTML='<i class="icon-logout"></i>',S(e,"class","icon")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ln(t){let e,n,s,o,c,r,i,l,a,u=t[2].name+"";const f=new Jt({props:{type:"link",$$slots:{default:[rn]},$$scope:{ctx:t}}});f.$on("click",xe);const d=new tn({props:{links:["lesson","hometask"],icon:!0}});return{c(){e=_("div"),n=_("div"),(s=_("span")).innerHTML='<i class="icon-girl"></i>',o=L("\n      Welcome, "),c=L(u),r=L("!\n      "),i=_("span"),yt(f.$$.fragment),l=N(),yt(d.$$.fragment),S(s,"class","icon pr-2"),S(i,"class","ml-auto"),S(n,"class","flex items-center text-lg leading-loose pb-4 px-2"),S(e,"slot","sidebar")},m(t,u){w(t,e,u),b(e,n),b(n,s),b(n,o),b(n,c),b(n,r),b(n,i),bt(f,i,null),b(e,l),bt(d,e,null),a=!0},p(t,e){(!a||4&e)&&u!==(u=t[2].name+"")&&T(c,u);const n={};128&e&&(n.$$scope={dirty:e,ctx:t}),f.$set(n)},i(t){a||(pt(f.$$.fragment,t),pt(d.$$.fragment,t),a=!0)},o(t){mt(f.$$.fragment,t),mt(d.$$.fragment,t),a=!1},d(t){t&&k(e),wt(f),wt(d)}}}function an(t){let e,n,s,o={ctx:t,current:null,token:null,pending:dn,then:fn,catch:un,value:6,blocks:[,,,]};return vt(n=t[1],o),{c(){e=j(),o.block.c()},m(t,n){w(t,e,n),o.block.m(t,o.anchor=n),o.mount=(()=>e.parentNode),o.anchor=e,s=!0},p(e,s){if(t=e,o.ctx=t,2&s&&n!==(n=t[1])&&vt(n,o));else{const e=t.slice();e[6]=o.resolved,o.block.p(e,s)}},i(t){s||(pt(o.block),s=!0)},o(t){for(let t=0;t<3;t+=1){mt(o.blocks[t])}s=!1},d(t){t&&k(e),o.block.d(t),o.token=null,o=null}}}function un(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function fn(t){let e;const n=new cn({props:{placeholder:"Select student",options:t[6],selected:t[3].login}});return n.$on("select",$n),{c(){yt(n.$$.fragment)},m(t,s){bt(n,t,s),e=!0},p(t,e){const s={};2&e&&(s.options=t[6]),8&e&&(s.selected=t[3].login),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function dn(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function pn(t){let e,n,s,o="teacher"===t[2].role&&an(t);const c=new ze({props:{route:t[0],completed:t[4][t[0].lesson],active:t[3][t[0].lesson]}});return c.$on("update",t[5]),{c(){e=_("div"),o&&o.c(),n=N(),yt(c.$$.fragment),S(e,"slot","main")},m(t,r){w(t,e,r),o&&o.m(e,null),b(e,n),bt(c,e,null),s=!0},p(t,s){"teacher"===t[2].role?o?(o.p(t,s),pt(o,1)):((o=an(t)).c(),pt(o,1),o.m(e,n)):o&&(ft(),mt(o,1,1,()=>{o=null}),dt());const r={};1&s&&(r.route=t[0]),17&s&&(r.completed=t[4][t[0].lesson]),9&s&&(r.active=t[3][t[0].lesson]),c.$set(r)},i(t){s||(pt(o),pt(c.$$.fragment,t),s=!0)},o(t){mt(o),mt(c.$$.fragment,t),s=!1},d(t){t&&k(e),o&&o.d(),wt(c)}}}function mn(e){let n;return{c(){n=N()},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}function hn(t){let e;const n=new Ce({props:{$$slots:{default:[mn],main:[pn],sidebar:[ln]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){bt(n,t,s),e=!0},p(t,[e]){const s={};159&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function $n({detail:t}){ge(t.selected),ce()}function gn(t,e,n){let s,o,c;u(t,Qt,t=>n(2,s=t)),u(t,Gt,t=>n(3,o=t)),u(t,Kt,t=>n(4,c=t));let r,{params:i={}}=e;return W(()=>{"student"===s.role&&ee()&&ge(s.login)}),"teacher"===s.role&&(r=async function(){try{const t=await fetch(me);return(await t.json()).users}catch(t){console.log(t)}}()),t.$set=(t=>{"params"in t&&n(0,i=t.params)}),[i,r,s,o,c,function(){"teacher"===s.role?ge(o.login):ge(s.login)}]}class vn extends _t{constructor(t){super(),qt(this,t,gn,hn,i,{params:0})}}function xn(t){let e,n,s,o;const c=t[1].default,r=f(c,t,t[0],null);return{c(){e=_("div"),n=_("div"),r&&r.c(),S(n,"class","flex items-center"),S(e,"class","notification svelte-nk3wtf")},m(t,s){w(t,e,s),b(e,n),r&&r.m(n,null),o=!0},p(t,[e]){r&&r.p&&1&e&&r.p(d(c,t,t[0],null),p(c,t[0],e,null))},i(t){o||(pt(r,t),et(()=>{s||(s=gt(e,zt,{y:-200,duration:500},!0)),s.run(1)}),o=!0)},o(t){mt(r,t),s||(s=gt(e,zt,{y:-200,duration:500},!1)),s.run(0),o=!1},d(t){t&&k(e),r&&r.d(t),t&&s&&s.end()}}}function yn(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$set=(t=>{"$$scope"in t&&n(0,o=t.$$scope)}),[o,s]}class bn extends _t{constructor(t){super(),qt(this,t,yn,xn,i,{})}}function wn(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function kn(t){let e,n,s,o,c,r,i,l,a,u,f,d,p=t[6].variant+"";function m(...e){return t[5](t[8],...e)}return{c(){e=_("label"),n=_("span"),s=_("input"),r=N(),i=_("span"),l=N(),a=_("span"),u=L(p),S(s,"class","radio-input svelte-mlki03"),S(s,"id",o=t[8]),s.value=c=t[8],S(s,"type","radio"),S(i,"class","custom-radio-inner svelte-mlki03"),S(n,"class","custom-radio pr-2 svelte-mlki03"),O(n,"checked",t[8]===t[0]),S(e,"for",f=t[8]),S(e,"class","label py-2 svelte-mlki03")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,r),b(n,i),b(e,l),b(e,a),b(a,u),d=E(s,"click",m)},p(e,s){t=e,1&s&&O(n,"checked",t[8]===t[0]),2&s&&p!==(p=t[6].variant+"")&&T(u,p)},d(t){t&&k(e),d()}}}function qn(e){let n,s,o=e[1],c=[];for(let t=0;t<o.length;t+=1)c[t]=kn(wn(e,o,t));return{c(){for(let t=0;t<c.length;t+=1)c[t].c();n=N(),S(s=_("div"),"class","mt-4 text-xl text-justify")},m(t,o){for(let e=0;e<c.length;e+=1)c[e].m(t,o);w(t,n,o),w(t,s,o),s.innerHTML=e[2]},p(t,[e]){if(11&e){let s;for(o=t[1],s=0;s<o.length;s+=1){const r=wn(t,o,s);c[s]?c[s].p(r,e):(c[s]=kn(r),c[s].c(),c[s].m(n.parentNode,n))}for(;s<c.length;s+=1)c[s].d(1);c.length=o.length}4&e&&(s.innerHTML=t[2])},i:t,o:t,d(t){q(c,t),t&&k(n),t&&k(s)}}}function _n(t,e,n){let{selected:s}=e,{variants:o}=e,{context:c=" "}=e;const r=Y();function i(t){r("select",t)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"context"in t&&n(2,c=t.context)}),[s,o,c,i,r,t=>i(t)]}class Ln extends _t{constructor(t){super(),qt(this,t,_n,qn,i,{selected:0,variants:1,context:2})}}function Nn(t,e,n){const s=t.slice();return s[7]=e[n],s[9]=n,s}function jn(t){let e,n,s,o,c,r,i,l,a,u,f,d,p,m=t[7].variant+"";function h(...e){return t[6](t[9],...e)}return{c(){e=_("label"),n=_("span"),s=_("input"),i=N(),l=_("span"),a=N(),u=_("span"),f=L(m),S(s,"class","radio-input svelte-e974x7"),S(s,"id",o=t[9]),s.value=c=t[9],S(s,"disable",r=!1),S(s,"type","radio"),S(l,"class","custom-radio-inner svelte-e974x7"),S(n,"class","custom-radio pr-2 svelte-e974x7"),O(n,"checked",t[9]===t[0]),S(e,"for",d=t[9]),S(e,"class","label py-2 svelte-e974x7")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,i),b(n,l),b(e,a),b(e,u),b(u,f),p=E(s,"click",h)},p(e,s){t=e,1&s&&O(n,"checked",t[9]===t[0]),2&s&&m!==(m=t[7].variant+"")&&T(f,m)},d(t){t&&k(e),p()}}}function En(e){let n,s,o=ie(e[3],e[2])+"",c=e[1],r=[];for(let t=0;t<c.length;t+=1)r[t]=jn(Nn(e,c,t));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=N(),S(s=_("div"),"class","mt-4 text-xl text-justify")},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);w(t,n,e),w(t,s,e),s.innerHTML=o},p(t,[e]){if(19&e){let s;for(c=t[1],s=0;s<c.length;s+=1){const o=Nn(t,c,s);r[s]?r[s].p(o,e):(r[s]=jn(o),r[s].c(),r[s].m(n.parentNode,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=c.length}12&e&&o!==(o=ie(t[3],t[2])+"")&&(s.innerHTML=o)},i:t,o:t,d(t){q(r,t),t&&k(n),t&&k(s)}}}function Cn(t,e,n){let{selected:s}=e,{variants:o=[]}=e,{context:c=""}=e,{word:r=""}=e;const i=Y();function l(t){i("select",t)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"context"in t&&n(2,c=t.context),"word"in t&&n(3,r=t.word)}),[s,o,c,r,l,i,t=>l(t)]}class Sn extends _t{constructor(t){super(),qt(this,t,Cn,En,i,{selected:0,variants:1,context:2,word:3})}}function Tn(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function An(t){let e,n,s,o,c,r,i,l,a,u,f,d,p=t[6].variant+"";function m(...e){return t[5](t[8],...e)}return{c(){e=_("label"),n=_("span"),s=_("input"),c=N(),r=_("span"),i=N(),l=_("span"),a=L(p),u=N(),S(s,"class","checkbox-input svelte-d5ms5t"),S(s,"id",o=t[8]),S(s,"type","checkbox"),S(r,"class","custom-checkbox-inner svelte-d5ms5t"),S(n,"class","custom-checkbox pr-2 svelte-d5ms5t"),O(n,"checked",t[1](t[8])),S(l,"class","variant"),S(e,"for",f=t[8]),S(e,"class","flex cursor-pointer py-2")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,c),b(n,r),b(e,i),b(e,l),b(l,a),b(e,u),d=E(s,"click",m)},p(e,s){t=e,2&s&&O(n,"checked",t[1](t[8])),1&s&&p!==(p=t[6].variant+"")&&T(a,p)},d(t){t&&k(e),d()}}}function Mn(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=An(Tn(e,s,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=j()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);w(t,n,e)},p(t,[e]){if(7&e){let c;for(s=t[0],c=0;c<s.length;c+=1){const r=Tn(t,s,c);o[c]?o[c].p(r,e):(o[c]=An(r),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},i:t,o:t,d(t){q(o,t),t&&k(n)}}}function On(t,e,n){let{selected:s}=e,{variants:o}=e;const c=Y();function r(t){void 0!==s?s.includes(t)?c("select",s.filter(e=>e!==t)):c("select",[...s,t]):c("select",[t])}let i;return t.$set=(t=>{"selected"in t&&n(3,s=t.selected),"variants"in t&&n(0,o=t.variants)}),t.$$.update=(()=>{8&t.$$.dirty&&n(1,i=(t=>void 0!==s&&s.includes(t)))}),[o,i,r,s,c,t=>r(t)]}class Hn extends _t{constructor(t){super(),qt(this,t,On,Mn,i,{selected:3,variants:0})}}function Dn(t,e,n){const s=t.slice();return s[11]=e[n],s[13]=n,s}function Pn(t){let e,n,s,o,c,r,i,l,a,u,f,d,p,m=t[11].variant+"";function h(...e){return t[10](t[13],...e)}return{c(){e=_("label"),n=_("span"),s=_("input"),r=N(),i=_("span"),l=N(),a=_("span"),u=L(m),f=N(),S(s,"class","radio-input svelte-19456ax"),S(s,"id",o=t[13]),s.value=c=t[13],S(s,"type","radio"),S(i,"class","custom-radio-inner svelte-19456ax"),S(n,"class","custom-radio pr-2 svelte-19456ax"),O(n,"selected",t[13]===t[0]),S(a,"class","variant"),S(e,"for",d=t[13]),S(e,"class","label py-2 svelte-19456ax")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,r),b(n,i),b(e,l),b(e,a),b(a,u),b(e,f),p=E(s,"click",h)},p(e,s){t=e,1&s&&O(n,"selected",t[13]===t[0]),2&s&&m!==(m=t[11].variant+"")&&T(u,m)},d(t){t&&k(e),p()}}}function In(e){let n,s,o,c,r,i,l=le(e[3])+"",a=e[1],u=[];for(let t=0;t<a.length;t+=1)u[t]=Pn(Dn(e,a,t));return{c(){n=_("div"),s=L(e[2]),o=N(),c=_("div");for(let t=0;t<u.length;t+=1)u[t].c();r=N(),i=_("div"),S(n,"class","sentence p-2"),S(c,"class","flex flex-col mt-6"),S(i,"class","mt-4 text-xl text-justify")},m(t,e){w(t,n,e),b(n,s),w(t,o,e),w(t,c,e);for(let t=0;t<u.length;t+=1)u[t].m(c,null);w(t,r,e),w(t,i,e),i.innerHTML=l},p(t,[e]){if(4&e&&T(s,t[2]),19&e){let n;for(a=t[1],n=0;n<a.length;n+=1){const s=Dn(t,a,n);u[n]?u[n].p(s,e):(u[n]=Pn(s),u[n].c(),u[n].m(c,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}8&e&&l!==(l=le(t[3])+"")&&(i.innerHTML=l)},i:t,o:t,d(t){t&&k(n),t&&k(o),t&&k(c),q(u,t),t&&k(r),t&&k(i)}}}function Rn(t,e,n){let{selected:s}=e,{variants:o}=e,{sentence:c}=e,{context:r=""}=e;const i=Y();let l=[],a=[];var u;function f(t){l.forEach((e,n)=>{t===n?(e.classList.add("active"),a[n].classList.remove("hidden"),setTimeout(()=>{a[n].style.opacity="1"},0)):(e.classList.remove("active"),a[n].classList.add("hidden"),a[n].style.opacity="0")})}function d(t){f(t),i("select",t)}function p(t){const e=parseInt(t.target.dataset.index);f(e),i("select",e)}W(()=>{l=document.querySelectorAll(".slot"),(a=document.querySelectorAll(".slot-sentence")).forEach(t=>t.innerHTML=c),l.forEach(t=>{t.addEventListener("click",p)}),s&&(l[s].classList.add("active"),a[s].classList.remove("hidden"),a[s].style.opacity="1")}),u=(()=>{l.forEach(t=>t.removeEventListener("click",p))}),B().$$.on_destroy.push(u);return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"sentence"in t&&n(2,c=t.sentence),"context"in t&&n(3,r=t.context)}),[s,o,c,r,d,l,a,i,f,p,t=>d(t)]}class Jn extends _t{constructor(t){super(),qt(this,t,Rn,In,i,{selected:0,variants:1,sentence:2,context:3})}}function Fn(t,e,n){const s=t.slice();return s[9]=e[n].column,s[11]=n,s}function Un(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function zn(t){let e,n,s,o,c,r,i,l,a,u,f=t[9]+"";function d(...e){return t[5](t[8],t[11],...e)}return{c(){e=_("label"),n=_("span"),s=_("input"),c=N(),r=_("span"),i=L(f),l=N(),S(s,"class","radio-input svelte-m5almv"),S(s,"id",o=t[8]+"-"+t[11]),S(s,"type","radio"),S(n,"class","custom-radio-button svelte-m5almv"),S(e,"class","label svelte-m5almv"),S(e,"for",a=t[8]+"-"+t[11]),O(e,"checked",t[0][t[8]]===t[11])},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,c),b(n,r),b(r,i),b(e,l),u=E(s,"click",d)},p(n,s){t=n,4&s&&f!==(f=t[9]+"")&&T(i,f),1&s&&O(e,"checked",t[0][t[8]]===t[11])},d(t){t&&k(e),u()}}}function Bn(t){let e,n,s,o,c,r,i,l,a=t[8]+1+"",u=t[6].variant+"",f=t[2],d=[];for(let e=0;e<f.length;e+=1)d[e]=zn(Fn(t,f,e));return{c(){e=_("div"),n=_("span"),s=L(a),o=L(". "),c=L(u),r=N(),i=_("div");for(let t=0;t<d.length;t+=1)d[t].c();l=N(),S(n,"class","pr-4"),S(i,"class","flex"),S(e,"class","lg:flex justify-between pb-4")},m(t,a){w(t,e,a),b(e,n),b(n,s),b(n,o),b(n,c),b(e,r),b(e,i);for(let t=0;t<d.length;t+=1)d[t].m(i,null);b(e,l)},p(t,e){if(2&e&&u!==(u=t[6].variant+"")&&T(c,u),13&e){let n;for(f=t[2],n=0;n<f.length;n+=1){const s=Fn(t,f,n);d[n]?d[n].p(s,e):(d[n]=zn(s),d[n].c(),d[n].m(i,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}},d(t){t&&k(e),q(d,t)}}}function Wn(e){let n,s=e[1],o=[];for(let t=0;t<s.length;t+=1)o[t]=Bn(Un(e,s,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=j()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);w(t,n,e)},p(t,[e]){if(15&e){let c;for(s=t[1],c=0;c<s.length;c+=1){const r=Un(t,s,c);o[c]?o[c].p(r,e):(o[c]=Bn(r),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},i:t,o:t,d(t){q(o,t),t&&k(n)}}}function Yn(t,e,n){let{selected:s={}}=e,{variants:o}=e,{columns:c}=e;const r=Y();function i(t,e){n(0,s[t]=e,s),r("select",s)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"columns"in t&&n(2,c=t.columns)}),[s,o,c,i,r,(t,e)=>i(t,e)]}class Qn extends _t{constructor(t){super(),qt(this,t,Yn,Wn,i,{selected:0,variants:1,columns:2})}}function Vn(t){let e,s;const o=[{variants:t[0].variants},t[2],{selected:t[1]}];var c=t[3][t[0].type];function r(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}if(c){var i=new c(r());i.$on("select",t[7])}return{c(){i&&yt(i.$$.fragment),e=j()},m(t,n){i&&bt(i,t,n),w(t,e,n),s=!0},p(t,[n]){const s=7&n?function(t,e){const n={},s={},o={$$scope:1};let c=t.length;for(;c--;){const r=t[c],i=e[c];if(i){for(const t in r)t in i||(s[t]=1);for(const t in i)o[t]||(n[t]=i[t],o[t]=1);t[c]=i}else for(const t in r)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}(o,[1&n&&{variants:t[0].variants},4&n&&(l=t[2],"object"==typeof l&&null!==l?l:{}),2&n&&{selected:t[1]}]):{};var l;if(c!==(c=t[3][t[0].type])){if(i){ft();const t=i;mt(t.$$.fragment,1,0,()=>{wt(t,1)}),dt()}c?((i=new c(r())).$on("select",t[7]),yt(i.$$.fragment),pt(i.$$.fragment,1),bt(i,e.parentNode,e)):i=null}else c&&i.$set(s)},i(t){s||(i&&pt(i.$$.fragment,t),s=!0)},o(t){i&&mt(i.$$.fragment,t),s=!1},d(t){t&&k(e),i&&wt(i,t)}}}function Gn(t,e,n){let{question:s}=e,{selected:o}=e,{context:c}=e;const r={select:Ln,word:Sn,check:Hn,insert:Jn,column:Qn},i={word:"word",insert:"sentence",column:"columns"};function l(t,e){let n={};return null!=e&&(n.context=e),i[t]&&(n[i[t]]=s[i[t]]),n}let a;return t.$set=(t=>{"question"in t&&n(0,s=t.question),"selected"in t&&n(1,o=t.selected),"context"in t&&n(4,c=t.context)}),t.$$.update=(()=>{17&t.$$.dirty&&n(2,a=l(s.type,c))}),[s,o,a,r,c,i,l,function(e){Q(t,e)}]}class Kn extends _t{constructor(t){super(),qt(this,t,Gn,Vn,i,{question:0,selected:1,context:4})}}function Xn(t,e,n){const s=t.slice();return s[4]=e[n],s[6]=n,s}function Zn(t,e,n){const s=t.slice();return s[7]=e[n].column,s[9]=n,s}function ts(t,e,n){const s=t.slice();return s[4]=e[n],s[6]=n,s}function es(t){let e,n=t[0].variants,s=[];for(let e=0;e<n.length;e+=1)s[e]=ss(Xn(t,n,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);w(t,e,n)},p(t,o){if(5&o){let c;for(n=t[0].variants,c=0;c<n.length;c+=1){const r=Xn(t,n,c);s[c]?s[c].p(r,o):(s[c]=ss(r),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}},d(t){q(s,t),t&&k(e)}}}function ns(t){let e,n=t[0].variants,s=[];for(let e=0;e<n.length;e+=1)s[e]=cs(ts(t,n,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);w(t,e,n)},p(t,o){if(5&o){let c;for(n=t[0].variants,c=0;c<n.length;c+=1){const r=ts(t,n,c);s[c]?s[c].p(r,o):(s[c]=cs(r),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}},d(t){q(s,t),t&&k(e)}}}function ss(t){let e,n,s,o,c=t[4].variant+"";return{c(){e=_("div"),n=_("span"),s=L(c),o=N(),S(n,"class","inline-block variant p-2 svelte-16i0if8"),O(n,"is-correct",t[4].answer),O(n,"is-selected",t[2](t[6])),S(e,"class","pb-1")},m(t,c){w(t,e,c),b(e,n),b(n,s),b(e,o)},p(t,e){1&e&&c!==(c=t[4].variant+"")&&T(s,c),1&e&&O(n,"is-correct",t[4].answer),4&e&&O(n,"is-selected",t[2](t[6]))},d(t){t&&k(e)}}}function os(t){let e,n,s,o,c=t[7]+"";return{c(){e=_("div"),n=_("span"),s=L(c),o=N(),S(n,"class","variant p-2"),S(e,"class","py-2 svelte-16i0if8"),O(e,"is-correct",t[4].answer===t[9]),O(e,"is-selected",t[2](t[6],t[9]))},m(t,c){w(t,e,c),b(e,n),b(n,s),b(e,o)},p(t,n){1&n&&c!==(c=t[7]+"")&&T(s,c),1&n&&O(e,"is-correct",t[4].answer===t[9]),4&n&&O(e,"is-selected",t[2](t[6],t[9]))},d(t){t&&k(e)}}}function cs(t){let e,n,s,o,c,r,i,l,a=t[6]+1+"",u=t[4].variant+"",f=t[0].columns,d=[];for(let e=0;e<f.length;e+=1)d[e]=os(Zn(t,f,e));return{c(){e=_("div"),n=_("span"),s=L(a),o=L(". "),c=L(u),r=N(),i=_("div");for(let t=0;t<d.length;t+=1)d[t].c();l=N(),S(n,"class","pr-4"),S(i,"class","flex"),S(e,"class","lg:flex justify-between pb-4")},m(t,a){w(t,e,a),b(e,n),b(n,s),b(n,o),b(n,c),b(e,r),b(e,i);for(let t=0;t<d.length;t+=1)d[t].m(i,null);b(e,l)},p(t,e){if(1&e&&u!==(u=t[4].variant+"")&&T(c,u),5&e){let n;for(f=t[0].columns,n=0;n<f.length;n+=1){const s=Zn(t,f,n);d[n]?d[n].p(s,e):(d[n]=os(s),d[n].c(),d[n].m(i,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}},d(t){t&&k(e),q(d,t)}}}function rs(t){let e;return{c(){S(e=_("div"),"class","mt-4 text-xl text-justify")},m(n,s){w(n,e,s),e.innerHTML=t[1]},p(t,n){2&n&&(e.innerHTML=t[1])},d(t){t&&k(e)}}}function is(t){let e,n,s,o,c=t[0].sentence+"",r=le(t[1])+"";return{c(){e=_("div"),n=L(c),s=N(),o=_("div"),S(e,"class","sentence p-2 mt-4"),S(o,"class","mt-4 text-xl text-justify")},m(t,c){w(t,e,c),b(e,n),w(t,s,c),w(t,o,c),o.innerHTML=r},p(t,e){1&e&&c!==(c=t[0].sentence+"")&&T(n,c),2&e&&r!==(r=le(t[1])+"")&&(o.innerHTML=r)},d(t){t&&k(e),t&&k(s),t&&k(o)}}}function ls(t){let e,n=ie(t[0].word,t[1])+"";return{c(){S(e=_("div"),"class","mt-4 text-xl text-justify")},m(t,s){w(t,e,s),e.innerHTML=n},p(t,s){3&s&&n!==(n=ie(t[0].word,t[1])+"")&&(e.innerHTML=n)},d(t){t&&k(e)}}}function as(e){let n,s;function o(t,e){return"column"===t[0].type?ns:es}let c=o(e),r=c(e);function i(t,e){return"word"===t[0].type?ls:"insert"===t[0].type?is:rs}let l=i(e),a=l(e);return{c(){r.c(),n=N(),a.c(),s=j()},m(t,e){r.m(t,e),w(t,n,e),a.m(t,e),w(t,s,e)},p(t,[e]){c===(c=o(t))&&r?r.p(t,e):(r.d(1),(r=c(t))&&(r.c(),r.m(n.parentNode,n))),l===(l=i(t))&&a?a.p(t,e):(a.d(1),(a=l(t))&&(a.c(),a.m(s.parentNode,s)))},i:t,o:t,d(t){r.d(t),t&&k(n),a.d(t),t&&k(s)}}}function us(t,e,n){let s,{question:o}=e,{selected:c}=e,{context:r=""}=e;return t.$set=(t=>{"question"in t&&n(0,o=t.question),"selected"in t&&n(3,c=t.selected),"context"in t&&n(1,r=t.context)}),t.$$.update=(()=>{9&t.$$.dirty&&n(2,s=((t,e)=>void 0!==c&&("check"===o.type?c.includes(t):"column"===o.type?JSON.parse(c)[t]===e:t===Number(c))))}),[o,r,s,c]}class fs extends _t{constructor(t){super(),qt(this,t,us,as,i,{question:0,selected:3,context:1})}}function ds(t){let e;const n=new Kn({props:{question:t[0],context:t[1],selected:t[4]}});return n.$on("select",t[12]),{c(){yt(n.$$.fragment)},m(t,s){bt(n,t,s),e=!0},p(t,e){const s={};1&e&&(s.question=t[0]),2&e&&(s.context=t[1]),16&e&&(s.selected=t[4]),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function ps(t){let e;const n=new fs({props:{question:t[0],context:t[1],selected:t[4]}});return{c(){yt(n.$$.fragment)},m(t,s){bt(n,t,s),e=!0},p(t,e){const s={};1&e&&(s.question=t[0]),2&e&&(s.context=t[1]),16&e&&(s.selected=t[4]),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function ms(t){let e;return{c(){e=L("Previous")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function hs(t){let e;return{c(){e=L("Next")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function $s(t){let e,n,s,o,c,r,i,l,a,u,f,d,p,m,h,$=t[0].title+"";const g=[ps,ds],v=[];function x(t,e){return"teacher"===t[5].role?0:1}a=x(t),u=v[a]=g[a](t);const y=new Jt({props:{type:"secondary",disabled:0===t[2],$$slots:{default:[ms]},$$scope:{ctx:t}}});y.$on("click",t[9]);const q=new Jt({props:{type:"primary",$$slots:{default:[hs]},$$scope:{ctx:t}}});return q.$on("click",t[8]),{c(){e=_("div"),n=_("button"),s=_("span"),o=_("i"),c=N(),r=_("h1"),i=L($),l=N(),u.c(),f=N(),d=_("div"),yt(y.$$.fragment),p=N(),yt(q.$$.fragment),S(o,"class","icon-book"),O(o,"icon-book-disable",t[3]),S(s,"class","icon"),S(n,"class","absolute top-0 right-0 p-3"),S(r,"class","text-black text-xl mb-6"),S(e,"class","relative container rounded border bg-white p-10"),S(d,"class","flex p-8 justify-center md:justify-end")},m(u,$){w(u,e,$),b(e,n),b(n,s),b(s,o),b(e,c),b(e,r),b(r,i),b(e,l),v[a].m(e,null),w(u,f,$),w(u,d,$),bt(y,d,null),b(d,p),bt(q,d,null),m=!0,h=E(n,"click",t[6])},p(t,[n]){8&n&&O(o,"icon-book-disable",t[3]),(!m||1&n)&&$!==($=t[0].title+"")&&T(i,$);let s=a;(a=x(t))===s?v[a].p(t,n):(ft(),mt(v[s],1,1,()=>{v[s]=null}),dt(),(u=v[a])||(u=v[a]=g[a](t)).c(),pt(u,1),u.m(e,null));const c={};4&n&&(c.disabled=0===t[2]),8192&n&&(c.$$scope={dirty:n,ctx:t}),y.$set(c);const r={};8192&n&&(r.$$scope={dirty:n,ctx:t}),q.$set(r)},i(t){m||(pt(u),pt(y.$$.fragment,t),pt(q.$$.fragment,t),m=!0)},o(t){mt(u),mt(y.$$.fragment,t),mt(q.$$.fragment,t),m=!1},d(t){t&&k(e),v[a].d(),t&&k(f),t&&k(d),wt(y),wt(q),h()}}}function gs(t,e,n){let s;u(t,Qt,t=>n(5,s=t));let{question:o={}}=e,{context:c}=e,{active:r}=e,{answers:i}=e;const l=Y();let a=!0;function f(t){l("select",{newAnswer:[r,t]})}let d;return t.$set=(t=>{"question"in t&&n(0,o=t.question),"context"in t&&n(1,c=t.context),"active"in t&&n(2,r=t.active),"answers"in t&&n(10,i=t.answers)}),t.$$.update=(()=>{1028&t.$$.dirty&&n(4,d=i[r])}),[o,c,r,a,d,s,function(){n(3,a=!a),l("toggle")},f,function(){l("click",{newActive:r+1})},function(){l("click",{newActive:r-1})},i,l,t=>f(t.detail)]}class vs extends _t{constructor(t){super(),qt(this,t,gs,$s,i,{question:0,context:1,active:2,answers:10})}}function xs(t,e,n){const s=t.slice();return s[12]=e[n],s[14]=n,s}function ys(e){let n,s,o,c,r,i,l,a,u,f,d=e[14]+1+"",p=e[5](e[12].title)+"",m=e[4](e[14]),h=m&&ws();function $(...t){return e[10](e[14],...t)}return{c(){n=_("a"),s=_("span"),o=L(d),c=N(),r=_("span"),i=L(p),l=L("..."),a=N(),h&&h.c(),S(s,"class","px-2"),S(n,"href",u="/#"+e[14]),S(n,"class","item svelte-kmlqqf"),O(n,"is-active",e[14]===e[2])},m(t,e){w(t,n,e),b(n,s),b(s,o),b(n,c),b(n,r),b(r,i),b(r,l),b(n,a),h&&h.m(n,null),f=E(n,"click",C($))},p(t,s){e=t,2&s&&d!==(d=e[14]+1+"")&&T(o,d),2&s&&p!==(p=e[5](e[12].title)+"")&&T(i,p),18&s&&(m=e[4](e[14])),m?h?pt(h,1):((h=ws()).c(),pt(h,1),h.m(n,null)):h&&(h.d(1),h=null),2&s&&u!==(u="/#"+e[14])&&S(n,"href",u),6&s&&O(n,"is-active",e[14]===e[2])},i(t){pt(h)},o:t,d(t){t&&k(n),h&&h.d(),f()}}}function bs(e){let n,s,o,c,r,i,l,a,u,f,d=e[14]+1+"",p=e[5](e[12].title)+"";function m(...t){return e[9](e[14],...t)}return{c(){n=_("a"),s=_("span"),o=L(d),c=N(),r=_("span"),i=L(p),l=L("..."),S(s,"class","px-2"),S(n,"href",a="/#"+e[14]),S(n,"class",u="item "+e[6](e[12],e[3][e[14]])+" svelte-kmlqqf"),O(n,"is-active",e[14]===e[2])},m(t,e){w(t,n,e),b(n,s),b(s,o),b(n,c),b(n,r),b(r,i),b(r,l),f=E(n,"click",C(m))},p(t,s){e=t,2&s&&d!==(d=e[14]+1+"")&&T(o,d),2&s&&p!==(p=e[5](e[12].title)+"")&&T(i,p),2&s&&a!==(a="/#"+e[14])&&S(n,"href",a),10&s&&u!==(u="item "+e[6](e[12],e[3][e[14]])+" svelte-kmlqqf")&&S(n,"class",u),14&s&&O(n,"is-active",e[14]===e[2])},i:t,o:t,d(t){t&&k(n),f()}}}function ws(e){let n,s,o;return{c(){n=_("span"),(s=_("span")).innerHTML='<i class="icon-check"></i>',S(s,"class","icon"),S(n,"class","check mr-2 svelte-kmlqqf")},m(t,e){w(t,n,e),b(n,s)},i(t){o||et(()=>{(o=$t(s,Ut,{duration:300})).start()})},o:t,d(t){t&&k(n)}}}function ks(e,n){let s,o;function c(t,e){return"completed"===t[3].state?bs:ys}let r=c(n),i=r(n);return{key:e,first:null,c(){s=j(),i.c(),o=j(),this.first=s},m(t,e){w(t,s,e),i.m(t,e),w(t,o,e)},p(t,e){r===(r=c(t))&&i?i.p(t,e):(i.d(1),(i=r(t))&&(i.c(),pt(i,1),i.m(o.parentNode,o)))},i(t){pt(i)},o:t,d(t){t&&k(s),i.d(t),t&&k(o)}}}function qs(e){let n,s,o,c,r,i,l,a,u=[],f=new Map,d=e[1];const p=t=>t[14];for(let t=0;t<d.length;t+=1){let n=xs(e,d,t),s=p(n);f.set(s,u[t]=ks(s,n))}return{c(){n=_("div"),s=_("div"),o=L(e[0]),c=N(),r=_("div");for(let t=0;t<u.length;t+=1)u[t].c();i=N(),(l=_("a")).innerHTML='<span class="pl-2">Finish test</span>',S(s,"class","border-t border-b px-4 py-2"),S(l,"href","/#finish"),S(l,"class","item svelte-kmlqqf"),O(l,"active",e[2]===e[1].length),S(r,"class","pr-2 pl-2 py-2"),S(n,"class","questions-list")},m(t,f){w(t,n,f),b(n,s),b(s,o),b(n,c),b(n,r);for(let t=0;t<u.length;t+=1)u[t].m(r,null);b(r,i),b(r,l),a=E(l,"click",C(e[11]))},p(t,[e]){1&e&&T(o,t[0]);const n=t[1];u=function(t,e,n,s,o,c,r,i,l,a,u,f){let d=t.length,p=c.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const $=[],g=new Map,v=new Map;for(m=p;m--;){const t=f(o,c,m),i=n(t);let l=r.get(i);l?s&&l.p(t,e):(l=a(i,t)).c(),g.set(i,$[m]=l),i in h&&v.set(i,Math.abs(m-h[i]))}const x=new Set,y=new Set;function b(t){pt(t,1),t.m(i,u),r.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=$[p-1],n=t[d-1],s=e.key,o=n.key;e===n?(u=e.first,d--,p--):g.has(o)?!r.has(s)||x.has(s)?b(e):y.has(o)?d--:v.get(s)>v.get(o)?(y.add(s),b(e)):(x.add(o),d--):(l(n,r),d--)}for(;d--;){const e=t[d];g.has(e.key)||l(e,r)}for(;p;)b($[p-1]);return $}(u,e,p,1,t,n,f,r,xt,ks,i,xs),6&e&&O(l,"active",t[2]===t[1].length)},i(t){for(let t=0;t<d.length;t+=1)pt(u[t])},o:t,d(t){t&&k(n);for(let t=0;t<u.length;t+=1)u[t].d();a()}}}function _s(t,e,n){let{title:s}=e,{questions:o}=e,{active:c}=e,{answers:r}=e;const i=Y();function l(t){i("click",{newActive:t})}let a;return t.$set=(t=>{"title"in t&&n(0,s=t.title),"questions"in t&&n(1,o=t.questions),"active"in t&&n(2,c=t.active),"answers"in t&&n(3,r=t.answers)}),t.$$.update=(()=>{8&t.$$.dirty&&n(4,a=(t=>r.hasOwnProperty(t)))}),[s,o,c,r,a,t=>t.split(" ").slice(0,6).join(" "),(t,e)=>{if(void 0===e)return" ";const n=function(t){return(t=JSON.parse(t)).length>1&&t.sort(),"object"==typeof t&&(t=Object.values(t)),t}(e),s=function(t){let e=[];return t.variants.forEach((t,n)=>{"number"==typeof t.answer?e.push(t.answer):!0===t.answer&&e.push(n)}),e}(t);return n.toString()===s.toString()?"is-answer-right":"is-answer-wrong"},l,i,t=>l(t),t=>l(t),()=>l(o.length)]}class Ls extends _t{constructor(t){super(),qt(this,t,_s,qs,i,{title:0,questions:1,active:2,answers:3})}}function Ns(t){let e;return{c(){e=L("Previous")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function js(t){let e;return{c(){e=L("Send")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Es(e){let n,s,o,c,r,i,l,a,u,f,d=e[1]&&function(e){let n;return{c(){(n=_("p")).textContent=`Not answered questions: ${e[1].map(Cs).join(" , ")}`},m(t,e){w(t,n,e)},p:t,d(t){t&&k(n)}}}(e),p=!e[2]&&function(t){let e;return{c(){(e=_("p")).textContent="You did not answer more than half."},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}();const m=new Jt({props:{type:"secondary",$$slots:{default:[Ns]},$$scope:{ctx:e}}});m.$on("click",e[4]);const h=new Jt({props:{type:"primary",disabled:!e[2]||"teacher"===e[0].role,$$slots:{default:[js]},$$scope:{ctx:e}}});return h.$on("click",e[3]),{c(){n=_("div"),(s=_("h1")).textContent="Finish test",o=N(),(c=_("p")).textContent="You are close to finish the test and send results.",r=N(),d&&d.c(),i=N(),p&&p.c(),l=N(),a=_("div"),yt(m.$$.fragment),u=N(),yt(h.$$.fragment),S(s,"class","text-black text-xl mb-6"),S(c,"class",""),S(n,"class","container rounded border bg-white p-8"),S(a,"class","flex p-8 justify-center md:justify-end")},m(t,e){w(t,n,e),b(n,s),b(n,o),b(n,c),b(n,r),d&&d.m(n,null),b(n,i),p&&p.m(n,null),w(t,l,e),w(t,a,e),bt(m,a,null),b(a,u),bt(h,a,null),f=!0},p(t,[e]){t[1]&&d.p(t,e);const n={};512&e&&(n.$$scope={dirty:e,ctx:t}),m.$set(n);const s={};1&e&&(s.disabled=!t[2]||"teacher"===t[0].role),512&e&&(s.$$scope={dirty:e,ctx:t}),h.$set(s)},i(t){f||(pt(m.$$.fragment,t),pt(h.$$.fragment,t),f=!0)},o(t){mt(m.$$.fragment,t),mt(h.$$.fragment,t),f=!1},d(t){t&&k(n),d&&d.d(),p&&p.d(),t&&k(l),t&&k(a),wt(m),wt(h)}}}const Cs=t=>t+1;function Ss(t,e,n){let s;u(t,Qt,t=>n(0,s=t));let{questionsCount:o}=e,{answers:c}=e;const r=Y(),i=function t(e=0,n=[]){if(e===o)return n;c.hasOwnProperty(e)||n.push(e);return t(e+1,n)}(),l=o/i.length>2;return t.$set=(t=>{"questionsCount"in t&&n(5,o=t.questionsCount),"answers"in t&&n(6,c=t.answers)}),[s,i,l,function(){r("send")},function(){r("click",{newActive:o-1})},o,c]}class Ts extends _t{constructor(t){super(),qt(this,t,Ss,Es,i,{questionsCount:5,answers:6})}}function As(t){let e;const n=new Ce({props:{$$slots:{default:[Rs],main:[Is],sidebar:[Hs]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){bt(n,t,s),e=!0},p(t,e){const s={};8679&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function Ms(t){let e,n;return{c(){(e=_("span")).innerHTML='<i class="icon-arrow-left"></i>',n=L("  \n          Back"),S(e,"class","icon pr-2")},m(t,s){w(t,e,s),w(t,n,s)},d(t){t&&k(e),t&&k(n)}}}function Os(t){let e,n,s=t[8].name+"";return{c(){e=L("for "),n=L(s)},m(t,s){w(t,e,s),w(t,n,s)},p(t,e){256&e&&s!==(s=t[8].name+"")&&T(n,s)},d(t){t&&k(e),t&&k(n)}}}function Hs(t){let e,n,s,o,c,r,i,l,a,u,f=t[0].lesson+"";const d=new Jt({props:{type:"link",$$slots:{default:[Ms]},$$scope:{ctx:t}}});d.$on("click",Ot);let p="teacher"===t[6].role&&Os(t);const m=new Ls({props:{active:t[2],answers:t[7],questions:t[1].questions,title:t[1].title}});return m.$on("click",t[10]),{c(){e=_("div"),n=_("div"),yt(d.$$.fragment),s=N(),o=_("div"),c=_("div"),r=_("span"),i=L(f),l=L(" plan\n          "),p&&p.c(),a=N(),yt(m.$$.fragment),S(n,"class","sidebar-panel px-4 py-2 mb-6"),S(r,"class","capitalize"),S(c,"class","font-semibold text-black px-4 py-2"),S(o,"class","sidebar-panel"),S(e,"slot","sidebar")},m(t,f){w(t,e,f),b(e,n),bt(d,n,null),b(e,s),b(e,o),b(o,c),b(c,r),b(r,i),b(c,l),p&&p.m(c,null),b(o,a),bt(m,o,null),u=!0},p(t,e){const n={};8192&e&&(n.$$scope={dirty:e,ctx:t}),d.$set(n),(!u||1&e)&&f!==(f=t[0].lesson+"")&&T(i,f),"teacher"===t[6].role?p?p.p(t,e):((p=Os(t)).c(),p.m(c,null)):p&&(p.d(1),p=null);const s={};4&e&&(s.active=t[2]),128&e&&(s.answers=t[7]),2&e&&(s.questions=t[1].questions),2&e&&(s.title=t[1].title),m.$set(s)},i(t){u||(pt(d.$$.fragment,t),pt(m.$$.fragment,t),u=!0)},o(t){mt(d.$$.fragment,t),mt(m.$$.fragment,t),u=!1},d(t){t&&k(e),wt(d),p&&p.d(),wt(m)}}}function Ds(t){let e;const n=new Ts({props:{answers:t[7],questionsCount:t[1].questions.length}});return n.$on("click",t[10]),n.$on("send",t[11]),{c(){yt(n.$$.fragment)},m(t,s){bt(n,t,s),e=!0},p(t,e){const s={};128&e&&(s.answers=t[7]),2&e&&(s.questionsCount=t[1].questions.length),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function Ps(t){let e;const n=new vs({props:{active:t[2],answers:t[7],context:t[5]?t[1].context_plain:t[1].fragments[t[2]],question:t[1].questions[t[2]]}});return n.$on("click",t[10]),n.$on("select",zs),n.$on("toggle",t[9]),{c(){yt(n.$$.fragment)},m(t,s){bt(n,t,s),e=!0},p(t,e){const s={};4&e&&(s.active=t[2]),128&e&&(s.answers=t[7]),38&e&&(s.context=t[5]?t[1].context_plain:t[1].fragments[t[2]]),6&e&&(s.question=t[1].questions[t[2]]),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function Is(t){let e,n,s,o;const c=[Ps,Ds],r=[];function i(t,e){return t[2]<t[1].questions.length?0:1}return n=i(t),s=r[n]=c[n](t),{c(){e=_("div"),s.c(),S(e,"slot","main")},m(t,s){w(t,e,s),r[n].m(e,null),o=!0},p(t,o){let l=n;(n=i(t))===l?r[n].p(t,o):(ft(),mt(r[l],1,1,()=>{r[l]=null}),dt(),(s=r[n])||(s=r[n]=c[n](t)).c(),pt(s,1),s.m(e,null))},i(t){o||(pt(s),o=!0)},o(t){mt(s),o=!1},d(t){t&&k(e),r[n].d()}}}function Rs(e){let n;return{c(){n=N()},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}function Js(t){let e;const n=new bn({props:{$$slots:{default:[Fs]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){bt(n,t,s),e=!0},p(t,e){const s={};8208&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}function Fs(t){let e;return{c(){e=new D(t[4],null)},m(t,n){e.m(t,n)},p(t,n){16&n&&e.p(t[4])},d(t){t&&e.d()}}}function Us(t){let e,n,s,o=t[1]&&As(t),c=t[3]&&Js(t);return{c(){o&&o.c(),e=N(),c&&c.c(),n=j()},m(t,r){o&&o.m(t,r),w(t,e,r),c&&c.m(t,r),w(t,n,r),s=!0},p(t,[s]){t[1]?o?(o.p(t,s),pt(o,1)):((o=As(t)).c(),pt(o,1),o.m(e.parentNode,e)):o&&(ft(),mt(o,1,1,()=>{o=null}),dt()),t[3]?c?(c.p(t,s),pt(c,1)):((c=Js(t)).c(),pt(c,1),c.m(n.parentNode,n)):c&&(ft(),mt(c,1,1,()=>{c=null}),dt())},i(t){s||(pt(o),pt(c),s=!0)},o(t){mt(o),mt(c),s=!1},d(t){o&&o.d(t),t&&k(e),c&&c.d(t),t&&k(n)}}}function zs({detail:t}){oe(t.newAnswer)}function Bs(t,e,n){let s,o,c;u(t,Qt,t=>n(6,s=t)),u(t,ne,t=>n(7,o=t)),u(t,Kt,t=>n(8,c=t));let r,i,{params:l={}}=e,a=0,f=!1,d=!1;async function p(t){await new Promise(e=>{n(4,i=t),n(3,f=!0),setTimeout(e,2500)}),await new Promise(t=>{n(3,f=!1),setTimeout(t,300)})}return W(async()=>{const t="teacher"===s.role;n(1,r=await de(l.test,t)),se(r.title,l.lesson,l.state)}),t.$set=(t=>{"params"in t&&n(0,l=t.params)}),[l,r,a,f,i,d,s,o,c,function(){n(5,d=!d)},function({detail:t}){n(2,a=t.newActive)},async function(){document.body.classList.add("pointer-events-none");try{await Promise.all([p("<span class='icon'><i class='icon-loading'></i></span>Test is sending..."),pe(o,s.login)]),await p("Congratulations! Test results successfully send!")}catch(t){await p("Sending is failed! Please, try again.")}await new Promise(t=>{document.body.classList.remove("pointer-events-none"),ce(),setTimeout(()=>{Ot(),t()},1e3)})}]}function Ws(t){let e,n,s,o,c,r,i;return{c(){e=_("div"),n=L("NotFound\n    "),s=_("br"),o=L("\n    Start "),(c=_("a")).textContent="here",S(c,"href","/home"),S(c,"class","text-primary"),S(e,"slot","main")},m(t,l){w(t,e,l),b(e,n),b(e,s),b(e,o),b(e,c),i=m(r=Ht.call(null,c))},d(t){t&&k(e),i()}}}function Ys(e){return{c:t,m:t,p:t,d:t}}function Qs(t){let e;const n=new Ce({props:{$$slots:{default:[Ys],main:[Ws]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){bt(n,t,s),e=!0},p(t,[e]){const s={};1&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){wt(n,t)}}}const Vs={"/":class extends _t{constructor(t){super(),qt(this,t,ke,we,i,{})}},"/:lesson":vn,"/:lesson/:state":vn,"/:lesson/:state/:test":class extends _t{constructor(t){super(),qt(this,t,Bs,Us,i,{params:0})}},"*":class extends _t{constructor(t){super(),qt(this,t,null,Qs,i,{})}}};function Gs(e){let n;const s=new Pt({props:{routes:Vs}});return s.$on("routeLoaded",Ks),{c(){yt(s.$$.fragment)},m(t,e){bt(s,t,e),n=!0},p:t,i(t){n||(pt(s.$$.fragment,t),n=!0)},o(t){mt(s.$$.fragment,t),n=!1},d(t){wt(s,t)}}}function Ks(){ve()||Mt("/")}function Xs(t){return[]}return new class extends _t{constructor(t){super(),qt(this,t,Xs,Gs,i,{})}}({target:document.querySelector("#app")})}();
//# sourceMappingURL=bundle.js.map
