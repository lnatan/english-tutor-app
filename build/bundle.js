var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function o(){return Object.create(null)}function c(t){t.forEach(s)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function a(t){let e;return i(t,t=>e=t)(),e}function u(t,e,n){t.$$.on_destroy.push(i(e,n))}function f(t,e,n,s){if(t){const o=d(t,e,n,s);return t[0](o)}}function d(t,e,s,o){return t[1]&&o?n(s.ctx.slice(),t[1](o(e))):s.ctx}function p(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}function m(e){return e&&r(e.destroy)?e.destroy:t}const h="undefined"!=typeof window;let $=h?()=>window.performance.now():()=>Date.now(),g=h?t=>requestAnimationFrame(t):t;const v=new Set;function y(t){v.forEach(e=>{e.c(t)||(v.delete(e),e.f())}),0!==v.size&&g(y)}function x(t){let e;return 0===v.size&&g(y),{promise:new Promise(n=>{v.add(e={c:t,f:n})}),abort(){v.delete(e)}}}function b(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode.removeChild(t)}function q(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function j(t){return document.createTextNode(t)}function E(){return j(" ")}function L(){return j("")}function N(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function C(t){return function(e){return e.preventDefault(),t.call(this,e)}}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e){(null!=e||t.value)&&(t.value=e)}function M(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}}function O(t,e,n){t.classList[n?"add":"remove"](e)}function H(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class z{constructor(t,e=null){this.e=_("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)w(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(k)}}let P,D,I=0,R={};function F(t,e,n,s,o,c,r,l=0){const i=16.666/s;let a="{\n";for(let t=0;t<=1;t+=i){const s=e+(n-e)*c(t);a+=100*t+`%{${r(s,1-s)}}\n`}const u=a+`100% {${r(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`;if(!R[f]){if(!P){const t=_("style");document.head.appendChild(t),P=t.sheet}R[f]=!0,P.insertRule(`@keyframes ${f} ${u}`,P.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${f} ${s}ms linear ${o}ms 1 both`,I+=1,f}function U(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--I&&g(()=>{if(I)return;let t=P.cssRules.length;for(;t--;)P.deleteRule(t);R={}})}function B(t){D=t}function J(){if(!D)throw new Error("Function called outside component initialization");return D}function W(t){J().$$.on_mount.push(t)}function Y(){const t=J();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=H(e,n);s.slice().forEach(e=>{e.call(t,o)})}}}function Q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const V=[],G=[],K=[],X=[],Z=Promise.resolve();let tt=!1;function et(t){K.push(t)}let nt=!1;const st=new Set;function ot(){if(!nt){nt=!0;do{for(let t=0;t<V.length;t+=1){const e=V[t];B(e),ct(e.$$)}for(V.length=0;G.length;)G.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];st.has(e)||(st.add(e),e())}K.length=0}while(V.length);for(;X.length;)X.pop()();tt=!1,nt=!1,st.clear()}}function ct(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}let rt;function lt(){return rt||(rt=Promise.resolve()).then(()=>{rt=null}),rt}function it(t,e,n){t.dispatchEvent(H(`${e?"intro":"outro"}${n}`))}const at=new Set;let ut;function ft(){ut={r:0,c:[],p:ut}}function dt(){ut.r||c(ut.c),ut=ut.p}function pt(t,e){t&&t.i&&(at.delete(t),t.i(e))}function mt(t,e,n,s){if(t&&t.o){if(at.has(t))return;at.add(t),ut.c.push(()=>{at.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}const ht={duration:0};function $t(n,s,o){let c,l,i=s(n,o),a=!1,u=0;function f(){c&&U(n,c)}function d(){const{delay:s=0,duration:o=300,easing:r=e,tick:d=t,css:p}=i||ht;p&&(c=F(n,0,1,o,s,r,p,u++)),d(0,1);const m=$()+s,h=m+o;l&&l.abort(),a=!0,et(()=>it(n,!0,"start")),l=x(t=>{if(a){if(t>=h)return d(1,0),it(n,!0,"end"),f(),a=!1;if(t>=m){const e=r((t-m)/o);d(e,1-e)}}return a})}let p=!1;return{start(){p||(U(n),r(i)?(i=i(),lt().then(d)):d())},invalidate(){p=!1},end(){a&&(f(),a=!1)}}}function gt(n,s,o,l){let i=s(n,o),a=l?0:1,u=null,f=null,d=null;function p(){d&&U(n,d)}function m(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(s){const{delay:o=0,duration:r=300,easing:l=e,tick:h=t,css:g}=i||ht,v={start:$()+o,b:s};s||(v.group=ut,ut.r+=1),u?f=v:(g&&(p(),d=F(n,a,s,r,o,l,g)),s&&h(0,1),u=m(v,r),et(()=>it(n,s,"start")),x(t=>{if(f&&t>f.start&&(u=m(f,r),f=null,it(n,u.b,"start"),g&&(p(),d=F(n,a,u.b,u.duration,0,l,i.css))),u)if(t>=u.end)h(a=u.b,1-a),it(n,u.b,"end"),f||(u.b?p():--u.group.r||c(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*l(e/u.duration),h(a,1-a)}return!(!u&&!f)}))}return{run(t){r(i)?lt().then(()=>{i=i(),h(t)}):h(t)},end(){p(),u=f=null}}}function vt(t,e){t.d(1),e.delete(t.key)}function yt(t){t&&t.c()}function xt(t,e,n){const{fragment:o,on_mount:l,on_destroy:i,after_update:a}=t.$$;o&&o.m(e,n),et(()=>{const e=l.map(s).filter(r);i?i.push(...e):c(e),t.$$.on_mount=[]}),a.forEach(et)}function bt(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wt(t,e){-1===t.$$.dirty[0]&&(V.push(t),tt||(tt=!0,Z.then(ot)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(e,n,s,r,l,i,a=[-1]){const u=D;B(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a};let p=!1;var m;d.ctx=s?s(e,f,(t,n,...s)=>{const o=s.length?s[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),p&&wt(e,t)),n}):[],d.update(),p=!0,c(d.before_update),d.fragment=!!r&&r(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l((m=n.target,Array.from(m.childNodes))):d.fragment&&d.fragment.c(),n.intro&&pt(e.$$.fragment),xt(e,n.target,n.anchor),ot()),B(u)}class qt{$destroy(){bt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const _t=[];function jt(t,e){return{subscribe:Et(t,e).subscribe}}function Et(e,n=t){let s;const o=[];function c(t){if(l(e,t)&&(e=t,s)){const t=!_t.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),_t.push(n,e)}if(t){for(let t=0;t<_t.length;t+=2)_t[t][0](_t[t+1]);_t.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,l=t){const i=[r,l];return o.push(i),1===o.length&&(s=n(c)||t),r(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}function Lt(e,n,s){const o=!Array.isArray(e),l=o?[e]:e,a=n.length<2;return jt(s,e=>{let s=!1;const u=[];let f=0,d=t;const p=()=>{if(f)return;d();const s=n(o?u[0]:u,e);a?e(s):d=r(s)?s:t},m=l.map((t,e)=>i(t,t=>{u[e]=t,f&=~(1<<e),s&&p()},()=>{f|=1<<e}));return s=!0,p(),function(){c(m),d()}})}function Nt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,o,c,r=[],l="",i=t.split("/");for(i[0]||i.shift();o=i.shift();)"*"===(n=o[0])?(r.push("wild"),l+="/(.*)"):":"===n?(s=o.indexOf("?",1),c=o.indexOf(".",1),r.push(o.substring(1,~s?s:~c?c:o.length)),l+=~s&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(l+=(~s?"?":"")+"\\"+o.substring(c))):l+="/"+o;return{keys:r,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}function Ct(t){let e,n;var s=t[0];function o(t){return{props:{params:t[1]}}}if(s)var c=new s(o(t));return{c(){c&&yt(c.$$.fragment),e=L()},m(t,s){c&&xt(c,t,s),w(t,e,s),n=!0},p(t,[n]){const r={};if(2&n&&(r.params=t[1]),s!==(s=t[0])){if(c){ft();const t=c;mt(t.$$.fragment,1,0,()=>{bt(t,1)}),dt()}s?(yt((c=new s(o(t))).$$.fragment),pt(c.$$.fragment,1),xt(c,e.parentNode,e)):c=null}else s&&c.$set(r)},i(t){n||(c&&pt(c.$$.fragment,t),n=!0)},o(t){c&&mt(c.$$.fragment,t),n=!1},d(t){t&&k(e),c&&bt(c,t)}}}function At(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let s="";return n>-1&&(s=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:s}}const St=jt(At(),function(t){const e=()=>{t(At())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}});Lt(St,t=>t.location),Lt(St,t=>t.querystring);function Tt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash=("#"==t.charAt(0)?"":"#")+t},0)}function Mt(){setTimeout(()=>{window.history.back()},0)}function Ot(t){if(!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');const e=t.getAttribute("href");if(!e||e.length<1||"/"!=e.charAt(0))throw Error('Invalid value for "href" attribute');t.setAttribute("href","#"+e)}function Ht(e,n,s){let o,c=t;u(e,St,t=>s(4,o=t)),e.$$.on_destroy.push(()=>c());let{routes:r={}}=n,{prefix:l=""}=n;class i{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:s}=Nt(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.route,this.conditions=e.conditions||[],this.userData=e.userData):(this.component=e,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=s}match(t){l&&t.startsWith(l)&&(t=t.substr(l.length)||"/");const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let s=0;for(;s<this._keys.length;)n[this._keys[s]]=e[++s]||null;return n}checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!this.conditions[e](t))return!1;return!0}}const a=r instanceof Map?r:Object.entries(r),f=[];for(const[t,e]of a)f.push(new i(t,e));let d=null,p={};const m=Y(),h=(t,e)=>{setTimeout(()=>{m(t,e)},0)};return e.$set=(t=>{"routes"in t&&s(2,r=t.routes),"prefix"in t&&s(3,l=t.prefix)}),e.$$.update=(()=>{if(17&e.$$.dirty){s(0,d=null);let t=0;for(;!d&&t<f.length;){const e=f[t].match(o.location);if(e){const n={component:f[t].component,name:f[t].component.name,location:o.location,querystring:o.querystring,userData:f[t].userData};if(!f[t].checkConditions(n)){h("conditionsFailed",n);break}s(0,d=f[t].component),s(1,p=e),h("routeLoaded",n)}t++}}}),[d,p,r,l]}class zt extends qt{constructor(t){super(),kt(this,t,Ht,Ct,l,{routes:2,prefix:3})}}function Pt(t){let e,n,s,o;const c=t[3].default,r=f(c,t,t[2],null);return{c(){e=_("button"),r&&r.c(),A(e,"class",n="btn btn-"+t[1]+" svelte-1i6msxy"),e.disabled=t[0]},m(n,c){w(n,e,c),r&&r.m(e,null),s=!0,o=N(e,"click",t[4])},p(t,[o]){r&&r.p&&4&o&&r.p(d(c,t,t[2],null),p(c,t[2],o,null)),(!s||2&o&&n!==(n="btn btn-"+t[1]+" svelte-1i6msxy"))&&A(e,"class",n),(!s||1&o)&&(e.disabled=t[0])},i(t){s||(pt(r,t),s=!0)},o(t){mt(r,t),s=!1},d(t){t&&k(e),r&&r.d(t),o()}}}function Dt(t,e,n){let{disabled:s=!1}=e,{type:o="primary"}=e,{$$slots:c={},$$scope:r}=e;return t.$set=(t=>{"disabled"in t&&n(0,s=t.disabled),"type"in t&&n(1,o=t.type),"$$scope"in t&&n(2,r=t.$$scope)}),[s,o,r,c,function(e){Q(t,e)}]}class It extends qt{constructor(t){super(),kt(this,t,Dt,Pt,l,{disabled:0,type:1})}}function Rt(t){const e=t-1;return e*e*e+1}function Ft(t,{delay:n=0,duration:s=400,easing:o=e}){const c=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:o,css:t=>`opacity: ${t*c}`}}function Ut(t,{delay:e=0,duration:n=400,easing:s=Rt,x:o=0,y:c=0,opacity:r=0}){const l=getComputedStyle(t),i=+l.opacity,a="none"===l.transform?"":l.transform,u=i*(1-r);return{delay:e,duration:n,easing:s,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*o}px, ${(1-t)*c}px);\n\t\t\topacity: ${i-u*e}`}}function Bt(t,e,n={}){n={path:"/",...n};let s=encodeURIComponent(t)+"="+encodeURIComponent(e);for(let t in n)s+="; "+t,s+="="+n[t];document.cookie=s}const Jt=(t,e)=>{const n=localStorage.getItem(t);return(e=Et(n?JSON.parse(n):e)).subscribe(e=>{void 0!==e&&localStorage.setItem(t,JSON.stringify(e))}),e},Wt=()=>{localStorage.clear()},Yt=Jt("app-user"),Qt=Jt("app-lessons-active",{}),Vt=Jt("app-lessons-completed",{}),Gt=()=>(t=>{return localStorage.getItem(t)===JSON.stringify({})})("app-lessons-completed"),Kt="./data/journal.json",Xt="./data/users/",Zt="https://gila.cf/mvp/user/";async function te(t){const e=Xt+t+".json",n=await fetch(e);if(!n.ok)throw new Error(n.status);return await n.json()}async function ee(t){try{const e=await te(t),{passedTests:n}=await async function(t){const e=Zt+t;try{const t=await fetch(e),n=await t.json();return n}catch(t){console.log(t)}}(t);Qt.set({login:t,lesson:e.lesson||[],hometask:e.hometask||[]}),Vt.set({login:t,lesson:n.filter(t=>"lesson"===t.lesson)||[],hometask:n.filter(t=>"hometask"===t.lesson)||[]})}catch(t){console.log(t)}}const ne=()=>(function(t){if(!document.cookie)return null;const e=document.cookie.split(";").map(t=>t.trim()).filter(e=>e.startsWith(t+"="));return 0===e.length?null:decodeURIComponent(e[0].split("=")[1])})("user");function se(){Wt(),Bt("user","",{"max-age":-1}),Tt("/")}function oe(e){let n,s,o;return{c(){n=_("div"),s=j(e[2]),A(n,"class","mb-4 text-red-600")},m(t,e){w(t,n,e),b(n,s)},p(t,e){4&e&&S(s,t[2])},i(t){o||et(()=>{(o=$t(n,Ft,{duration:300})).start()})},o:t,d(t){t&&k(n)}}}function ce(t){let e;return{c(){e=j("Enter")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function re(t){let e,n,s,o,r,l,i,a,u,f,d,p,m,h,$,g,v,y,x,q,j,L,C,S,M,H,z=t[2]&&oe(t);const P=new It({props:{type:"primary",$$slots:{default:[ce]},$$scope:{ctx:t}}});return P.$on("click",t[5]),{c(){e=_("div"),n=_("div"),(s=_("div")).textContent="Log in",o=E(),r=_("form"),l=_("div"),(i=_("span")).innerHTML='<i class="icon-login"></i>',a=E(),u=_("input"),f=E(),d=_("span"),p=E(),m=_("div"),(h=_("span")).innerHTML='<i class="icon-password"></i>',$=E(),g=_("input"),v=E(),y=_("span"),x=E(),z&&z.c(),q=E(),yt(P.$$.fragment),j=E(),L=_("br"),C=E(),(S=_("span")).innerHTML="test 1 <br> teacher 123456",A(s,"class","text-black text-2xl mb-8"),A(i,"class","icon"),A(u,"type","text"),A(u,"class","input svelte-1ii8cay"),u.autofocus=!0,A(u,"maxlength","15"),A(u,"autocomplete","nickname"),A(u,"placeholder","Login"),A(d,"class","focus svelte-1ii8cay"),A(l,"class","custom-input mb-8 svelte-1ii8cay"),O(l,"error",!t[3]),A(h,"class","icon"),A(g,"type","password"),A(g,"class","input svelte-1ii8cay"),A(g,"maxlength","15"),A(g,"autocomplete","current-password"),A(g,"placeholder","Password"),A(y,"class","focus svelte-1ii8cay"),A(m,"class","custom-input mb-8 svelte-1ii8cay"),O(m,"error",!t[4]),A(r,"action",""),A(n,"class","rounded border bg-white py-12 px-16 inline-block text-center"),A(e,"class","flex flex-col justify-center items-center min-h-screen py-16")},m(c,k){w(c,e,k),b(e,n),b(n,s),b(n,o),b(n,r),b(r,l),b(l,i),b(l,a),b(l,u),T(u,t[0]),b(l,f),b(l,d),b(r,p),b(r,m),b(m,h),b(m,$),b(m,g),T(g,t[1]),b(m,v),b(m,y),b(r,x),z&&z.m(r,null),b(r,q),xt(P,r,null),b(e,j),b(e,L),b(e,C),b(e,S),M=!0,u.focus(),H=[N(u,"input",t[7]),N(g,"input",t[8]),N(r,"submit",t[5])]},p(t,[e]){1&e&&u.value!==t[0]&&T(u,t[0]),8&e&&O(l,"error",!t[3]),2&e&&g.value!==t[1]&&T(g,t[1]),16&e&&O(m,"error",!t[4]),t[2]?z?(z.p(t,e),pt(z,1)):((z=oe(t)).c(),pt(z,1),z.m(r,q)):z&&(z.d(1),z=null);const n={};512&e&&(n.$$scope={dirty:e,ctx:t}),P.$set(n)},i(t){M||(pt(z),pt(P.$$.fragment,t),M=!0)},o(t){mt(P.$$.fragment,t),M=!1},d(t){t&&k(e),z&&z.d(),bt(P),c(H)}}}function le(t,e,n){let s="",o="",c="",r=!0,l=!0;function i(){return n(0,s=s.trim()),n(1,o=o.trim()),n(3,r=0!==s.length),n(4,l=0!==o.length),r&&l}return[s,o,c,r,l,async function(t){if(t.preventDefault(),i())try{await async function(t,e){const n=await te(t);if(n.password!==e)throw new Error("Password not correct");Yt.set({name:n.name,login:n.login,role:n.role}),Bt("user",1)}(s,o),Tt("/lesson")}catch(t){if("404"===t.message)return n(3,r=!1),void n(2,c=`User '${s}' not found`);if("Password not correct"===t.message)return n(4,l=!1),void n(2,c=t.message)}},i,function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)}]}const ie=t=>({}),ae=t=>({}),ue=t=>({}),fe=t=>({});function de(t){let e,n,s,o,c;const r=t[1].sidebar,l=f(r,t,t[0],fe),i=t[1].main,a=f(i,t,t[0],ae);return{c(){e=_("div"),n=_("div"),l&&l.c(),s=E(),o=_("main"),a&&a.c(),A(n,"class","sidebar flex-none w-1/4 hidden xl:block pr-4"),A(o,"class","main flex-1 px-4"),A(e,"class","container flex py-12")},m(t,r){w(t,e,r),b(e,n),l&&l.m(n,null),b(e,s),b(e,o),a&&a.m(o,null),c=!0},p(t,[e]){l&&l.p&&1&e&&l.p(d(r,t,t[0],fe),p(r,t[0],e,ue)),a&&a.p&&1&e&&a.p(d(i,t,t[0],ae),p(i,t[0],e,ie))},i(t){c||(pt(l,t),pt(a,t),c=!0)},o(t){mt(l,t),mt(a,t),c=!1},d(t){t&&k(e),l&&l.d(t),a&&a.d(t)}}}function pe(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$set=(t=>{"$$scope"in t&&n(0,o=t.$$scope)}),[o,s]}class me extends qt{constructor(t){super(),kt(this,t,pe,de,l,{})}}function he(t,e,n){const s=t.slice();return s[7]=e[n],s}function $e(t,e,n){const s=t.slice();return s[7]=e[n],s}function ge(t){let e,n=t[2],s=[];for(let e=0;e<n.length;e+=1)s[e]=ye($e(t,n,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=L()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);w(t,e,n)},p(t,o){if(29&o){let c;for(n=t[2],c=0;c<n.length;c+=1){const r=$e(t,n,c);s[c]?s[c].p(r,o):(s[c]=ye(r),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}},d(t){q(s,t),t&&k(e)}}}function ve(e){let n;return{c(){n=j("No active")},m(t,e){w(t,n,e)},p:t,d(t){t&&k(n)}}}function ye(t){let e,n,s,o,l,i,a,u,f,d,p,m,h,$=t[7].title+"",g=t[4](t[7].date)+"";return{c(){e=_("div"),n=_("button"),s=j($),o=E(),(l=_("button")).textContent="Start",i=E(),a=_("br"),u=E(),f=_("span"),d=j("Due: "),p=j(g),m=E(),A(n,"class","text-lg"),A(l,"class","text-primary px-2"),A(e,"class","py-4 border-b last:border-b-0")},m(c,$){w(c,e,$),b(e,n),b(n,s),b(e,o),b(e,l),b(e,i),b(e,a),b(e,u),b(e,f),b(f,d),b(f,p),b(e,m),h=[N(n,"click",function(){r(Tt(`/${t[0]}/${t[3](t[7].title)}`))&&Tt(`/${t[0]}/${t[3](t[7].title)}`).apply(this,arguments)}),N(l,"click",function(){r(Tt(`/${t[0]}/${t[3](t[7].title)}`))&&Tt(`/${t[0]}/${t[3](t[7].title)}`).apply(this,arguments)})]},p(e,n){t=e,4&n&&$!==($=t[7].title+"")&&S(s,$),4&n&&g!==(g=t[4](t[7].date)+"")&&S(p,g)},d(t){t&&k(e),c(h)}}}function xe(t){let e,n=t[1],s=[];for(let e=0;e<n.length;e+=1)s[e]=we(he(t,n,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=L()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);w(t,e,n)},p(t,o){if(27&o){let c;for(n=t[1],c=0;c<n.length;c+=1){const r=he(t,n,c);s[c]?s[c].p(r,o):(s[c]=we(r),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}},d(t){q(s,t),t&&k(e)}}}function be(e){let n;return{c(){n=j("No complited")},m(t,e){w(t,n,e)},p:t,d(t){t&&k(n)}}}function we(t){let e,n,s,o,l,i,a,u,f,d,p,m,h,$=t[7].title+"",g=t[4](t[7].date)+"";return{c(){e=_("div"),n=_("button"),s=j($),o=E(),(l=_("button")).textContent="View",i=E(),a=_("br"),u=E(),f=_("span"),d=j("Finish: "),p=j(g),m=E(),A(n,"class","text-lg"),A(l,"class","text-primary px-2"),A(e,"class","py-4 border-b last:border-b-0")},m(c,$){w(c,e,$),b(e,n),b(n,s),b(e,o),b(e,l),b(e,i),b(e,a),b(e,u),b(e,f),b(f,d),b(f,p),b(e,m),h=[N(n,"click",function(){r(Tt(`/${t[0]}/${t[3](t[7].title)}`))&&Tt(`/${t[0]}/${t[3](t[7].title)}`).apply(this,arguments)}),N(l,"click",function(){r(Tt(`/${t[0]}/${t[3](t[7].title)}`))&&Tt(`/${t[0]}/${t[3](t[7].title)}`).apply(this,arguments)})]},p(e,n){t=e,2&n&&$!==($=t[7].title+"")&&S(s,$),2&n&&g!==(g=t[4](t[7].date)+"")&&S(p,g)},d(t){t&&k(e),c(h)}}}function ke(e){let n,s,o,c,r,l,i,a,u,f,d,p,m;function h(t,e){return t[2].length?ge:ve}let $=h(e),g=$(e);function v(t,e){return t[1].length?xe:be}let y=v(e),x=y(e);return{c(){n=_("div"),(s=_("h2")).textContent="Active",o=E(),c=_("div"),g.c(),r=E(),l=_("div"),i=_("div"),(a=_("h2")).textContent="Complited",u=E(),(f=_("button")).textContent="Update",d=E(),p=_("div"),x.c(),A(s,"class","title pb-4 px-6"),A(c,"class","rounded border bg-white p-6"),A(n,"class","pb-4"),A(a,"class","title"),A(i,"class","flex justify-between items-center px-6 pb-4"),A(p,"class","rounded border bg-white p-6"),A(l,"class","mt-4 pb-4")},m(t,h){w(t,n,h),b(n,s),b(n,o),b(n,c),g.m(c,null),w(t,r,h),w(t,l,h),b(l,i),b(i,a),b(i,u),b(i,f),b(l,d),b(l,p),x.m(p,null),m=N(f,"click",e[5])},p(t,[e]){$===($=h(t))&&g?g.p(t,e):(g.d(1),(g=$(t))&&(g.c(),g.m(c,null))),y===(y=v(t))&&x?x.p(t,e):(x.d(1),(x=y(t))&&(x.c(),x.m(p,null)))},i:t,o:t,d(t){t&&k(n),g.d(),t&&k(r),t&&k(l),x.d(),m()}}}function qe(t,e,n){let{params:s=""}=e,{complited:o=[]}=e,{active:c=[]}=e;const r=Y();return t.$set=(t=>{"params"in t&&n(0,s=t.params),"complited"in t&&n(1,o=t.complited),"active"in t&&n(2,c=t.active)}),[s,o,c,t=>t.toLowerCase().replace(/\s/g,"-"),t=>new Date(t).toLocaleDateString("en-US"),function(){r("update")}]}class _e extends qt{constructor(t){super(),kt(this,t,qe,ke,l,{params:0,complited:1,active:2})}}const je=[];let Ee;function Le(t){t.node.classList.remove(t.className),t.pattern.test(Ee)&&t.node.classList.add(t.className)}function Ne(t,e){if(!(e=e&&"string"==typeof e?{path:e}:e||{}).path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&"#"==e.path.charAt(0)&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||e.path.length<1||"/"!=e.path.charAt(0)&&"*"!=e.path.charAt(0))throw Error('Invalid value for "path" argument');const{pattern:n}=Nt(e.path),s={node:t,className:e.className,pattern:n};return je.push(s),Le(s),{destroy(){je.splice(je.indexOf(s),1)}}}function Ce(t,e,n){const s=t.slice();return s[2]=e[n],s}function Ae(t){let e,n,s;return{c(){e=_("span"),A(n=_("i"),"class",s="icon-"+t[2]),A(e,"class","icon pr-2")},m(t,s){w(t,e,s),b(e,n)},p(t,e){1&e&&s!==(s="icon-"+t[2])&&A(n,"class",s)},d(t){t&&k(e)}}}function Se(t){let e,n,s,o,r,l,i,a,u,f=t[2]+"",d=t[1]&&Ae(t);return{c(){e=_("li"),n=_("a"),d&&d.c(),s=E(),o=j(f),a=E(),A(n,"href",r="/"+t[2])},m(t,c){w(t,e,c),b(e,n),d&&d.m(n,null),b(n,s),b(n,o),b(e,a),u=[m(l=Ot.call(null,n)),m(i=Ne.call(null,n))]},p(t,e){t[1]?d?d.p(t,e):((d=Ae(t)).c(),d.m(n,s)):d&&(d.d(1),d=null),1&e&&f!==(f=t[2]+"")&&S(o,f),1&e&&r!==(r="/"+t[2])&&A(n,"href",r)},d(t){t&&k(e),d&&d.d(),c(u)}}}function Te(e){let n,s,o=e[0],c=[];for(let t=0;t<o.length;t+=1)c[t]=Se(Ce(e,o,t));return{c(){n=_("nav"),s=_("ul");for(let t=0;t<c.length;t+=1)c[t].c()},m(t,e){w(t,n,e),b(n,s);for(let t=0;t<c.length;t+=1)c[t].m(s,null)},p(t,[e]){if(3&e){let n;for(o=t[0],n=0;n<o.length;n+=1){const r=Ce(t,o,n);c[n]?c[n].p(r,e):(c[n]=Se(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=o.length}},i:t,o:t,d(t){t&&k(n),q(c,t)}}}function Me(t,e,n){let{links:s=[]}=e,{icon:o=!1}=e;return t.$set=(t=>{"links"in t&&n(0,s=t.links),"icon"in t&&n(1,o=t.icon)}),[s,o]}St.subscribe(t=>{Ee=t.location+(t.querystring?"?"+t.querystring:""),je.map(Le)});class Oe extends qt{constructor(t){super(),kt(this,t,Me,Te,l,{links:0,icon:1})}}function He(t,e,n){const s=t.slice();return s[6]=e[n],s}function ze(t){let e,n,s,o,c=t[6]+"";return{c(){e=_("option"),n=j(c),s=E(),e.__value=o=t[6],e.value=e.__value},m(t,o){w(t,e,o),b(e,n),b(e,s)},p(t,s){2&s&&c!==(c=t[6]+"")&&S(n,c),2&s&&o!==(o=t[6])&&(e.__value=o),e.value=e.__value},d(t){t&&k(e)}}}function Pe(e){let n,s,o,r,l,i=e[1],a=[];for(let t=0;t<i.length;t+=1)a[t]=ze(He(e,i,t));return{c(){n=_("div"),s=_("select"),o=_("option"),r=j(e[2]);for(let t=0;t<a.length;t+=1)a[t].c();o.__value="",o.value=o.__value,A(s,"class","custom-select svelte-jz78dw"),void 0===e[0]&&et(()=>e[5].call(s)),A(n,"class","pb-4")},m(t,c){w(t,n,c),b(n,s),b(s,o),b(o,r);for(let t=0;t<a.length;t+=1)a[t].m(s,null);M(s,e[0]),l=[N(s,"change",e[5]),N(s,"change",e[3])]},p(t,[e]){if(4&e&&S(r,t[2]),2&e){let n;for(i=t[1],n=0;n<i.length;n+=1){const o=He(t,i,n);a[n]?a[n].p(o,e):(a[n]=ze(o),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}1&e&&M(s,t[0])},i:t,o:t,d(t){t&&k(n),q(a,t),c(l)}}}function De(t,e,n){let{options:s}=e,{placeholder:o="Select..."}=e,{selected:c=""}=e;const r=Y();return t.$set=(t=>{"options"in t&&n(1,s=t.options),"placeholder"in t&&n(2,o=t.placeholder),"selected"in t&&n(0,c=t.selected)}),[c,s,o,function(){r("select",{selected:c})},r,function(){c=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,c),n(1,s)}]}class Ie extends qt{constructor(t){super(),kt(this,t,De,Pe,l,{options:1,placeholder:2,selected:0})}}function Re(t){let e;return{c(){(e=_("span")).innerHTML='<i class="icon-logout"></i>',A(e,"class","icon")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Fe(t){let e,n,s,o,c,r,l,i,a,u=t[1].name+"";const f=new It({props:{type:"link",$$slots:{default:[Re]},$$scope:{ctx:t}}});f.$on("click",se);const d=new Oe({props:{links:["lesson","hometask"],icon:!0}});return{c(){e=_("div"),n=_("div"),(s=_("span")).innerHTML='<i class="icon-girl"></i>',o=j("\n      Welcome, "),c=j(u),r=j("!\n      "),l=_("span"),yt(f.$$.fragment),i=E(),yt(d.$$.fragment),A(s,"class","icon pr-2"),A(l,"class","ml-auto"),A(n,"class","flex items-center text-lg leading-loose pb-4 px-2"),A(e,"slot","sidebar")},m(t,u){w(t,e,u),b(e,n),b(n,s),b(n,o),b(n,c),b(n,r),b(n,l),xt(f,l,null),b(e,i),xt(d,e,null),a=!0},p(t,e){(!a||2&e)&&u!==(u=t[1].name+"")&&S(c,u);const n={};128&e&&(n.$$scope={dirty:e,ctx:t}),f.$set(n)},i(t){a||(pt(f.$$.fragment,t),pt(d.$$.fragment,t),a=!0)},o(t){mt(f.$$.fragment,t),mt(d.$$.fragment,t),a=!1},d(t){t&&k(e),bt(f),bt(d)}}}function Ue(t){let e,n,s,o={ctx:t,current:null,token:null,pending:We,then:Je,catch:Be,value:6,blocks:[,,,]};return function(t,e){const n=e.token={};function s(t,s,o,c){if(e.token!==n)return;e.resolved=c;let r=e.ctx;void 0!==o&&((r=r.slice())[o]=c);const l=t&&(e.current=t)(r);let i=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==s&&t&&(ft(),mt(t,1,1,()=>{e.blocks[n]=null}),dt())}):e.block.d(1),l.c(),pt(l,1),l.m(e.mount(),e.anchor),i=!0),e.block=l,e.blocks&&(e.blocks[s]=l),i&&ot()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=J();if(t.then(t=>{B(n),s(e.then,1,e.value,t),B(null)},t=>{B(n),s(e.catch,2,e.error,t),B(null)}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}var o}(n=t[4],o),{c(){e=L(),o.block.c()},m(t,n){w(t,e,n),o.block.m(t,o.anchor=n),o.mount=(()=>e.parentNode),o.anchor=e,s=!0},p(e,n){{const s=(t=e).slice();s[6]=o.resolved,o.block.p(s,n)}},i(t){s||(pt(o.block),s=!0)},o(t){for(let t=0;t<3;t+=1){mt(o.blocks[t])}s=!1},d(t){t&&k(e),o.block.d(t),o.token=null,o=null}}}function Be(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Je(t){let e;const n=new Ie({props:{placeholder:"Select student",options:t[6],selected:t[2].user}});return n.$on("select",Ge),{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,e){const s={};4&e&&(s.selected=t[2].user),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){bt(n,t)}}}function We(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Ye(t){let e,n,s,o="teacher"===t[1].role&&Ue(t);const c=new _e({props:{params:t[0].lesson,complited:t[3][t[0].lesson],active:t[2][t[0].lesson]}});return c.$on("update",t[5]),{c(){e=_("div"),o&&o.c(),n=E(),yt(c.$$.fragment),A(e,"slot","main")},m(t,r){w(t,e,r),o&&o.m(e,null),b(e,n),xt(c,e,null),s=!0},p(t,s){"teacher"===t[1].role?o?(o.p(t,s),pt(o,1)):((o=Ue(t)).c(),pt(o,1),o.m(e,n)):o&&(ft(),mt(o,1,1,()=>{o=null}),dt());const r={};1&s&&(r.params=t[0].lesson),9&s&&(r.complited=t[3][t[0].lesson]),5&s&&(r.active=t[2][t[0].lesson]),c.$set(r)},i(t){s||(pt(o),pt(c.$$.fragment,t),s=!0)},o(t){mt(o),mt(c.$$.fragment,t),s=!1},d(t){t&&k(e),o&&o.d(),bt(c)}}}function Qe(e){let n;return{c(){n=E()},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}function Ve(t){let e;const n=new me({props:{$$slots:{default:[Qe],main:[Ye],sidebar:[Fe]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,[e]){const s={};143&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){bt(n,t)}}}function Ge({detail:t}){ee(t.selected)}function Ke(t,e,n){let s,o,c;u(t,Yt,t=>n(1,s=t)),u(t,Qt,t=>n(2,o=t)),u(t,Vt,t=>n(3,c=t));let{params:r={}}=e;W(()=>{"student"===s.role&&Gt()&&ee(s.login)});const l="teacher"===s.role?async function(){try{const t=await fetch(Kt);return(await t.json()).users}catch(t){console.log(t)}}():[];return t.$set=(t=>{"params"in t&&n(0,r=t.params)}),[r,s,o,c,l,function(){ee(s.login)}]}function Xe(t){let e,n,s,o;const c=t[1].default,r=f(c,t,t[0],null);return{c(){e=_("div"),n=_("div"),r&&r.c(),A(n,"class","flex items-center"),A(e,"class","notification svelte-nk3wtf")},m(t,s){w(t,e,s),b(e,n),r&&r.m(n,null),o=!0},p(t,[e]){r&&r.p&&1&e&&r.p(d(c,t,t[0],null),p(c,t[0],e,null))},i(t){o||(pt(r,t),et(()=>{s||(s=gt(e,Ut,{y:-200,duration:500},!0)),s.run(1)}),o=!0)},o(t){mt(r,t),s||(s=gt(e,Ut,{y:-200,duration:500},!1)),s.run(0),o=!1},d(t){t&&k(e),r&&r.d(t),t&&s&&s.end()}}}function Ze(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$set=(t=>{"$$scope"in t&&n(0,o=t.$$scope)}),[o,s]}class tn extends qt{constructor(t){super(),kt(this,t,Ze,Xe,l,{})}}function en(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function nn(t){let e;return{c(){A(e=_("span"),"class","correct-variant")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function sn(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m=t[6].variant+"";function h(...e){return t[5](t[8],...e)}let $=t[6].answer&&nn();return{c(){e=_("label"),n=_("span"),s=_("input"),r=E(),l=_("span"),i=E(),a=_("span"),u=j(m),f=E(),$&&$.c(),A(s,"class","radio-input svelte-ni0fuj"),A(s,"id",o=t[8]),s.value=c=t[8],A(s,"type","radio"),A(l,"class","custom-radio-inner svelte-ni0fuj"),A(n,"class","custom-radio pr-2 svelte-ni0fuj"),O(n,"checked",t[8]===t[0]),A(a,"class","variant"),A(e,"for",d=t[8]),A(e,"class","label py-2 svelte-ni0fuj")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,r),b(n,l),b(e,i),b(e,a),b(a,u),b(a,f),$&&$.m(a,null),p=N(s,"click",h)},p(e,s){t=e,1&s&&O(n,"checked",t[8]===t[0]),2&s&&m!==(m=t[6].variant+"")&&S(u,m),t[6].answer?$||(($=nn()).c(),$.m(a,null)):$&&($.d(1),$=null)},d(t){t&&k(e),$&&$.d(),p()}}}function on(e){let n,s,o=e[1],c=[];for(let t=0;t<o.length;t+=1)c[t]=sn(en(e,o,t));return{c(){for(let t=0;t<c.length;t+=1)c[t].c();n=E(),A(s=_("div"),"class","mt-4 text-xl text-justify")},m(t,o){for(let e=0;e<c.length;e+=1)c[e].m(t,o);w(t,n,o),w(t,s,o),s.innerHTML=e[2]},p(t,[e]){if(11&e){let s;for(o=t[1],s=0;s<o.length;s+=1){const r=en(t,o,s);c[s]?c[s].p(r,e):(c[s]=sn(r),c[s].c(),c[s].m(n.parentNode,n))}for(;s<c.length;s+=1)c[s].d(1);c.length=o.length}4&e&&(s.innerHTML=t[2])},i:t,o:t,d(t){q(c,t),t&&k(n),t&&k(s)}}}function cn(t,e,n){let{selected:s}=e,{variants:o}=e,{context:c=" "}=e;const r=Y();function l(t){r("select",t)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"context"in t&&n(2,c=t.context)}),[s,o,c,l,r,t=>l(t)]}class rn extends qt{constructor(t){super(),kt(this,t,cn,on,l,{selected:0,variants:1,context:2})}}function ln(t,e){const n=/<\/*\d+\w*>/g;let s=function(t,e){return e.replace(t,(t,e,n)=>` <span class="slot hidden" data-index=${e-1}>${n}</span><span class="slot-sentence hidden" data-index=${e-1}>${n}</span> `)}(/<[0-9]+B>([0-9]+)(\w)<\/[0-9]+B>/g,t),o=[];for(let t=1;t<=e;t++){const e=new RegExp("<"+t+">.*</"+t+">"),c=new RegExp("<"+t+"A>(.*)</"+t+"A>");let r=s.match(e);r?(r=(r=(r=r[0]).replace(c,' <span class="highlight-hidden">$1</span> ')).replace(n," "),o.push(r)):(console.log(`Question ${t}: No fragment or context was not markuped!`),o.push(null))}return o}function an(t,e){const n=new RegExp('-hidden(?=">'+t+")");return e.replace(n,"")}function un(t){return t.replace(/slot hidden/g,"slot")}function fn(t,e,n){const s=t.slice();return s[7]=e[n],s[9]=n,s}function dn(t){let e;return{c(){A(e=_("span"),"class","correct-variant")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function pn(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m=t[7].variant+"";function h(...e){return t[6](t[9],...e)}let $=t[7].answer&&dn();return{c(){e=_("label"),n=_("span"),s=_("input"),r=E(),l=_("span"),i=E(),a=_("span"),u=j(m),f=E(),$&&$.c(),A(s,"class","radio-input svelte-fj1gr"),A(s,"id",o=t[9]),s.value=c=t[9],A(s,"type","radio"),A(l,"class","custom-radio-inner svelte-fj1gr"),A(n,"class","custom-radio pr-2 svelte-fj1gr"),O(n,"checked",t[9]===t[0]),A(a,"class","variant"),A(e,"for",d=t[9]),A(e,"class","label py-2 svelte-fj1gr")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,r),b(n,l),b(e,i),b(e,a),b(a,u),b(a,f),$&&$.m(a,null),p=N(s,"click",h)},p(e,s){t=e,1&s&&O(n,"checked",t[9]===t[0]),2&s&&m!==(m=t[7].variant+"")&&S(u,m),t[7].answer?$||(($=dn()).c(),$.m(a,null)):$&&($.d(1),$=null)},d(t){t&&k(e),$&&$.d(),p()}}}function mn(e){let n,s,o=an(e[3],e[2])+"",c=e[1],r=[];for(let t=0;t<c.length;t+=1)r[t]=pn(fn(e,c,t));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=E(),A(s=_("div"),"class","mt-4 text-xl text-justify")},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);w(t,n,e),w(t,s,e),s.innerHTML=o},p(t,[e]){if(19&e){let s;for(c=t[1],s=0;s<c.length;s+=1){const o=fn(t,c,s);r[s]?r[s].p(o,e):(r[s]=pn(o),r[s].c(),r[s].m(n.parentNode,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=c.length}12&e&&o!==(o=an(t[3],t[2])+"")&&(s.innerHTML=o)},i:t,o:t,d(t){q(r,t),t&&k(n),t&&k(s)}}}function hn(t,e,n){let{selected:s}=e,{variants:o=[]}=e,{context:c=""}=e,{word:r=""}=e;const l=Y();function i(t){l("select",t)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"context"in t&&n(2,c=t.context),"word"in t&&n(3,r=t.word)}),[s,o,c,r,i,l,t=>i(t)]}class $n extends qt{constructor(t){super(),kt(this,t,hn,mn,l,{selected:0,variants:1,context:2,word:3})}}function gn(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function vn(t){let e;return{c(){A(e=_("span"),"class","correct-variant")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function yn(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m=t[6].variant+"";function h(...e){return t[5](t[8],...e)}let $=t[6].answer&&vn();return{c(){e=_("label"),n=_("span"),s=_("input"),c=E(),r=_("span"),l=E(),i=_("span"),a=j(m),u=E(),$&&$.c(),f=E(),A(s,"class","checkbox-input svelte-l884s9"),A(s,"id",o=t[8]),A(s,"type","checkbox"),A(r,"class","custom-checkbox-inner svelte-l884s9"),A(n,"class","custom-checkbox pr-2 svelte-l884s9"),O(n,"checked",t[1](t[8])),A(i,"class","variant"),A(e,"for",d=t[8]),A(e,"class","flex cursor-pointer py-2")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,c),b(n,r),b(e,l),b(e,i),b(i,a),b(i,u),$&&$.m(i,null),b(e,f),p=N(s,"click",h)},p(e,s){t=e,2&s&&O(n,"checked",t[1](t[8])),1&s&&m!==(m=t[6].variant+"")&&S(a,m),t[6].answer?$||(($=vn()).c(),$.m(i,null)):$&&($.d(1),$=null)},d(t){t&&k(e),$&&$.d(),p()}}}function xn(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=yn(gn(e,s,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=L()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);w(t,n,e)},p(t,[e]){if(7&e){let c;for(s=t[0],c=0;c<s.length;c+=1){const r=gn(t,s,c);o[c]?o[c].p(r,e):(o[c]=yn(r),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},i:t,o:t,d(t){q(o,t),t&&k(n)}}}function bn(t,e,n){let{selected:s}=e,{variants:o}=e;const c=Y();function r(t){void 0!==s?s.includes(t)?c("select",s.filter(e=>e!==t)):c("select",[...s,t]):c("select",[t])}let l;return t.$set=(t=>{"selected"in t&&n(3,s=t.selected),"variants"in t&&n(0,o=t.variants)}),t.$$.update=(()=>{8&t.$$.dirty&&n(1,l=(t=>void 0!==s&&s.includes(t)))}),[o,l,r,s,c,t=>r(t)]}class wn extends qt{constructor(t){super(),kt(this,t,bn,xn,l,{selected:3,variants:0})}}function kn(t,e,n){const s=t.slice();return s[11]=e[n],s[13]=n,s}function qn(t){let e;return{c(){A(e=_("span"),"class","correct-variant")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function _n(t){let e,n,s,o,c,r,l,i,a,u,f,d,p,m,h=t[11].variant+"";function $(...e){return t[10](t[13],...e)}let g=t[11].answer&&qn();return{c(){e=_("label"),n=_("span"),s=_("input"),r=E(),l=_("span"),i=E(),a=_("span"),u=j(h),f=E(),g&&g.c(),d=E(),A(s,"class","radio-input svelte-1qwz5f0"),A(s,"id",o=t[13]),s.value=c=t[13],A(s,"type","radio"),A(l,"class","custom-radio-inner svelte-1qwz5f0"),A(n,"class","custom-radio pr-2 svelte-1qwz5f0"),O(n,"selected",t[13]===t[0]),A(a,"class","variant"),A(e,"for",p=t[13]),A(e,"class","label py-2 svelte-1qwz5f0")},m(t,o){w(t,e,o),b(e,n),b(n,s),b(n,r),b(n,l),b(e,i),b(e,a),b(a,u),b(a,f),g&&g.m(a,null),b(e,d),m=N(s,"click",$)},p(e,s){t=e,1&s&&O(n,"selected",t[13]===t[0]),2&s&&h!==(h=t[11].variant+"")&&S(u,h),t[11].answer?g||((g=qn()).c(),g.m(a,null)):g&&(g.d(1),g=null)},d(t){t&&k(e),g&&g.d(),m()}}}function jn(e){let n,s,o,c,r,l,i=un(e[3],e[2])+"",a=e[1],u=[];for(let t=0;t<a.length;t+=1)u[t]=_n(kn(e,a,t));return{c(){n=_("div"),s=j(e[2]),o=E(),c=_("div");for(let t=0;t<u.length;t+=1)u[t].c();r=E(),l=_("div"),A(n,"class","sentence p-2"),A(c,"class","flex flex-col mt-6"),A(l,"class","mt-4 text-xl text-justify")},m(t,e){w(t,n,e),b(n,s),w(t,o,e),w(t,c,e);for(let t=0;t<u.length;t+=1)u[t].m(c,null);w(t,r,e),w(t,l,e),l.innerHTML=i},p(t,[e]){if(4&e&&S(s,t[2]),19&e){let n;for(a=t[1],n=0;n<a.length;n+=1){const s=kn(t,a,n);u[n]?u[n].p(s,e):(u[n]=_n(s),u[n].c(),u[n].m(c,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}12&e&&i!==(i=un(t[3],t[2])+"")&&(l.innerHTML=i)},i:t,o:t,d(t){t&&k(n),t&&k(o),t&&k(c),q(u,t),t&&k(r),t&&k(l)}}}function En(t,e,n){let{selected:s}=e,{variants:o}=e,{sentence:c}=e,{context:r=""}=e;const l=Y();let i=[],a=[];var u;function f(t){i.forEach((e,n)=>{t===n?(e.classList.add("active"),a[n].classList.remove("hidden"),setTimeout(()=>{a[n].style.opacity="1"},0)):(e.classList.remove("active"),a[n].classList.add("hidden"),a[n].style.opacity="0")})}function d(t){f(t),l("select",t)}function p(t){const e=parseInt(t.target.dataset.index);f(e),l("select",e)}W(()=>{i=document.querySelectorAll(".slot"),(a=document.querySelectorAll(".slot-sentence")).forEach(t=>t.innerHTML=c),i.forEach(t=>{t.addEventListener("click",p)}),s&&(i[s].classList.add("active"),a[s].classList.remove("hidden"),a[s].style.opacity="1")}),u=(()=>{i.forEach(t=>t.removeEventListener("click",p))}),J().$$.on_destroy.push(u);return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"sentence"in t&&n(2,c=t.sentence),"context"in t&&n(3,r=t.context)}),[s,o,c,r,d,i,a,l,f,p,t=>d(t)]}class Ln extends qt{constructor(t){super(),kt(this,t,En,jn,l,{selected:0,variants:1,sentence:2,context:3})}}function Nn(t,e,n){const s=t.slice();return s[9]=e[n].column,s[11]=n,s}function Cn(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function An(t){let e;return{c(){A(e=_("span"),"class","correct-variant svelte-fzh823")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Sn(t){let e,n,s,o,c,r,l,i,a,u,f,d=t[9]+"",p=t[6].answer===t[11]&&An();function m(...e){return t[5](t[8],t[11],...e)}return{c(){e=_("label"),p&&p.c(),n=E(),s=_("span"),o=_("input"),r=E(),l=_("span"),i=j(d),a=E(),A(o,"class","radio-input svelte-fzh823"),A(o,"id",c=t[8]+"-"+t[11]),A(o,"type","radio"),A(s,"class","custom-radio-button svelte-fzh823"),A(e,"class","label svelte-fzh823"),A(e,"for",u=t[8]+"-"+t[11]),O(e,"checked",t[0][t[8]]===t[11])},m(t,c){w(t,e,c),p&&p.m(e,null),b(e,n),b(e,s),b(s,o),b(s,r),b(s,l),b(l,i),b(e,a),f=N(o,"click",m)},p(s,o){(t=s)[6].answer===t[11]?p||((p=An()).c(),p.m(e,n)):p&&(p.d(1),p=null),4&o&&d!==(d=t[9]+"")&&S(i,d),1&o&&O(e,"checked",t[0][t[8]]===t[11])},d(t){t&&k(e),p&&p.d(),f()}}}function Tn(t){let e,n,s,o,c,r,l,i,a=t[8]+1+"",u=t[6].variant+"",f=t[2],d=[];for(let e=0;e<f.length;e+=1)d[e]=Sn(Nn(t,f,e));return{c(){e=_("div"),n=_("span"),s=j(a),o=j(". "),c=j(u),r=E(),l=_("div");for(let t=0;t<d.length;t+=1)d[t].c();i=E(),A(n,"class","pr-4"),A(l,"class","flex"),A(e,"class","lg:flex justify-between pb-4")},m(t,a){w(t,e,a),b(e,n),b(n,s),b(n,o),b(n,c),b(e,r),b(e,l);for(let t=0;t<d.length;t+=1)d[t].m(l,null);b(e,i)},p(t,e){if(2&e&&u!==(u=t[6].variant+"")&&S(c,u),15&e){let n;for(f=t[2],n=0;n<f.length;n+=1){const s=Nn(t,f,n);d[n]?d[n].p(s,e):(d[n]=Sn(s),d[n].c(),d[n].m(l,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}},d(t){t&&k(e),q(d,t)}}}function Mn(e){let n,s=e[1],o=[];for(let t=0;t<s.length;t+=1)o[t]=Tn(Cn(e,s,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=L()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);w(t,n,e)},p(t,[e]){if(15&e){let c;for(s=t[1],c=0;c<s.length;c+=1){const r=Cn(t,s,c);o[c]?o[c].p(r,e):(o[c]=Tn(r),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},i:t,o:t,d(t){q(o,t),t&&k(n)}}}function On(t,e,n){let{selected:s={}}=e,{variants:o}=e,{columns:c}=e;const r=Y();function l(t,e){n(0,s[t]=e,s),r("select",s)}return t.$set=(t=>{"selected"in t&&n(0,s=t.selected),"variants"in t&&n(1,o=t.variants),"columns"in t&&n(2,c=t.columns)}),[s,o,c,l,r,(t,e)=>l(t,e)]}class Hn extends qt{constructor(t){super(),kt(this,t,On,Mn,l,{selected:0,variants:1,columns:2})}}function zn(t){let e,s;const o=[{variants:t[0].variants},t[2],{selected:t[1]}];var c=t[3][t[0].type];function r(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}if(c){var l=new c(r());l.$on("select",t[7])}return{c(){l&&yt(l.$$.fragment),e=L()},m(t,n){l&&xt(l,t,n),w(t,e,n),s=!0},p(t,[n]){const s=7&n?function(t,e){const n={},s={},o={$$scope:1};let c=t.length;for(;c--;){const r=t[c],l=e[c];if(l){for(const t in r)t in l||(s[t]=1);for(const t in l)o[t]||(n[t]=l[t],o[t]=1);t[c]=l}else for(const t in r)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}(o,[1&n&&{variants:t[0].variants},4&n&&(i=t[2],"object"==typeof i&&null!==i?i:{}),2&n&&{selected:t[1]}]):{};var i;if(c!==(c=t[3][t[0].type])){if(l){ft();const t=l;mt(t.$$.fragment,1,0,()=>{bt(t,1)}),dt()}c?((l=new c(r())).$on("select",t[7]),yt(l.$$.fragment),pt(l.$$.fragment,1),xt(l,e.parentNode,e)):l=null}else c&&l.$set(s)},i(t){s||(l&&pt(l.$$.fragment,t),s=!0)},o(t){l&&mt(l.$$.fragment,t),s=!1},d(t){t&&k(e),l&&bt(l,t)}}}function Pn(t,e,n){let{question:s}=e,{selected:o}=e,{context:c}=e;const r={select:rn,word:$n,check:wn,insert:Ln,column:Hn},l={word:"word",insert:"sentence",column:"columns"};function i(t){let e={};return null!==c&&(e.context=c),l[t]&&(e[l[t]]=s[l[t]]),e}let a;return t.$set=(t=>{"question"in t&&n(0,s=t.question),"selected"in t&&n(1,o=t.selected),"context"in t&&n(4,c=t.context)}),t.$$.update=(()=>{1&t.$$.dirty&&n(2,a=i(s.type))}),[s,o,a,r,c,l,i,function(e){Q(t,e)}]}class Dn extends qt{constructor(t){super(),kt(this,t,Pn,zn,l,{question:0,selected:1,context:4})}}const In=Jt("app-answers",{}),Rn=(t,e)=>{a(In).title!==t&&In.set({title:t,lesson:e})},Fn=([t,e])=>{In.update(n=>({...n,[t]:e}))},Un=t=>{if(void 0===t)return void console.error("`questionsCount` is not defined");const e=a(In),n=[],s=o=>o===t?n:(e.hasOwnProperty(o)||n.push(o),s(o+1));return s(0)},Bn=()=>{In.set({})};function Jn(e){let n,s,o,c,r,l,i=e[4]&&Yn(e),a=!e[5]&&Qn();return{c(){(n=_("h1")).textContent="Finish test",s=E(),(o=_("p")).textContent="You are close to finish the test and send rezults.",c=E(),i&&i.c(),r=E(),a&&a.c(),l=L(),A(n,"class","text-black text-xl mb-6"),A(o,"class","")},m(t,e){w(t,n,e),w(t,s,e),w(t,o,e),w(t,c,e),i&&i.m(t,e),w(t,r,e),a&&a.m(t,e),w(t,l,e)},p(t,e){t[4]?i?i.p(t,e):((i=Yn(t)).c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null),t[5]?a&&(a.d(1),a=null):a||((a=Qn()).c(),a.m(l.parentNode,l))},i:t,o:t,d(t){t&&k(n),t&&k(s),t&&k(o),t&&k(c),i&&i.d(t),t&&k(r),a&&a.d(t),t&&k(l)}}}function Wn(t){let e,n,s,o,c=t[0].title+"";const r=new Dn({props:{selected:t[6],question:t[0],context:t[2]}});return r.$on("select",t[13]),{c(){e=_("h1"),n=j(c),s=E(),yt(r.$$.fragment),A(e,"class","text-black text-xl mb-6")},m(t,c){w(t,e,c),b(e,n),w(t,s,c),xt(r,t,c),o=!0},p(t,e){(!o||1&e)&&c!==(c=t[0].title+"")&&S(n,c);const s={};64&e&&(s.selected=t[6]),1&e&&(s.question=t[0]),4&e&&(s.context=t[2]),r.$set(s)},i(t){o||(pt(r.$$.fragment,t),o=!0)},o(t){mt(r.$$.fragment,t),o=!1},d(t){t&&k(e),t&&k(s),bt(r,t)}}}function Yn(t){let e,n,s,o=t[4].map(Xn).join(" , ")+"";return{c(){e=_("p"),n=j("Not answered questions: "),s=j(o)},m(t,o){w(t,e,o),b(e,n),b(e,s)},p(t,e){16&e&&o!==(o=t[4].map(Xn).join(" , ")+"")&&S(s,o)},d(t){t&&k(e)}}}function Qn(t){let e;return{c(){(e=_("p")).textContent="You did not answer more than half."},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Vn(t){let e;return{c(){e=j("Previous")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Gn(t){let e,n=t[3]===t[1]?"Send":"Next";return{c(){e=j(n)},m(t,n){w(t,e,n)},p(t,s){10&s&&n!==(n=t[3]===t[1]?"Send":"Next")&&S(e,n)},d(t){t&&k(e)}}}function Kn(t){let e,n,s,o,c,l,i;const a=[Wn,Jn],u=[];function f(t,e){return t[3]<t[1]?0:1}n=f(t),s=u[n]=a[n](t);const d=new It({props:{type:"secondary",disabled:0===t[3],$$slots:{default:[Vn]},$$scope:{ctx:t}}});d.$on("click",t[9]);const p=new It({props:{type:"primary",disabled:t[3]===t[1]&&!t[5],$$slots:{default:[Gn]},$$scope:{ctx:t}}});return p.$on("click",function(){r(t[3]===t[1]?t[10]:t[8])&&(t[3]===t[1]?t[10]:t[8]).apply(this,arguments)}),{c(){e=_("div"),s.c(),o=E(),c=_("div"),yt(d.$$.fragment),l=E(),yt(p.$$.fragment),A(e,"class","container rounded border bg-white p-8"),A(c,"class","flex p-8 justify-center md:justify-end")},m(t,s){w(t,e,s),u[n].m(e,null),w(t,o,s),w(t,c,s),xt(d,c,null),b(c,l),xt(p,c,null),i=!0},p(o,[c]){let r=n;(n=f(t=o))===r?u[n].p(t,c):(ft(),mt(u[r],1,1,()=>{u[r]=null}),dt(),(s=u[n])||(s=u[n]=a[n](t)).c(),pt(s,1),s.m(e,null));const l={};8&c&&(l.disabled=0===t[3]),16384&c&&(l.$$scope={dirty:c,ctx:t}),d.$set(l);const i={};42&c&&(i.disabled=t[3]===t[1]&&!t[5]),16394&c&&(i.$$scope={dirty:c,ctx:t}),p.$set(i)},i(t){i||(pt(s),pt(d.$$.fragment,t),pt(p.$$.fragment,t),i=!0)},o(t){mt(s),mt(d.$$.fragment,t),mt(p.$$.fragment,t),i=!1},d(t){t&&k(e),u[n].d(),t&&k(o),t&&k(c),bt(d),bt(p)}}}const Xn=t=>t+1;function Zn(t,e,n){let{question:s={}}=e,{questionsCount:o}=e,{context:c}=e,{active:r}=e,{answers:l}=e;const i=Y();let a,u=!1;function f(t){i("select",{newAnswer:[r,t]})}let d;return t.$set=(t=>{"question"in t&&n(0,s=t.question),"questionsCount"in t&&n(1,o=t.questionsCount),"context"in t&&n(2,c=t.context),"active"in t&&n(3,r=t.active),"answers"in t&&n(11,l=t.answers)}),t.$$.update=(()=>{2056&t.$$.dirty&&n(6,d=l[r]),26&t.$$.dirty&&r===o&&(n(4,a=Un(o)),n(5,u=o/a.length>2))}),[s,o,c,r,a,u,d,f,function(){i("click",{newActive:r+1})},function(){i("click",{newActive:r-1})},function(){i("send")},l,i,t=>f(t.detail)]}class ts extends qt{constructor(t){super(),kt(this,t,Zn,Kn,l,{question:0,questionsCount:1,context:2,active:3,answers:11})}}function es(t,e,n){const s=t.slice();return s[10]=e[n],s[12]=n,s}function ns(e){let n,s;return{c(){(n=_("span")).innerHTML='<i class="icon-check"></i>',A(n,"class","icon")},m(t,e){w(t,n,e)},i(t){s||et(()=>{(s=$t(n,Ft,{duration:300})).start()})},o:t,d(t){t&&k(n)}}}function ss(e,n){let s,o,c,r,l,i,a,u,f,d,p,m=n[12]+1+"",h=n[4](n[10].title)+"",$=n[3](n[12]),g=$&&ns();function v(...t){return n[8](n[12],...t)}return{key:e,first:null,c(){s=_("a"),o=_("span"),c=j(m),r=E(),l=_("span"),i=j(h),a=j("..."),u=E(),f=_("span"),g&&g.c(),A(o,"class","px-2"),A(f,"class","check mr-2 svelte-kx3qma"),A(s,"class","item svelte-kx3qma"),A(s,"href",d="/#"+n[12]),O(s,"active",n[12]===n[2]),this.first=s},m(t,e){w(t,s,e),b(s,o),b(o,c),b(s,r),b(s,l),b(l,i),b(l,a),b(s,u),b(s,f),g&&g.m(f,null),p=N(s,"click",C(v))},p(t,e){n=t,2&e&&m!==(m=n[12]+1+"")&&S(c,m),2&e&&h!==(h=n[4](n[10].title)+"")&&S(i,h),10&e&&($=n[3](n[12])),$?g?pt(g,1):((g=ns()).c(),pt(g,1),g.m(f,null)):g&&(g.d(1),g=null),2&e&&d!==(d="/#"+n[12])&&A(s,"href",d),6&e&&O(s,"active",n[12]===n[2])},i(t){pt(g)},o:t,d(t){t&&k(s),g&&g.d(),p()}}}function os(e){let n,s,o,c,r,l,i,a,u=[],f=new Map,d=e[1];const p=t=>t[12];for(let t=0;t<d.length;t+=1){let n=es(e,d,t),s=p(n);f.set(s,u[t]=ss(s,n))}return{c(){n=_("div"),s=_("div"),o=j(e[0]),c=E(),r=_("div");for(let t=0;t<u.length;t+=1)u[t].c();l=E(),(i=_("a")).innerHTML='<span class="pl-2">Finish test</span>',A(s,"class","border-t border-b px-4 py-2"),A(i,"class","item svelte-kx3qma"),A(i,"href","/#last"),O(i,"active",e[2]===e[1].length),A(r,"class","pr-2 pl-2 py-2"),A(n,"class","questions-list")},m(t,f){w(t,n,f),b(n,s),b(s,o),b(n,c),b(n,r);for(let t=0;t<u.length;t+=1)u[t].m(r,null);b(r,l),b(r,i),a=N(i,"click",C(e[9]))},p(t,[e]){1&e&&S(o,t[0]);const n=t[1];u=function(t,e,n,s,o,c,r,l,i,a,u,f){let d=t.length,p=c.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const $=[],g=new Map,v=new Map;for(m=p;m--;){const t=f(o,c,m),l=n(t);let i=r.get(l);i?s&&i.p(t,e):(i=a(l,t)).c(),g.set(l,$[m]=i),l in h&&v.set(l,Math.abs(m-h[l]))}const y=new Set,x=new Set;function b(t){pt(t,1),t.m(l,u),r.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=$[p-1],n=t[d-1],s=e.key,o=n.key;e===n?(u=e.first,d--,p--):g.has(o)?!r.has(s)||y.has(s)?b(e):x.has(o)?d--:v.get(s)>v.get(o)?(x.add(s),b(e)):(y.add(o),d--):(i(n,r),d--)}for(;d--;){const e=t[d];g.has(e.key)||i(e,r)}for(;p;)b($[p-1]);return $}(u,e,p,1,t,n,f,r,vt,ss,l,es),6&e&&O(i,"active",t[2]===t[1].length)},i(t){for(let t=0;t<d.length;t+=1)pt(u[t])},o:t,d(t){t&&k(n);for(let t=0;t<u.length;t+=1)u[t].d();a()}}}function cs(t,e,n){let{title:s}=e,{nav:o=[]}=e,{active:c}=e,{answers:r}=e;const l=Y();function i(t){l("click",{newActive:t})}let a;return t.$set=(t=>{"title"in t&&n(0,s=t.title),"nav"in t&&n(1,o=t.nav),"active"in t&&n(2,c=t.active),"answers"in t&&n(6,r=t.answers)}),t.$$.update=(()=>{64&t.$$.dirty&&n(3,a=(t=>r.hasOwnProperty(t)))}),[s,o,c,a,t=>t.split(" ").slice(0,6).join(" "),i,r,l,t=>i(t),()=>i(o.length)]}class rs extends qt{constructor(t){super(),kt(this,t,cs,os,l,{title:0,nav:1,active:2,answers:6})}}const ls="./data/tests/",is="https://gila.cf/mvp/test";async function as(t,e=!1){const n=ls+t+".json",s=await fetch(n);if(!s.ok)throw new Error(s.status);let o=function(t){return{...t,fragments:ln(t.context,t.questions.length)}}(await s.json());return e||(o=function(t){const e=t.questions.map(({variants:t,...e})=>({variants:t.map(({variant:t,answer:e})=>({variant:t})),...e}));return{...t,questions:e}}(o)),o}async function us(t,e){const n=new Headers;n.append("Content-Type","application/x-www-form-urlencoded");const s={testId:+new Date,date:(new Date).toString(),login:e,...t};var o;const c={method:"POST",redirect:"follow",headers:n,body:(o=s,Object.keys(o).map(t=>"object"==typeof o[t]?`${t}=${JSON.stringify(o[t])}`:`${t}=${o[t]}`).join("&"))},r=await fetch(is,c);if(!r.ok)throw new Error(r.status);return await r.text()}function fs(t){let e;const n=new me({props:{$$slots:{default:[hs],main:[ms],sidebar:[ps]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,e){const s={};1063&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){bt(n,t)}}}function ds(t){let e,n;return{c(){(e=_("span")).innerHTML='<i class="icon-arrow-left"></i>',n=j("  \n          Back"),A(e,"class","icon pr-2")},m(t,s){w(t,e,s),w(t,n,s)},d(t){t&&k(e),t&&k(n)}}}function ps(t){let e,n,s,o,c,r,l,i,a,u=t[0].lesson+"";const f=new It({props:{type:"link",$$slots:{default:[ds]},$$scope:{ctx:t}}});f.$on("click",Mt);const d=new rs({props:{active:t[2],answers:t[5],nav:t[1].questions,title:t[1].title}});return d.$on("click",t[6]),{c(){e=_("div"),n=_("div"),yt(f.$$.fragment),s=E(),o=_("div"),c=_("div"),r=j(u),l=j(" plan"),i=E(),yt(d.$$.fragment),A(n,"class","sidebar-panel px-4 py-2 mb-6"),A(c,"class","font-semibold capitalize text-black px-4 py-2"),A(o,"class","sidebar-panel"),A(e,"slot","sidebar")},m(t,u){w(t,e,u),b(e,n),xt(f,n,null),b(e,s),b(e,o),b(o,c),b(c,r),b(c,l),b(o,i),xt(d,o,null),a=!0},p(t,e){const n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),f.$set(n),(!a||1&e)&&u!==(u=t[0].lesson+"")&&S(r,u);const s={};4&e&&(s.active=t[2]),32&e&&(s.answers=t[5]),2&e&&(s.nav=t[1].questions),2&e&&(s.title=t[1].title),d.$set(s)},i(t){a||(pt(f.$$.fragment,t),pt(d.$$.fragment,t),a=!0)},o(t){mt(f.$$.fragment,t),mt(d.$$.fragment,t),a=!1},d(t){t&&k(e),bt(f),bt(d)}}}function ms(t){let e,n;const s=new ts({props:{active:t[2],answers:t[5],question:t[1].questions[t[2]],context:t[1].fragments[t[2]],questionsCount:t[1].questions.length}});return s.$on("click",t[6]),s.$on("select",ys),s.$on("send",t[7]),{c(){e=_("div"),yt(s.$$.fragment),A(e,"slot","main")},m(t,o){w(t,e,o),xt(s,e,null),n=!0},p(t,e){const n={};4&e&&(n.active=t[2]),32&e&&(n.answers=t[5]),6&e&&(n.question=t[1].questions[t[2]]),6&e&&(n.context=t[1].fragments[t[2]]),2&e&&(n.questionsCount=t[1].questions.length),s.$set(n)},i(t){n||(pt(s.$$.fragment,t),n=!0)},o(t){mt(s.$$.fragment,t),n=!1},d(t){t&&k(e),bt(s)}}}function hs(e){let n;return{c(){n=E()},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}function $s(t){let e;const n=new tn({props:{$$slots:{default:[gs]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,e){const s={};1032&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){bt(n,t)}}}function gs(t){let e;return{c(){e=new z(t[3],null)},m(t,n){e.m(t,n)},p(t,n){8&n&&e.p(t[3])},d(t){t&&e.d()}}}function vs(t){let e,n,s,o=t[1]&&fs(t),c=t[4]&&$s(t);return{c(){o&&o.c(),e=E(),c&&c.c(),n=L()},m(t,r){o&&o.m(t,r),w(t,e,r),c&&c.m(t,r),w(t,n,r),s=!0},p(t,[s]){t[1]?o?(o.p(t,s),pt(o,1)):((o=fs(t)).c(),pt(o,1),o.m(e.parentNode,e)):o&&(ft(),mt(o,1,1,()=>{o=null}),dt()),t[4]?c?(c.p(t,s),pt(c,1)):((c=$s(t)).c(),pt(c,1),c.m(n.parentNode,n)):c&&(ft(),mt(c,1,1,()=>{c=null}),dt())},i(t){s||(pt(o),pt(c),s=!0)},o(t){mt(o),mt(c),s=!1},d(t){o&&o.d(t),t&&k(e),c&&c.d(t),t&&k(n)}}}function ys({detail:t}){Fn(t.newAnswer)}function xs(t,e,n){let s,o;u(t,Yt,t=>n(8,s=t)),u(t,In,t=>n(5,o=t));let c,r,{params:l={}}=e,i=0,a=!1;async function f(t){await new Promise(e=>{n(3,r=t),n(4,a=!0),setTimeout(e,2500)}),await new Promise(t=>{n(4,a=!1),setTimeout(t,300)})}return W(async()=>{const t="teacher"===s.role;n(1,c=await as(l.test,t)),Rn(c.title,l.lesson)}),t.$set=(t=>{"params"in t&&n(0,l=t.params)}),[l,c,i,r,a,o,function({detail:t}){n(2,i=t.newActive)},function(){document.body.classList.add("pointer-events-none"),(async()=>{try{await Promise.all([f("<span class='icon'><i class='icon-loading'></i></span>Test is sending..."),us(o,s.login)]),await f("Congratulations! Test results successfully send!"),Bn(),Mt()}catch(t){await f("Sending is failed! Please, try again.")}})(),document.body.classList.remove("pointer-events-none")}]}function bs(t){let e,n,s,o,c,r,l;return{c(){e=_("div"),n=j("NotFound\n    "),s=_("br"),o=j("\n    Start "),(c=_("a")).textContent="here",A(c,"href","/home"),A(c,"class","text-primary"),A(e,"slot","main")},m(t,i){w(t,e,i),b(e,n),b(e,s),b(e,o),b(e,c),l=m(r=Ot.call(null,c))},d(t){t&&k(e),l()}}}function ws(e){return{c:t,m:t,p:t,d:t}}function ks(t){let e;const n=new me({props:{$$slots:{default:[ws],main:[bs]},$$scope:{ctx:t}}});return{c(){yt(n.$$.fragment)},m(t,s){xt(n,t,s),e=!0},p(t,[e]){const s={};1&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(pt(n.$$.fragment,t),e=!0)},o(t){mt(n.$$.fragment,t),e=!1},d(t){bt(n,t)}}}const qs={"/":class extends qt{constructor(t){super(),kt(this,t,le,re,l,{})}},"/:lesson":class extends qt{constructor(t){super(),kt(this,t,Ke,Ve,l,{params:0})}},"/:lesson/:test":class extends qt{constructor(t){super(),kt(this,t,xs,vs,l,{params:0})}},"*":class extends qt{constructor(t){super(),kt(this,t,null,ks,l,{})}}};function _s(e){let n;const s=new zt({props:{routes:qs}});return s.$on("routeLoaded",js),{c(){yt(s.$$.fragment)},m(t,e){xt(s,t,e),n=!0},p:t,i(t){n||(pt(s.$$.fragment,t),n=!0)},o(t){mt(s.$$.fragment,t),n=!1},d(t){bt(s,t)}}}function js(){ne()||Tt("/")}function Es(t){return[]}return new class extends qt{constructor(t){super(),kt(this,t,Es,_s,l,{})}}({target:document.querySelector("#app")})}();
//# sourceMappingURL=bundle.js.map
